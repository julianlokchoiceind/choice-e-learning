"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_services_achievements_ts";
exports.ids = ["_rsc_src_services_achievements_ts"];
exports.modules = {

/***/ "(rsc)/./src/services/achievements.ts":
/*!**************************************!*\
  !*** ./src/services/achievements.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkAndAwardAchievements: () => (/* binding */ checkAndAwardAchievements),\n/* harmony export */   createAchievement: () => (/* binding */ createAchievement),\n/* harmony export */   getUserAchievements: () => (/* binding */ getUserAchievements)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/action-encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_db_prisma_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db/prisma-helper */ \"(rsc)/./src/lib/db/prisma-helper.ts\");\n/* harmony import */ var _types_achievement__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/types/achievement */ \"(rsc)/./src/types/achievement/index.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"346d3948bb54496414ac11ffe007a95bcc0ada67\":\"getUserAchievements\",\"bc267e40bccb015e6b0a6920c9226658810c2a22\":\"checkAndAwardAchievements\",\"d19bb8b7980f79348c3a6a62c6c3b436873341b7\":\"createAchievement\"} */ \n\n\n\n\n/**\n * Get all achievements for a user\n */ async function getUserAchievements(userId) {\n    try {\n        if (!userId) {\n            console.warn(\"getUserAchievements called with empty userId\");\n            return [];\n        }\n        // Use safeFindMany instead of direct prisma call\n        const achievements = await (0,_lib_db_prisma_helper__WEBPACK_IMPORTED_MODULE_3__.safeFindMany)(_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].achievement, {\n            where: {\n                userId\n            }\n        });\n        if (!achievements || !Array.isArray(achievements)) {\n            console.warn(\"No achievements found or invalid response format\");\n            return [];\n        }\n        return achievements.map((achievement)=>({\n                id: achievement.id,\n                userId: achievement.userId,\n                title: achievement.title,\n                description: achievement.description,\n                icon: achievement.icon,\n                earnedAt: achievement.earnedAt,\n                type: achievement.type\n            }));\n    } catch (error) {\n        console.error(\"Error fetching user achievements:\", error);\n        return [];\n    }\n}\n/**\n * Create a new achievement for a user\n */ async function createAchievement(userId, type, title, description, icon) {\n    try {\n        if (!userId || !type) {\n            console.warn(\"createAchievement called with missing parameters\");\n            return null;\n        }\n        // Check if user already has this achievement using safeFindFirst\n        const existingAchievement = await (0,_lib_db_prisma_helper__WEBPACK_IMPORTED_MODULE_3__.safeFindFirst)(_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].achievement, {\n            where: {\n                userId,\n                type\n            }\n        });\n        if (existingAchievement) {\n            // User already has this achievement, return it\n            return {\n                id: existingAchievement.id,\n                userId: existingAchievement.userId,\n                title: existingAchievement.title,\n                description: existingAchievement.description,\n                icon: existingAchievement.icon,\n                earnedAt: existingAchievement.earnedAt,\n                type: existingAchievement.type\n            };\n        }\n        // Create new achievement using safeCreate\n        const now = new Date();\n        const achievement = await (0,_lib_db_prisma_helper__WEBPACK_IMPORTED_MODULE_3__.safeCreate)(_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].achievement, {\n            data: {\n                userId,\n                type,\n                title,\n                description,\n                icon,\n                earnedAt: now\n            }\n        });\n        return {\n            id: achievement.id,\n            userId,\n            title,\n            description,\n            icon,\n            earnedAt: now,\n            type\n        };\n    } catch (error) {\n        console.error(\"Error creating achievement:\", error);\n        return null;\n    }\n}\n/**\n * Check and award achievements for a user\n */ async function checkAndAwardAchievements(userId) {\n    try {\n        // Use safeFindUnique instead of direct prisma call\n        const user = await (0,_lib_db_prisma_helper__WEBPACK_IMPORTED_MODULE_3__.safeFindUnique)(_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user, {\n            where: {\n                id: userId\n            },\n            include: {\n                enrolledIn: true\n            }\n        });\n        if (!user) {\n            return [];\n        }\n        const newAchievements = [];\n        // First login achievement\n        const firstLoginAchievement = await createAchievement(userId, _types_achievement__WEBPACK_IMPORTED_MODULE_4__.AchievementType.FIRST_LOGIN, \"First Login\", \"You logged into the platform for the first time.\", \"login\");\n        if (firstLoginAchievement) {\n            newAchievements.push(firstLoginAchievement);\n        }\n        // Check for course started achievement\n        if (user.enrolledIn && user.enrolledIn.length > 0) {\n            const courseStartedAchievement = await createAchievement(userId, _types_achievement__WEBPACK_IMPORTED_MODULE_4__.AchievementType.COURSE_STARTED, \"Course Starter\", \"You enrolled in your first course.\", \"course\");\n            if (courseStartedAchievement) {\n                newAchievements.push(courseStartedAchievement);\n            }\n        }\n        // Check for course completion achievement\n        const userProgress = await (0,_lib_db_prisma_helper__WEBPACK_IMPORTED_MODULE_3__.safeFindMany)(_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].userProgress, {\n            where: {\n                userId\n            }\n        });\n        if (userProgress.length > 0) {\n            // Get all courses enrolled in\n            const enrolledCourseIds = user.enrolledIds || [];\n            // Get all lessons for these courses using safeFindMany\n            const lessons = await (0,_lib_db_prisma_helper__WEBPACK_IMPORTED_MODULE_3__.safeFindMany)(_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson, {\n                where: {\n                    courseId: {\n                        in: enrolledCourseIds\n                    }\n                }\n            });\n            // Group lessons by courseId\n            const courseLessons = {};\n            if (lessons && Array.isArray(lessons)) {\n                for (const lesson of lessons){\n                    if (!courseLessons[lesson.courseId]) {\n                        courseLessons[lesson.courseId] = 0;\n                    }\n                    courseLessons[lesson.courseId]++;\n                }\n            }\n            // Count completed lessons per course\n            const courseProgress = {};\n            if (userProgress && Array.isArray(userProgress)) {\n                for (const progress of userProgress){\n                    if (progress.completed) {\n                        if (!courseProgress[progress.courseId]) {\n                            courseProgress[progress.courseId] = 0;\n                        }\n                        courseProgress[progress.courseId]++;\n                    }\n                }\n            }\n            // Check if any course is completed\n            for (const [courseId, completedCount] of Object.entries(courseProgress)){\n                const totalLessons = courseLessons[courseId] || 0;\n                if (totalLessons > 0 && completedCount >= totalLessons) {\n                    const courseCompletedAchievement = await createAchievement(userId, _types_achievement__WEBPACK_IMPORTED_MODULE_4__.AchievementType.COURSE_COMPLETED, \"Course Completer\", \"You completed your first course.\", \"certificate\");\n                    if (courseCompletedAchievement) {\n                        newAchievements.push(courseCompletedAchievement);\n                    }\n                    break; // Only need one course completed for the achievement\n                }\n            }\n            // Quick Learner achievement - X lessons in Y days\n            const completedLessons = userProgress && Array.isArray(userProgress) ? userProgress.filter((p)=>p.completed) : [];\n            const completedLessonCount = completedLessons.length;\n            if (completedLessonCount >= 10) {\n                const completedDates = completedLessons.filter((p)=>p.completedAt).map((p)=>p.completedAt).sort((a, b)=>a.getTime() - b.getTime());\n                if (completedDates.length > 0) {\n                    const firstCompletionDate = completedDates[0];\n                    const daysSinceFirstCompletion = Math.floor((Date.now() - firstCompletionDate.getTime()) / (1000 * 60 * 60 * 24));\n                    if (daysSinceFirstCompletion <= 7) {\n                        const quickLearnerAchievement = await createAchievement(userId, _types_achievement__WEBPACK_IMPORTED_MODULE_4__.AchievementType.QUICK_LEARNER, \"Quick Learner\", \"You completed 10 lessons within a week.\", \"speed\");\n                        if (quickLearnerAchievement) {\n                            newAchievements.push(quickLearnerAchievement);\n                        }\n                    }\n                }\n            }\n        }\n        // Note: For streak achievement, we'd need to modify the User model to include loginHistory\n        // This is currently not in the Prisma schema, so it's omitted from the refactored version\n        return newAchievements;\n    } catch (error) {\n        console.error(\"Error checking and awarding achievements:\", error);\n        return [];\n    }\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__.ensureServerEntryExports)([\n    getUserAchievements,\n    createAchievement,\n    checkAndAwardAchievements\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"346d3948bb54496414ac11ffe007a95bcc0ada67\", getUserAchievements);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"d19bb8b7980f79348c3a6a62c6c3b436873341b7\", createAchievement);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"bc267e40bccb015e6b0a6920c9226658810c2a22\", checkAndAwardAchievements);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWV4QixNQUFNLEdBQUcsR0FBRztvQkFDN0IsTUFBTThCLHNCQUFzQk4sY0FBYyxDQUFDLEVBQUU7b0JBQzdDLE1BQU1PLDJCQUEyQkMsS0FBS0MsS0FBSyxDQUN6QyxDQUFDM0MsS0FBS0QsR0FBRyxLQUFLeUMsb0JBQW9CRCxPQUFPLEVBQUMsSUFBTSxRQUFPLEtBQUssS0FBSyxFQUFDO29CQUdwRSxJQUFJRSw0QkFBNEIsR0FBRzt3QkFDakMsTUFBTUcsMEJBQTBCLE1BQU0vQyxrQkFDcENoQixRQUNBRiwrREFBZUEsQ0FBQ2tFLGFBQWEsRUFDN0IsaUJBQ0EsMkNBQ0E7d0JBR0YsSUFBSUQseUJBQXlCOzRCQUMzQnRDLGdCQUFnQkcsSUFBSSxDQUFDbUM7d0JBQ3ZCO29CQUNGO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLDJGQUEyRjtRQUMzRiwwRkFBMEY7UUFFMUYsT0FBT3RDO0lBQ1QsRUFBRSxPQUFPVixPQUFPO1FBQ2RkLFFBQVFjLEtBQUssQ0FBQyw2Q0FBNkNBO1FBQzNELE9BQU8sRUFBRTtJQUNYO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9zZXJ2aWNlcy9hY2hpZXZlbWVudHMudHM/YjNmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHByaXNtYSBmcm9tICdAL2xpYi9kYic7XG5pbXBvcnQgeyBzYWZlRmluZE1hbnksIHNhZmVGaW5kRmlyc3QsIHNhZmVGaW5kVW5pcXVlLCBzYWZlQ3JlYXRlIH0gZnJvbSAnQC9saWIvZGIvcHJpc21hLWhlbHBlcic7XG5pbXBvcnQgeyBVc2VyQWNoaWV2ZW1lbnQsIEFjaGlldmVtZW50VHlwZSwgQ3JlYXRlQWNoaWV2ZW1lbnRQYXJhbXMgfSBmcm9tICdAL3R5cGVzL2FjaGlldmVtZW50JztcblxuLyoqXG4gKiBHZXQgYWxsIGFjaGlldmVtZW50cyBmb3IgYSB1c2VyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQWNoaWV2ZW1lbnRzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyQWNoaWV2ZW1lbnRbXT4ge1xuICB0cnkge1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2dldFVzZXJBY2hpZXZlbWVudHMgY2FsbGVkIHdpdGggZW1wdHkgdXNlcklkJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gVXNlIHNhZmVGaW5kTWFueSBpbnN0ZWFkIG9mIGRpcmVjdCBwcmlzbWEgY2FsbFxuICAgIGNvbnN0IGFjaGlldmVtZW50cyA9IGF3YWl0IHNhZmVGaW5kTWFueShwcmlzbWEuYWNoaWV2ZW1lbnQsIHtcbiAgICAgIHdoZXJlOiB7IHVzZXJJZCB9XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCFhY2hpZXZlbWVudHMgfHwgIUFycmF5LmlzQXJyYXkoYWNoaWV2ZW1lbnRzKSkge1xuICAgICAgY29uc29sZS53YXJuKCdObyBhY2hpZXZlbWVudHMgZm91bmQgb3IgaW52YWxpZCByZXNwb25zZSBmb3JtYXQnKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGFjaGlldmVtZW50cy5tYXAoYWNoaWV2ZW1lbnQgPT4gKHtcbiAgICAgIGlkOiBhY2hpZXZlbWVudC5pZCxcbiAgICAgIHVzZXJJZDogYWNoaWV2ZW1lbnQudXNlcklkLFxuICAgICAgdGl0bGU6IGFjaGlldmVtZW50LnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IGFjaGlldmVtZW50LmRlc2NyaXB0aW9uLFxuICAgICAgaWNvbjogYWNoaWV2ZW1lbnQuaWNvbixcbiAgICAgIGVhcm5lZEF0OiBhY2hpZXZlbWVudC5lYXJuZWRBdCxcbiAgICAgIHR5cGU6IGFjaGlldmVtZW50LnR5cGUgYXMgQWNoaWV2ZW1lbnRUeXBlLFxuICAgIH0pKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGFjaGlldmVtZW50czonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGFjaGlldmVtZW50IGZvciBhIHVzZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFjaGlldmVtZW50KFxuICB1c2VySWQ6IHN0cmluZyxcbiAgdHlwZTogQWNoaWV2ZW1lbnRUeXBlLFxuICB0aXRsZTogc3RyaW5nLFxuICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICBpY29uOiBzdHJpbmdcbik6IFByb21pc2U8VXNlckFjaGlldmVtZW50IHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGlmICghdXNlcklkIHx8ICF0eXBlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2NyZWF0ZUFjaGlldmVtZW50IGNhbGxlZCB3aXRoIG1pc3NpbmcgcGFyYW1ldGVycycpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBoYXMgdGhpcyBhY2hpZXZlbWVudCB1c2luZyBzYWZlRmluZEZpcnN0XG4gICAgY29uc3QgZXhpc3RpbmdBY2hpZXZlbWVudCA9IGF3YWl0IHNhZmVGaW5kRmlyc3QocHJpc21hLmFjaGlldmVtZW50LCB7XG4gICAgICB3aGVyZToge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIHR5cGVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmdBY2hpZXZlbWVudCkge1xuICAgICAgLy8gVXNlciBhbHJlYWR5IGhhcyB0aGlzIGFjaGlldmVtZW50LCByZXR1cm4gaXRcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBleGlzdGluZ0FjaGlldmVtZW50LmlkLFxuICAgICAgICB1c2VySWQ6IGV4aXN0aW5nQWNoaWV2ZW1lbnQudXNlcklkLFxuICAgICAgICB0aXRsZTogZXhpc3RpbmdBY2hpZXZlbWVudC50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGV4aXN0aW5nQWNoaWV2ZW1lbnQuZGVzY3JpcHRpb24sXG4gICAgICAgIGljb246IGV4aXN0aW5nQWNoaWV2ZW1lbnQuaWNvbixcbiAgICAgICAgZWFybmVkQXQ6IGV4aXN0aW5nQWNoaWV2ZW1lbnQuZWFybmVkQXQsXG4gICAgICAgIHR5cGU6IGV4aXN0aW5nQWNoaWV2ZW1lbnQudHlwZSBhcyBBY2hpZXZlbWVudFR5cGUsXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgbmV3IGFjaGlldmVtZW50IHVzaW5nIHNhZmVDcmVhdGVcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGFjaGlldmVtZW50ID0gYXdhaXQgc2FmZUNyZWF0ZShwcmlzbWEuYWNoaWV2ZW1lbnQsIHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICB0eXBlLFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIGljb24sXG4gICAgICAgIGVhcm5lZEF0OiBub3dcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGFjaGlldmVtZW50LmlkLFxuICAgICAgdXNlcklkLFxuICAgICAgdGl0bGUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGljb24sXG4gICAgICBlYXJuZWRBdDogbm93LFxuICAgICAgdHlwZSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGFjaGlldmVtZW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGFuZCBhd2FyZCBhY2hpZXZlbWVudHMgZm9yIGEgdXNlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tBbmRBd2FyZEFjaGlldmVtZW50cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlckFjaGlldmVtZW50W10+IHtcbiAgdHJ5IHtcbiAgICAvLyBVc2Ugc2FmZUZpbmRVbmlxdWUgaW5zdGVhZCBvZiBkaXJlY3QgcHJpc21hIGNhbGxcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgc2FmZUZpbmRVbmlxdWUocHJpc21hLnVzZXIsIHtcbiAgICAgIHdoZXJlOiB7IGlkOiB1c2VySWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgZW5yb2xsZWRJbjogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBuZXdBY2hpZXZlbWVudHM6IFVzZXJBY2hpZXZlbWVudFtdID0gW107XG4gICAgXG4gICAgLy8gRmlyc3QgbG9naW4gYWNoaWV2ZW1lbnRcbiAgICBjb25zdCBmaXJzdExvZ2luQWNoaWV2ZW1lbnQgPSBhd2FpdCBjcmVhdGVBY2hpZXZlbWVudChcbiAgICAgIHVzZXJJZCxcbiAgICAgIEFjaGlldmVtZW50VHlwZS5GSVJTVF9MT0dJTixcbiAgICAgICdGaXJzdCBMb2dpbicsXG4gICAgICAnWW91IGxvZ2dlZCBpbnRvIHRoZSBwbGF0Zm9ybSBmb3IgdGhlIGZpcnN0IHRpbWUuJyxcbiAgICAgICdsb2dpbidcbiAgICApO1xuICAgIFxuICAgIGlmIChmaXJzdExvZ2luQWNoaWV2ZW1lbnQpIHtcbiAgICAgIG5ld0FjaGlldmVtZW50cy5wdXNoKGZpcnN0TG9naW5BY2hpZXZlbWVudCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGZvciBjb3Vyc2Ugc3RhcnRlZCBhY2hpZXZlbWVudFxuICAgIGlmICh1c2VyLmVucm9sbGVkSW4gJiYgdXNlci5lbnJvbGxlZEluLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNvdXJzZVN0YXJ0ZWRBY2hpZXZlbWVudCA9IGF3YWl0IGNyZWF0ZUFjaGlldmVtZW50KFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIEFjaGlldmVtZW50VHlwZS5DT1VSU0VfU1RBUlRFRCxcbiAgICAgICAgJ0NvdXJzZSBTdGFydGVyJyxcbiAgICAgICAgJ1lvdSBlbnJvbGxlZCBpbiB5b3VyIGZpcnN0IGNvdXJzZS4nLFxuICAgICAgICAnY291cnNlJ1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGNvdXJzZVN0YXJ0ZWRBY2hpZXZlbWVudCkge1xuICAgICAgICBuZXdBY2hpZXZlbWVudHMucHVzaChjb3Vyc2VTdGFydGVkQWNoaWV2ZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgY291cnNlIGNvbXBsZXRpb24gYWNoaWV2ZW1lbnRcbiAgICBjb25zdCB1c2VyUHJvZ3Jlc3MgPSBhd2FpdCBzYWZlRmluZE1hbnkocHJpc21hLnVzZXJQcm9ncmVzcywge1xuICAgICAgd2hlcmU6IHsgdXNlcklkIH1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAodXNlclByb2dyZXNzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIEdldCBhbGwgY291cnNlcyBlbnJvbGxlZCBpblxuICAgICAgY29uc3QgZW5yb2xsZWRDb3Vyc2VJZHMgPSB1c2VyLmVucm9sbGVkSWRzIHx8IFtdO1xuICAgICAgXG4gICAgICAvLyBHZXQgYWxsIGxlc3NvbnMgZm9yIHRoZXNlIGNvdXJzZXMgdXNpbmcgc2FmZUZpbmRNYW55XG4gICAgICBjb25zdCBsZXNzb25zID0gYXdhaXQgc2FmZUZpbmRNYW55KHByaXNtYS5sZXNzb24sIHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBjb3Vyc2VJZDoge1xuICAgICAgICAgICAgaW46IGVucm9sbGVkQ291cnNlSWRzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gR3JvdXAgbGVzc29ucyBieSBjb3Vyc2VJZFxuICAgICAgY29uc3QgY291cnNlTGVzc29uczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICAgICAgaWYgKGxlc3NvbnMgJiYgQXJyYXkuaXNBcnJheShsZXNzb25zKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGxlc3NvbiBvZiBsZXNzb25zKSB7XG4gICAgICAgICAgaWYgKCFjb3Vyc2VMZXNzb25zW2xlc3Nvbi5jb3Vyc2VJZF0pIHtcbiAgICAgICAgICAgIGNvdXJzZUxlc3NvbnNbbGVzc29uLmNvdXJzZUlkXSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdXJzZUxlc3NvbnNbbGVzc29uLmNvdXJzZUlkXSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENvdW50IGNvbXBsZXRlZCBsZXNzb25zIHBlciBjb3Vyc2VcbiAgICAgIGNvbnN0IGNvdXJzZVByb2dyZXNzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICBpZiAodXNlclByb2dyZXNzICYmIEFycmF5LmlzQXJyYXkodXNlclByb2dyZXNzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2dyZXNzIG9mIHVzZXJQcm9ncmVzcykge1xuICAgICAgICAgIGlmIChwcm9ncmVzcy5jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGlmICghY291cnNlUHJvZ3Jlc3NbcHJvZ3Jlc3MuY291cnNlSWRdKSB7XG4gICAgICAgICAgICAgIGNvdXJzZVByb2dyZXNzW3Byb2dyZXNzLmNvdXJzZUlkXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3Vyc2VQcm9ncmVzc1twcm9ncmVzcy5jb3Vyc2VJZF0rKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgYW55IGNvdXJzZSBpcyBjb21wbGV0ZWRcbiAgICAgIGZvciAoY29uc3QgW2NvdXJzZUlkLCBjb21wbGV0ZWRDb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoY291cnNlUHJvZ3Jlc3MpKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsTGVzc29ucyA9IGNvdXJzZUxlc3NvbnNbY291cnNlSWRdIHx8IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAodG90YWxMZXNzb25zID4gMCAmJiBjb21wbGV0ZWRDb3VudCA+PSB0b3RhbExlc3NvbnMpIHtcbiAgICAgICAgICBjb25zdCBjb3Vyc2VDb21wbGV0ZWRBY2hpZXZlbWVudCA9IGF3YWl0IGNyZWF0ZUFjaGlldmVtZW50KFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgQWNoaWV2ZW1lbnRUeXBlLkNPVVJTRV9DT01QTEVURUQsXG4gICAgICAgICAgICAnQ291cnNlIENvbXBsZXRlcicsXG4gICAgICAgICAgICAnWW91IGNvbXBsZXRlZCB5b3VyIGZpcnN0IGNvdXJzZS4nLFxuICAgICAgICAgICAgJ2NlcnRpZmljYXRlJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNvdXJzZUNvbXBsZXRlZEFjaGlldmVtZW50KSB7XG4gICAgICAgICAgICBuZXdBY2hpZXZlbWVudHMucHVzaChjb3Vyc2VDb21wbGV0ZWRBY2hpZXZlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGJyZWFrOyAvLyBPbmx5IG5lZWQgb25lIGNvdXJzZSBjb21wbGV0ZWQgZm9yIHRoZSBhY2hpZXZlbWVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFF1aWNrIExlYXJuZXIgYWNoaWV2ZW1lbnQgLSBYIGxlc3NvbnMgaW4gWSBkYXlzXG4gICAgICBjb25zdCBjb21wbGV0ZWRMZXNzb25zID0gdXNlclByb2dyZXNzICYmIEFycmF5LmlzQXJyYXkodXNlclByb2dyZXNzKSA/IHVzZXJQcm9ncmVzcy5maWx0ZXIocCA9PiBwLmNvbXBsZXRlZCkgOiBbXTtcbiAgICAgIGNvbnN0IGNvbXBsZXRlZExlc3NvbkNvdW50ID0gY29tcGxldGVkTGVzc29ucy5sZW5ndGg7XG4gICAgICBcbiAgICAgIGlmIChjb21wbGV0ZWRMZXNzb25Db3VudCA+PSAxMCkge1xuICAgICAgICBjb25zdCBjb21wbGV0ZWREYXRlcyA9IGNvbXBsZXRlZExlc3NvbnNcbiAgICAgICAgICAuZmlsdGVyKHAgPT4gcC5jb21wbGV0ZWRBdClcbiAgICAgICAgICAubWFwKHAgPT4gcC5jb21wbGV0ZWRBdCEpXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuZ2V0VGltZSgpIC0gYi5nZXRUaW1lKCkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNvbXBsZXRlZERhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmaXJzdENvbXBsZXRpb25EYXRlID0gY29tcGxldGVkRGF0ZXNbMF07XG4gICAgICAgICAgY29uc3QgZGF5c1NpbmNlRmlyc3RDb21wbGV0aW9uID0gTWF0aC5mbG9vcihcbiAgICAgICAgICAgIChEYXRlLm5vdygpIC0gZmlyc3RDb21wbGV0aW9uRGF0ZS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGF5c1NpbmNlRmlyc3RDb21wbGV0aW9uIDw9IDcpIHtcbiAgICAgICAgICAgIGNvbnN0IHF1aWNrTGVhcm5lckFjaGlldmVtZW50ID0gYXdhaXQgY3JlYXRlQWNoaWV2ZW1lbnQoXG4gICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgQWNoaWV2ZW1lbnRUeXBlLlFVSUNLX0xFQVJORVIsXG4gICAgICAgICAgICAgICdRdWljayBMZWFybmVyJyxcbiAgICAgICAgICAgICAgJ1lvdSBjb21wbGV0ZWQgMTAgbGVzc29ucyB3aXRoaW4gYSB3ZWVrLicsXG4gICAgICAgICAgICAgICdzcGVlZCdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChxdWlja0xlYXJuZXJBY2hpZXZlbWVudCkge1xuICAgICAgICAgICAgICBuZXdBY2hpZXZlbWVudHMucHVzaChxdWlja0xlYXJuZXJBY2hpZXZlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIE5vdGU6IEZvciBzdHJlYWsgYWNoaWV2ZW1lbnQsIHdlJ2QgbmVlZCB0byBtb2RpZnkgdGhlIFVzZXIgbW9kZWwgdG8gaW5jbHVkZSBsb2dpbkhpc3RvcnlcbiAgICAvLyBUaGlzIGlzIGN1cnJlbnRseSBub3QgaW4gdGhlIFByaXNtYSBzY2hlbWEsIHNvIGl0J3Mgb21pdHRlZCBmcm9tIHRoZSByZWZhY3RvcmVkIHZlcnNpb25cbiAgICBcbiAgICByZXR1cm4gbmV3QWNoaWV2ZW1lbnRzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGFuZCBhd2FyZGluZyBhY2hpZXZlbWVudHM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufSJdLCJuYW1lcyI6WyJwcmlzbWEiLCJzYWZlRmluZE1hbnkiLCJzYWZlRmluZEZpcnN0Iiwic2FmZUZpbmRVbmlxdWUiLCJzYWZlQ3JlYXRlIiwiQWNoaWV2ZW1lbnRUeXBlIiwiZ2V0VXNlckFjaGlldmVtZW50cyIsInVzZXJJZCIsImNvbnNvbGUiLCJ3YXJuIiwiYWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnQiLCJ3aGVyZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsImlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImljb24iLCJlYXJuZWRBdCIsInR5cGUiLCJlcnJvciIsImNyZWF0ZUFjaGlldmVtZW50IiwiZXhpc3RpbmdBY2hpZXZlbWVudCIsIm5vdyIsIkRhdGUiLCJkYXRhIiwiY2hlY2tBbmRBd2FyZEFjaGlldmVtZW50cyIsInVzZXIiLCJpbmNsdWRlIiwiZW5yb2xsZWRJbiIsIm5ld0FjaGlldmVtZW50cyIsImZpcnN0TG9naW5BY2hpZXZlbWVudCIsIkZJUlNUX0xPR0lOIiwicHVzaCIsImxlbmd0aCIsImNvdXJzZVN0YXJ0ZWRBY2hpZXZlbWVudCIsIkNPVVJTRV9TVEFSVEVEIiwidXNlclByb2dyZXNzIiwiZW5yb2xsZWRDb3Vyc2VJZHMiLCJlbnJvbGxlZElkcyIsImxlc3NvbnMiLCJsZXNzb24iLCJjb3Vyc2VJZCIsImluIiwiY291cnNlTGVzc29ucyIsImNvdXJzZVByb2dyZXNzIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZWQiLCJjb21wbGV0ZWRDb3VudCIsIk9iamVjdCIsImVudHJpZXMiLCJ0b3RhbExlc3NvbnMiLCJjb3Vyc2VDb21wbGV0ZWRBY2hpZXZlbWVudCIsIkNPVVJTRV9DT01QTEVURUQiLCJjb21wbGV0ZWRMZXNzb25zIiwiZmlsdGVyIiwicCIsImNvbXBsZXRlZExlc3NvbkNvdW50IiwiY29tcGxldGVkRGF0ZXMiLCJjb21wbGV0ZWRBdCIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJmaXJzdENvbXBsZXRpb25EYXRlIiwiZGF5c1NpbmNlRmlyc3RDb21wbGV0aW9uIiwiTWF0aCIsImZsb29yIiwicXVpY2tMZWFybmVyQWNoaWV2ZW1lbnQiLCJRVUlDS19MRUFSTkVSIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/services/achievements.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/achievement/index.ts":
/*!****************************************!*\
  !*** ./src/types/achievement/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AchievementType: () => (/* binding */ AchievementType)\n/* harmony export */ });\n/**\n * @file Achievement type definitions\n * @description Type definitions for user achievements\n */ /**\n * Achievement types enum\n * @enum {string}\n */ var AchievementType;\n(function(AchievementType) {\n    AchievementType[\"FIRST_LOGIN\"] = \"first_login\";\n    AchievementType[\"COURSE_STARTED\"] = \"course_started\";\n    AchievementType[\"COURSE_COMPLETED\"] = \"course_completed\";\n    AchievementType[\"LESSON_COMPLETED\"] = \"lesson_completed\";\n    AchievementType[\"STREAK\"] = \"streak\";\n    AchievementType[\"QUICK_LEARNER\"] = \"quick_learner\";\n})(AchievementType || (AchievementType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvYWNoaWV2ZW1lbnQvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Q0FHQyxHQUVEOzs7Q0FHQztVQUNXQTs7Ozs7OztHQUFBQSxvQkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy90eXBlcy9hY2hpZXZlbWVudC9pbmRleC50cz8wNzI0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgQWNoaWV2ZW1lbnQgdHlwZSBkZWZpbml0aW9uc1xuICogQGRlc2NyaXB0aW9uIFR5cGUgZGVmaW5pdGlvbnMgZm9yIHVzZXIgYWNoaWV2ZW1lbnRzXG4gKi9cblxuLyoqXG4gKiBBY2hpZXZlbWVudCB0eXBlcyBlbnVtXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBBY2hpZXZlbWVudFR5cGUge1xuICBGSVJTVF9MT0dJTiA9ICdmaXJzdF9sb2dpbicsXG4gIENPVVJTRV9TVEFSVEVEID0gJ2NvdXJzZV9zdGFydGVkJyxcbiAgQ09VUlNFX0NPTVBMRVRFRCA9ICdjb3Vyc2VfY29tcGxldGVkJyxcbiAgTEVTU09OX0NPTVBMRVRFRCA9ICdsZXNzb25fY29tcGxldGVkJyxcbiAgU1RSRUFLID0gJ3N0cmVhaycsXG4gIFFVSUNLX0xFQVJORVIgPSAncXVpY2tfbGVhcm5lcicsXG59XG5cbi8qKlxuICogVXNlciBhY2hpZXZlbWVudCBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyQWNoaWV2ZW1lbnQge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgaWNvbjogc3RyaW5nO1xuICBlYXJuZWRBdDogRGF0ZTtcbiAgdHlwZTogQWNoaWV2ZW1lbnRUeXBlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhY2hpZXZlbWVudCBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQWNoaWV2ZW1lbnRQYXJhbXMge1xuICB1c2VySWQ6IHN0cmluZztcbiAgdHlwZTogQWNoaWV2ZW1lbnRUeXBlO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBpY29uOiBzdHJpbmc7XG59XG4iXSwibmFtZXMiOlsiQWNoaWV2ZW1lbnRUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/types/achievement/index.ts\n");

/***/ })

};
;