"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/courses/route";
exports.ids = ["app/api/courses/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcourses%2Froute&page=%2Fapi%2Fcourses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcourses%2Froute.ts&appDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcourses%2Froute&page=%2Fapi%2Fcourses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcourses%2Froute.ts&appDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_julianlok_Documents_choice_e_learning_src_app_api_courses_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/courses/route.ts */ \"(rsc)/./src/app/api/courses/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/courses/route\",\n        pathname: \"/api/courses\",\n        filename: \"route\",\n        bundlePath: \"app/api/courses/route\"\n    },\n    resolvedPagePath: \"/Users/julianlok/Documents/choice-e-learning/src/app/api/courses/route.ts\",\n    nextConfigOutput,\n    userland: _Users_julianlok_Documents_choice_e_learning_src_app_api_courses_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/courses/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb3Vyc2VzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZjb3Vyc2VzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY291cnNlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmp1bGlhbmxvayUyRkRvY3VtZW50cyUyRmNob2ljZS1lLWxlYXJuaW5nJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmp1bGlhbmxvayUyRkRvY3VtZW50cyUyRmNob2ljZS1lLWxlYXJuaW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hvaWNlLWUtbGVhcm5pbmcvPzljY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2p1bGlhbmxvay9Eb2N1bWVudHMvY2hvaWNlLWUtbGVhcm5pbmcvc3JjL2FwcC9hcGkvY291cnNlcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY291cnNlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvdXJzZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NvdXJzZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvanVsaWFubG9rL0RvY3VtZW50cy9jaG9pY2UtZS1sZWFybmluZy9zcmMvYXBwL2FwaS9jb3Vyc2VzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NvdXJzZXMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcourses%2Froute&page=%2Fapi%2Fcourses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcourses%2Froute.ts&appDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/courses/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/courses/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _services_courses__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/services/courses */ \"(rsc)/./src/services/courses.ts\");\n/* harmony import */ var _lib_api_api_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/api/api-response */ \"(rsc)/./src/lib/api/api-response.ts\");\n/* harmony import */ var _lib_api_route_handlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/api/route-handlers */ \"(rsc)/./src/lib/api/route-handlers.ts\");\n/* harmony import */ var _lib_api_request_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api/request-parser */ \"(rsc)/./src/lib/api/request-parser.ts\");\n/* harmony import */ var _lib_api_api_docs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api/api-docs */ \"(rsc)/./src/lib/api/api-docs.ts\");\n/**\n * Courses API endpoint\n * Handles fetching and managing course information\n */ \n\n\n\n\n\n// Query parameters schema for course listing\nconst courseQuerySchema = zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n    page: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().regex(/^\\d+$/).transform(Number).optional(),\n    limit: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().regex(/^\\d+$/).transform(Number).optional(),\n    category: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n    search: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n    sortBy: zod__WEBPACK_IMPORTED_MODULE_5__.z.enum([\n        \"title\",\n        \"createdAt\",\n        \"popularity\"\n    ]).optional(),\n    order: zod__WEBPACK_IMPORTED_MODULE_5__.z.enum([\n        \"asc\",\n        \"desc\"\n    ]).optional()\n}).transform((data)=>({\n        page: data.page || 1,\n        limit: data.limit || 10,\n        category: data.category,\n        search: data.search,\n        sortBy: data.sortBy || \"createdAt\",\n        order: data.order || \"desc\"\n    }));\n// Document the API endpoint\n(0,_lib_api_api_docs__WEBPACK_IMPORTED_MODULE_4__.documentEndpoint)({\n    path: \"/api/courses\",\n    method: \"GET\",\n    description: \"Get a list of all available courses\",\n    requiresAuth: false,\n    queryParams: [\n        {\n            name: \"page\",\n            type: \"number\",\n            required: false,\n            description: \"Page number for pagination (default: 1)\"\n        },\n        {\n            name: \"limit\",\n            type: \"number\",\n            required: false,\n            description: \"Number of items per page (default: 10)\"\n        },\n        {\n            name: \"category\",\n            type: \"string\",\n            required: false,\n            description: \"Filter by course category\"\n        },\n        {\n            name: \"search\",\n            type: \"string\",\n            required: false,\n            description: \"Search term to filter courses\"\n        },\n        {\n            name: \"sortBy\",\n            type: \"string\",\n            required: false,\n            description: \"Field to sort by (title, createdAt, popularity)\"\n        },\n        {\n            name: \"order\",\n            type: \"string\",\n            required: false,\n            description: \"Sort order (asc, desc)\"\n        }\n    ],\n    responses: [\n        {\n            status: 200,\n            description: \"Courses retrieved successfully\",\n            example: {\n                success: true,\n                data: [\n                    {\n                        id: \"1234567890\",\n                        title: \"Introduction to Programming\",\n                        description: \"Learn the basics of programming\",\n                        category: \"Programming\",\n                        imageUrl: \"https://example.com/course.jpg\",\n                        difficulty: \"Beginner\",\n                        createdAt: \"2023-01-01T00:00:00.000Z\"\n                    }\n                ],\n                meta: {\n                    pagination: {\n                        page: 1,\n                        pageSize: 10,\n                        totalItems: 100,\n                        totalPages: 10,\n                        hasNextPage: true,\n                        hasPrevPage: false\n                    }\n                }\n            }\n        },\n        {\n            status: 500,\n            description: \"Server error\",\n            example: {\n                success: false,\n                error: \"Failed to fetch courses\",\n                code: \"SERVER_ERROR\"\n            }\n        }\n    ]\n});\n// GET handler to fetch courses\nconst getCourses = (0,_lib_api_route_handlers__WEBPACK_IMPORTED_MODULE_2__.withErrorHandling)(async (req)=>{\n    // Parse query parameters\n    const queryResult = (0,_lib_api_request_parser__WEBPACK_IMPORTED_MODULE_3__.parseQueryParams)(req, courseQuerySchema);\n    if (!queryResult.success) {\n        return queryResult.error;\n    }\n    const { page, limit, category, search, sortBy, order } = queryResult.data;\n    try {\n        // Get courses from service\n        const coursesResult = await (0,_services_courses__WEBPACK_IMPORTED_MODULE_0__.getAllCourses)({\n            page,\n            limit,\n            category,\n            search,\n            sortBy,\n            order\n        });\n        const { courses, totalItems } = coursesResult;\n        const totalPages = Math.ceil(totalItems / limit);\n        // Return courses with pagination info\n        return (0,_lib_api_api_response__WEBPACK_IMPORTED_MODULE_1__.apiSuccess)(courses, undefined, {\n            pagination: {\n                page,\n                pageSize: limit,\n                totalItems,\n                totalPages,\n                hasNextPage: page < totalPages,\n                hasPrevPage: page > 1\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching courses:\", error);\n        return (0,_lib_api_api_response__WEBPACK_IMPORTED_MODULE_1__.apiServerError)(\"Failed to fetch courses\");\n    }\n});\n// Export the route handler\nconst GET = getCourses; // TODO: Add POST handler for creating courses (admin only)\n // POST is intentionally not implemented yet pending further requirements\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVFLEtBQUssRUFBRSxHQUFHOEIsWUFBWTdCLElBQUk7SUFFekUsSUFBSTtRQUNGLDJCQUEyQjtRQUMzQixNQUFNOEIsZ0JBQWdCLE1BQU1sRCxnRUFBYUEsQ0FBQztZQUN4Q1E7WUFDQU07WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUU7UUFDRjtRQUVBLE1BQU0sRUFBRWdDLE9BQU8sRUFBRVYsVUFBVSxFQUFFLEdBQUdTO1FBQ2hDLE1BQU1SLGFBQWFVLEtBQUtDLElBQUksQ0FBQ1osYUFBYTNCO1FBRTFDLHNDQUFzQztRQUN0QyxPQUFPYixpRUFBVUEsQ0FBQ2tELFNBQVNHLFdBQVc7WUFDcENmLFlBQVk7Z0JBQ1YvQjtnQkFDQWdDLFVBQVUxQjtnQkFDVjJCO2dCQUNBQztnQkFDQUMsYUFBYW5DLE9BQU9rQztnQkFDcEJFLGFBQWFwQyxPQUFPO1lBQ3RCO1FBQ0Y7SUFDRixFQUFFLE9BQU9xQyxPQUFPO1FBQ2RVLFFBQVFWLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU8zQyxxRUFBY0EsQ0FBQztJQUN4QjtBQUNGO0FBRUEsMkJBQTJCO0FBQ3BCLE1BQU1zRCxNQUFNVCxXQUFXLENBRTlCLDJEQUEyRDtDQUMzRCx5RUFBeUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9hcHAvYXBpL2NvdXJzZXMvcm91dGUudHM/ZTUyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvdXJzZXMgQVBJIGVuZHBvaW50XG4gKiBIYW5kbGVzIGZldGNoaW5nIGFuZCBtYW5hZ2luZyBjb3Vyc2UgaW5mb3JtYXRpb25cbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgZ2V0QWxsQ291cnNlcyB9IGZyb20gJ0Avc2VydmljZXMvY291cnNlcyc7XG5pbXBvcnQgeyBcbiAgYXBpU3VjY2VzcywgXG4gIGFwaVNlcnZlckVycm9yIFxufSBmcm9tICdAL2xpYi9hcGkvYXBpLXJlc3BvbnNlJztcbmltcG9ydCB7IFxuICBjcmVhdGVSb3V0ZUhhbmRsZXIsIFxuICB3aXRoRXJyb3JIYW5kbGluZywgXG4gIHdpdGhBZG1pbiBcbn0gZnJvbSAnQC9saWIvYXBpL3JvdXRlLWhhbmRsZXJzJztcbmltcG9ydCB7IFxuICB2YWxpZGF0ZVJlcXVlc3QsIFxuICBwYXJzZVF1ZXJ5UGFyYW1zIFxufSBmcm9tICdAL2xpYi9hcGkvcmVxdWVzdC1wYXJzZXInO1xuaW1wb3J0IHsgXG4gIGRvY3VtZW50RW5kcG9pbnQgXG59IGZyb20gJ0AvbGliL2FwaS9hcGktZG9jcyc7XG5cbi8vIFF1ZXJ5IHBhcmFtZXRlcnMgc2NoZW1hIGZvciBjb3Vyc2UgbGlzdGluZ1xuY29uc3QgY291cnNlUXVlcnlTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHBhZ2U6IHouc3RyaW5nKCkucmVnZXgoL15cXGQrJC8pLnRyYW5zZm9ybShOdW1iZXIpLm9wdGlvbmFsKCksXG4gIGxpbWl0OiB6LnN0cmluZygpLnJlZ2V4KC9eXFxkKyQvKS50cmFuc2Zvcm0oTnVtYmVyKS5vcHRpb25hbCgpLFxuICBjYXRlZ29yeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBzZWFyY2g6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgc29ydEJ5OiB6LmVudW0oWyd0aXRsZScsICdjcmVhdGVkQXQnLCAncG9wdWxhcml0eSddKS5vcHRpb25hbCgpLFxuICBvcmRlcjogei5lbnVtKFsnYXNjJywgJ2Rlc2MnXSkub3B0aW9uYWwoKVxufSkudHJhbnNmb3JtKGRhdGEgPT4gKHtcbiAgcGFnZTogZGF0YS5wYWdlIHx8IDEsXG4gIGxpbWl0OiBkYXRhLmxpbWl0IHx8IDEwLFxuICBjYXRlZ29yeTogZGF0YS5jYXRlZ29yeSxcbiAgc2VhcmNoOiBkYXRhLnNlYXJjaCxcbiAgc29ydEJ5OiBkYXRhLnNvcnRCeSB8fCAnY3JlYXRlZEF0JyxcbiAgb3JkZXI6IGRhdGEub3JkZXIgfHwgJ2Rlc2MnXG59KSk7XG5cbi8vIERvY3VtZW50IHRoZSBBUEkgZW5kcG9pbnRcbmRvY3VtZW50RW5kcG9pbnQoe1xuICBwYXRoOiAnL2FwaS9jb3Vyc2VzJyxcbiAgbWV0aG9kOiAnR0VUJyxcbiAgZGVzY3JpcHRpb246ICdHZXQgYSBsaXN0IG9mIGFsbCBhdmFpbGFibGUgY291cnNlcycsXG4gIHJlcXVpcmVzQXV0aDogZmFsc2UsXG4gIHF1ZXJ5UGFyYW1zOiBbXG4gICAgeyBcbiAgICAgIG5hbWU6ICdwYWdlJywgXG4gICAgICB0eXBlOiAnbnVtYmVyJywgXG4gICAgICByZXF1aXJlZDogZmFsc2UsIFxuICAgICAgZGVzY3JpcHRpb246ICdQYWdlIG51bWJlciBmb3IgcGFnaW5hdGlvbiAoZGVmYXVsdDogMSknIFxuICAgIH0sXG4gICAgeyBcbiAgICAgIG5hbWU6ICdsaW1pdCcsIFxuICAgICAgdHlwZTogJ251bWJlcicsIFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLCBcbiAgICAgIGRlc2NyaXB0aW9uOiAnTnVtYmVyIG9mIGl0ZW1zIHBlciBwYWdlIChkZWZhdWx0OiAxMCknIFxuICAgIH0sXG4gICAgeyBcbiAgICAgIG5hbWU6ICdjYXRlZ29yeScsIFxuICAgICAgdHlwZTogJ3N0cmluZycsIFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLCBcbiAgICAgIGRlc2NyaXB0aW9uOiAnRmlsdGVyIGJ5IGNvdXJzZSBjYXRlZ29yeScgXG4gICAgfSxcbiAgICB7IFxuICAgICAgbmFtZTogJ3NlYXJjaCcsIFxuICAgICAgdHlwZTogJ3N0cmluZycsIFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLCBcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2VhcmNoIHRlcm0gdG8gZmlsdGVyIGNvdXJzZXMnIFxuICAgIH0sXG4gICAgeyBcbiAgICAgIG5hbWU6ICdzb3J0QnknLCBcbiAgICAgIHR5cGU6ICdzdHJpbmcnLCBcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSwgXG4gICAgICBkZXNjcmlwdGlvbjogJ0ZpZWxkIHRvIHNvcnQgYnkgKHRpdGxlLCBjcmVhdGVkQXQsIHBvcHVsYXJpdHkpJyBcbiAgICB9LFxuICAgIHsgXG4gICAgICBuYW1lOiAnb3JkZXInLCBcbiAgICAgIHR5cGU6ICdzdHJpbmcnLCBcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSwgXG4gICAgICBkZXNjcmlwdGlvbjogJ1NvcnQgb3JkZXIgKGFzYywgZGVzYyknIFxuICAgIH1cbiAgXSxcbiAgcmVzcG9uc2VzOiBbXG4gICAge1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBkZXNjcmlwdGlvbjogJ0NvdXJzZXMgcmV0cmlldmVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICBleGFtcGxlOiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJzEyMzQ1Njc4OTAnLFxuICAgICAgICAgICAgdGl0bGU6ICdJbnRyb2R1Y3Rpb24gdG8gUHJvZ3JhbW1pbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdMZWFybiB0aGUgYmFzaWNzIG9mIHByb2dyYW1taW5nJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnUHJvZ3JhbW1pbmcnLFxuICAgICAgICAgICAgaW1hZ2VVcmw6ICdodHRwczovL2V4YW1wbGUuY29tL2NvdXJzZS5qcGcnLFxuICAgICAgICAgICAgZGlmZmljdWx0eTogJ0JlZ2lubmVyJyxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjMtMDEtMDFUMDA6MDA6MDAuMDAwWidcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgcGFnZVNpemU6IDEwLFxuICAgICAgICAgICAgdG90YWxJdGVtczogMTAwLFxuICAgICAgICAgICAgdG90YWxQYWdlczogMTAsXG4gICAgICAgICAgICBoYXNOZXh0UGFnZTogdHJ1ZSxcbiAgICAgICAgICAgIGhhc1ByZXZQYWdlOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICBkZXNjcmlwdGlvbjogJ1NlcnZlciBlcnJvcicsXG4gICAgICBleGFtcGxlOiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBjb3Vyc2VzJyxcbiAgICAgICAgY29kZTogJ1NFUlZFUl9FUlJPUidcbiAgICAgIH1cbiAgICB9XG4gIF1cbn0pO1xuXG4vLyBHRVQgaGFuZGxlciB0byBmZXRjaCBjb3Vyc2VzXG5jb25zdCBnZXRDb3Vyc2VzID0gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKHJlcTogTmV4dFJlcXVlc3QpID0+IHtcbiAgLy8gUGFyc2UgcXVlcnkgcGFyYW1ldGVyc1xuICBjb25zdCBxdWVyeVJlc3VsdCA9IHBhcnNlUXVlcnlQYXJhbXMocmVxLCBjb3Vyc2VRdWVyeVNjaGVtYSk7XG4gIFxuICBpZiAoIXF1ZXJ5UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gcXVlcnlSZXN1bHQuZXJyb3I7XG4gIH1cbiAgXG4gIGNvbnN0IHsgcGFnZSwgbGltaXQsIGNhdGVnb3J5LCBzZWFyY2gsIHNvcnRCeSwgb3JkZXIgfSA9IHF1ZXJ5UmVzdWx0LmRhdGE7XG4gIFxuICB0cnkge1xuICAgIC8vIEdldCBjb3Vyc2VzIGZyb20gc2VydmljZVxuICAgIGNvbnN0IGNvdXJzZXNSZXN1bHQgPSBhd2FpdCBnZXRBbGxDb3Vyc2VzKHtcbiAgICAgIHBhZ2UsXG4gICAgICBsaW1pdCxcbiAgICAgIGNhdGVnb3J5LFxuICAgICAgc2VhcmNoLFxuICAgICAgc29ydEJ5LFxuICAgICAgb3JkZXJcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCB7IGNvdXJzZXMsIHRvdGFsSXRlbXMgfSA9IGNvdXJzZXNSZXN1bHQ7XG4gICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbEl0ZW1zIC8gbGltaXQpO1xuICAgIFxuICAgIC8vIFJldHVybiBjb3Vyc2VzIHdpdGggcGFnaW5hdGlvbiBpbmZvXG4gICAgcmV0dXJuIGFwaVN1Y2Nlc3MoY291cnNlcywgdW5kZWZpbmVkLCB7XG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIHBhZ2VTaXplOiBsaW1pdCxcbiAgICAgICAgdG90YWxJdGVtcyxcbiAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgICAgaGFzTmV4dFBhZ2U6IHBhZ2UgPCB0b3RhbFBhZ2VzLFxuICAgICAgICBoYXNQcmV2UGFnZTogcGFnZSA+IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb3Vyc2VzOicsIGVycm9yKTtcbiAgICByZXR1cm4gYXBpU2VydmVyRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb3Vyc2VzJyk7XG4gIH1cbn0pO1xuXG4vLyBFeHBvcnQgdGhlIHJvdXRlIGhhbmRsZXJcbmV4cG9ydCBjb25zdCBHRVQgPSBnZXRDb3Vyc2VzO1xuXG4vLyBUT0RPOiBBZGQgUE9TVCBoYW5kbGVyIGZvciBjcmVhdGluZyBjb3Vyc2VzIChhZG1pbiBvbmx5KVxuLy8gUE9TVCBpcyBpbnRlbnRpb25hbGx5IG5vdCBpbXBsZW1lbnRlZCB5ZXQgcGVuZGluZyBmdXJ0aGVyIHJlcXVpcmVtZW50c1xuIl0sIm5hbWVzIjpbInoiLCJnZXRBbGxDb3Vyc2VzIiwiYXBpU3VjY2VzcyIsImFwaVNlcnZlckVycm9yIiwid2l0aEVycm9ySGFuZGxpbmciLCJwYXJzZVF1ZXJ5UGFyYW1zIiwiZG9jdW1lbnRFbmRwb2ludCIsImNvdXJzZVF1ZXJ5U2NoZW1hIiwib2JqZWN0IiwicGFnZSIsInN0cmluZyIsInJlZ2V4IiwidHJhbnNmb3JtIiwiTnVtYmVyIiwib3B0aW9uYWwiLCJsaW1pdCIsImNhdGVnb3J5Iiwic2VhcmNoIiwic29ydEJ5IiwiZW51bSIsIm9yZGVyIiwiZGF0YSIsInBhdGgiLCJtZXRob2QiLCJkZXNjcmlwdGlvbiIsInJlcXVpcmVzQXV0aCIsInF1ZXJ5UGFyYW1zIiwibmFtZSIsInR5cGUiLCJyZXF1aXJlZCIsInJlc3BvbnNlcyIsInN0YXR1cyIsImV4YW1wbGUiLCJzdWNjZXNzIiwiaWQiLCJ0aXRsZSIsImltYWdlVXJsIiwiZGlmZmljdWx0eSIsImNyZWF0ZWRBdCIsIm1ldGEiLCJwYWdpbmF0aW9uIiwicGFnZVNpemUiLCJ0b3RhbEl0ZW1zIiwidG90YWxQYWdlcyIsImhhc05leHRQYWdlIiwiaGFzUHJldlBhZ2UiLCJlcnJvciIsImNvZGUiLCJnZXRDb3Vyc2VzIiwicmVxIiwicXVlcnlSZXN1bHQiLCJjb3Vyc2VzUmVzdWx0IiwiY291cnNlcyIsIk1hdGgiLCJjZWlsIiwidW5kZWZpbmVkIiwiY29uc29sZSIsIkdFVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/courses/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/api/api-docs.ts":
/*!*********************************!*\
  !*** ./src/lib/api/api-docs.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApiDocs: () => (/* binding */ createApiDocs),\n/* harmony export */   documentEndpoint: () => (/* binding */ documentEndpoint)\n/* harmony export */ });\n/**\n * API documentation utilities\n * Provides a standardized way to document API endpoints\n */ /**\n * API endpoint documentation\n */ /**\n * Document an API endpoint\n * @param doc Endpoint documentation\n * @returns The same documentation for chaining\n */ function documentEndpoint(doc) {\n    // In a future version, this could register the documentation\n    // with a central registry or generate OpenAPI specs\n    return doc;\n}\n/**\n * Create API documentation\n * @param docs API documentation\n * @returns The same documentation for chaining\n */ function createApiDocs(docs) {\n    // In a future version, this could register the documentation\n    // or generate OpenAPI specs\n    return docs;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FwaS9hcGktZG9jcy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Q0FHQyxHQUVEOztDQUVDLEdBb0VEOzs7O0NBSUMsR0FDTSxTQUFTQSxpQkFBaUJDLEdBQW1CO0lBQ2xELDZEQUE2RDtJQUM3RCxvREFBb0Q7SUFDcEQsT0FBT0E7QUFDVDtBQUVBOzs7O0NBSUMsR0FDTSxTQUFTQyxjQUFjQyxJQUFhO0lBQ3pDLDZEQUE2RDtJQUM3RCw0QkFBNEI7SUFDNUIsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nob2ljZS1lLWxlYXJuaW5nLy4vc3JjL2xpYi9hcGkvYXBpLWRvY3MudHM/ZGJkMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFQSSBkb2N1bWVudGF0aW9uIHV0aWxpdGllc1xuICogUHJvdmlkZXMgYSBzdGFuZGFyZGl6ZWQgd2F5IHRvIGRvY3VtZW50IEFQSSBlbmRwb2ludHNcbiAqL1xuXG4vKipcbiAqIEFQSSBlbmRwb2ludCBkb2N1bWVudGF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXBpRW5kcG9pbnREb2Mge1xuICAvKiogRW5kcG9pbnQgcGF0aCAqL1xuICBwYXRoOiBzdHJpbmc7XG4gIC8qKiBIVFRQIG1ldGhvZCAqL1xuICBtZXRob2Q6ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnUEFUQ0gnIHwgJ0RFTEVURSc7XG4gIC8qKiBTaG9ydCBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoZSBlbmRwb2ludCBkb2VzICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkICovXG4gIHJlcXVpcmVzQXV0aDogYm9vbGVhbjtcbiAgLyoqIFJlcXVpcmVkIHJvbGVzIChpZiBhcHBsaWNhYmxlKSAqL1xuICByZXF1aXJlZFJvbGVzPzogc3RyaW5nW107XG4gIC8qKiBSZXF1ZXN0IGJvZHkgc2NoZW1hIChpZiBhcHBsaWNhYmxlKSAqL1xuICByZXF1ZXN0Qm9keT86IHtcbiAgICAvKiogQ29udGVudCB0eXBlICovXG4gICAgY29udGVudFR5cGU6IHN0cmluZztcbiAgICAvKiogU2NoZW1hIGRlc2NyaXB0aW9uIGluIHBsYWluIHRleHQgKi9cbiAgICBzY2hlbWE6IHN0cmluZztcbiAgICAvKiogRXhhbXBsZSByZXF1ZXN0IGJvZHkgKi9cbiAgICBleGFtcGxlOiBhbnk7XG4gIH07XG4gIC8qKiBSZXNwb25zZSBzY2hlbWEgKi9cbiAgcmVzcG9uc2VzOiB7XG4gICAgLyoqIEhUVFAgc3RhdHVzIGNvZGUgKi9cbiAgICBzdGF0dXM6IG51bWJlcjtcbiAgICAvKiogRGVzY3JpcHRpb24gb2YgdGhlIHJlc3BvbnNlICovXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICAvKiogRXhhbXBsZSByZXNwb25zZSAqL1xuICAgIGV4YW1wbGU6IGFueTtcbiAgfVtdO1xuICAvKiogUXVlcnkgcGFyYW1ldGVycyAoaWYgYXBwbGljYWJsZSkgKi9cbiAgcXVlcnlQYXJhbXM/OiB7XG4gICAgLyoqIFBhcmFtZXRlciBuYW1lICovXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKiBQYXJhbWV0ZXIgdHlwZSAqL1xuICAgIHR5cGU6IHN0cmluZztcbiAgICAvKiogV2hldGhlciB0aGUgcGFyYW1ldGVyIGlzIHJlcXVpcmVkICovXG4gICAgcmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgLyoqIFBhcmFtZXRlciBkZXNjcmlwdGlvbiAqL1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIH1bXTtcbiAgLyoqIFBhdGggcGFyYW1ldGVycyAoaWYgYXBwbGljYWJsZSkgKi9cbiAgcGF0aFBhcmFtcz86IHtcbiAgICAvKiogUGFyYW1ldGVyIG5hbWUgKi9cbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgLyoqIFBhcmFtZXRlciB0eXBlICovXG4gICAgdHlwZTogc3RyaW5nO1xuICAgIC8qKiBQYXJhbWV0ZXIgZGVzY3JpcHRpb24gKi9cbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB9W107XG59XG5cbi8qKlxuICogQVBJIGRvY3VtZW50YXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBcGlEb2NzIHtcbiAgLyoqIEFQSSB0aXRsZSAqL1xuICB0aXRsZTogc3RyaW5nO1xuICAvKiogQVBJIGRlc2NyaXB0aW9uICovXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIC8qKiBBUEkgdmVyc2lvbiAqL1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIC8qKiBCYXNlIFVSTCAqL1xuICBiYXNlVXJsOiBzdHJpbmc7XG4gIC8qKiBBUEkgZW5kcG9pbnRzICovXG4gIGVuZHBvaW50czogQXBpRW5kcG9pbnREb2NbXTtcbn1cblxuLyoqXG4gKiBEb2N1bWVudCBhbiBBUEkgZW5kcG9pbnRcbiAqIEBwYXJhbSBkb2MgRW5kcG9pbnQgZG9jdW1lbnRhdGlvblxuICogQHJldHVybnMgVGhlIHNhbWUgZG9jdW1lbnRhdGlvbiBmb3IgY2hhaW5pbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvY3VtZW50RW5kcG9pbnQoZG9jOiBBcGlFbmRwb2ludERvYyk6IEFwaUVuZHBvaW50RG9jIHtcbiAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiwgdGhpcyBjb3VsZCByZWdpc3RlciB0aGUgZG9jdW1lbnRhdGlvblxuICAvLyB3aXRoIGEgY2VudHJhbCByZWdpc3RyeSBvciBnZW5lcmF0ZSBPcGVuQVBJIHNwZWNzXG4gIHJldHVybiBkb2M7XG59XG5cbi8qKlxuICogQ3JlYXRlIEFQSSBkb2N1bWVudGF0aW9uXG4gKiBAcGFyYW0gZG9jcyBBUEkgZG9jdW1lbnRhdGlvblxuICogQHJldHVybnMgVGhlIHNhbWUgZG9jdW1lbnRhdGlvbiBmb3IgY2hhaW5pbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFwaURvY3MoZG9jczogQXBpRG9jcyk6IEFwaURvY3Mge1xuICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uLCB0aGlzIGNvdWxkIHJlZ2lzdGVyIHRoZSBkb2N1bWVudGF0aW9uXG4gIC8vIG9yIGdlbmVyYXRlIE9wZW5BUEkgc3BlY3NcbiAgcmV0dXJuIGRvY3M7XG59XG4iXSwibmFtZXMiOlsiZG9jdW1lbnRFbmRwb2ludCIsImRvYyIsImNyZWF0ZUFwaURvY3MiLCJkb2NzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api/api-docs.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/api/api-error-codes.ts":
/*!****************************************!*\
  !*** ./src/lib/api/api-error-codes.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiErrorCode: () => (/* binding */ ApiErrorCode),\n/* harmony export */   createApiError: () => (/* binding */ createApiError),\n/* harmony export */   errorCodeToStatusMap: () => (/* binding */ errorCodeToStatusMap),\n/* harmony export */   getDefaultErrorMessage: () => (/* binding */ getDefaultErrorMessage),\n/* harmony export */   normalizeError: () => (/* binding */ normalizeError)\n/* harmony export */ });\n/**\n * Standardized API error codes\n * Provides a consistent set of error codes for API responses\n */ /**\n * API error codes\n * Categorized by domain and error type\n */ var ApiErrorCode;\n(function(ApiErrorCode) {\n    // General errors (1000-1999)\n    ApiErrorCode[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n    ApiErrorCode[\"VALIDATION_ERROR\"] = \"VALIDATION_ERROR\";\n    ApiErrorCode[\"NOT_FOUND\"] = \"NOT_FOUND\";\n    ApiErrorCode[\"METHOD_NOT_ALLOWED\"] = \"METHOD_NOT_ALLOWED\";\n    ApiErrorCode[\"CONFLICT\"] = \"CONFLICT\";\n    ApiErrorCode[\"REQUEST_TIMEOUT\"] = \"REQUEST_TIMEOUT\";\n    ApiErrorCode[\"REQUEST_PARSE_ERROR\"] = \"REQUEST_PARSE_ERROR\";\n    ApiErrorCode[\"JSON_PARSE_ERROR\"] = \"JSON_PARSE_ERROR\";\n    ApiErrorCode[\"RATE_LIMIT_EXCEEDED\"] = \"RATE_LIMIT_EXCEEDED\";\n    // Authentication errors (2000-2999)\n    ApiErrorCode[\"UNAUTHORIZED\"] = \"UNAUTHORIZED\";\n    ApiErrorCode[\"FORBIDDEN\"] = \"FORBIDDEN\";\n    ApiErrorCode[\"INVALID_CREDENTIALS\"] = \"INVALID_CREDENTIALS\";\n    ApiErrorCode[\"INVALID_TOKEN\"] = \"INVALID_TOKEN\";\n    ApiErrorCode[\"TOKEN_EXPIRED\"] = \"TOKEN_EXPIRED\";\n    ApiErrorCode[\"MISSING_TOKEN\"] = \"MISSING_TOKEN\";\n    ApiErrorCode[\"SESSION_EXPIRED\"] = \"SESSION_EXPIRED\";\n    // User errors (3000-3999)\n    ApiErrorCode[\"USER_NOT_FOUND\"] = \"USER_NOT_FOUND\";\n    ApiErrorCode[\"USER_EXISTS\"] = \"USER_EXISTS\";\n    ApiErrorCode[\"INVALID_USER_ROLE\"] = \"INVALID_USER_ROLE\";\n    ApiErrorCode[\"USER_UPDATE_FAILED\"] = \"USER_UPDATE_FAILED\";\n    ApiErrorCode[\"USER_CREATE_FAILED\"] = \"USER_CREATE_FAILED\";\n    ApiErrorCode[\"USER_DELETE_FAILED\"] = \"USER_DELETE_FAILED\";\n    ApiErrorCode[\"INVALID_PASSWORD\"] = \"INVALID_PASSWORD\";\n    ApiErrorCode[\"PASSWORD_MISMATCH\"] = \"PASSWORD_MISMATCH\";\n    ApiErrorCode[\"EMAIL_EXISTS\"] = \"EMAIL_EXISTS\";\n    // Course errors (4000-4999)\n    ApiErrorCode[\"COURSE_NOT_FOUND\"] = \"COURSE_NOT_FOUND\";\n    ApiErrorCode[\"COURSE_EXISTS\"] = \"COURSE_EXISTS\";\n    ApiErrorCode[\"COURSE_CREATE_FAILED\"] = \"COURSE_CREATE_FAILED\";\n    ApiErrorCode[\"COURSE_UPDATE_FAILED\"] = \"COURSE_UPDATE_FAILED\";\n    ApiErrorCode[\"COURSE_DELETE_FAILED\"] = \"COURSE_DELETE_FAILED\";\n    ApiErrorCode[\"LESSON_NOT_FOUND\"] = \"LESSON_NOT_FOUND\";\n    ApiErrorCode[\"MODULE_NOT_FOUND\"] = \"MODULE_NOT_FOUND\";\n    // Enrollment errors (5000-5999)\n    ApiErrorCode[\"ENROLLMENT_EXISTS\"] = \"ENROLLMENT_EXISTS\";\n    ApiErrorCode[\"ENROLLMENT_NOT_FOUND\"] = \"ENROLLMENT_NOT_FOUND\";\n    ApiErrorCode[\"ENROLLMENT_FAILED\"] = \"ENROLLMENT_FAILED\";\n    ApiErrorCode[\"UNENROLLMENT_FAILED\"] = \"UNENROLLMENT_FAILED\";\n    ApiErrorCode[\"COURSE_LOCKED\"] = \"COURSE_LOCKED\";\n    ApiErrorCode[\"PREREQUISITES_NOT_MET\"] = \"PREREQUISITES_NOT_MET\";\n    // Progress errors (6000-6999)\n    ApiErrorCode[\"PROGRESS_NOT_FOUND\"] = \"PROGRESS_NOT_FOUND\";\n    ApiErrorCode[\"PROGRESS_UPDATE_FAILED\"] = \"PROGRESS_UPDATE_FAILED\";\n    ApiErrorCode[\"INVALID_PROGRESS\"] = \"INVALID_PROGRESS\";\n    // Achievement errors (7000-7999)\n    ApiErrorCode[\"ACHIEVEMENT_NOT_FOUND\"] = \"ACHIEVEMENT_NOT_FOUND\";\n    ApiErrorCode[\"ACHIEVEMENT_ALREADY_EARNED\"] = \"ACHIEVEMENT_ALREADY_EARNED\";\n    ApiErrorCode[\"ACHIEVEMENT_CONDITIONS_NOT_MET\"] = \"ACHIEVEMENT_CONDITIONS_NOT_MET\";\n    // File/upload errors (8000-8999)\n    ApiErrorCode[\"FILE_UPLOAD_FAILED\"] = \"FILE_UPLOAD_FAILED\";\n    ApiErrorCode[\"FILE_NOT_FOUND\"] = \"FILE_NOT_FOUND\";\n    ApiErrorCode[\"INVALID_FILE_TYPE\"] = \"INVALID_FILE_TYPE\";\n    ApiErrorCode[\"FILE_TOO_LARGE\"] = \"FILE_TOO_LARGE\";\n    // Database errors (9000-9999)\n    ApiErrorCode[\"DATABASE_ERROR\"] = \"DATABASE_ERROR\";\n    ApiErrorCode[\"TRANSACTION_FAILED\"] = \"TRANSACTION_FAILED\";\n    ApiErrorCode[\"QUERY_FAILED\"] = \"QUERY_FAILED\";\n    ApiErrorCode[\"DUPLICATE_ENTRY\"] = \"DUPLICATE_ENTRY\";\n    ApiErrorCode[\"FOREIGN_KEY_VIOLATION\"] = \"FOREIGN_KEY_VIOLATION\";\n    // Server errors (10000-10999)\n    ApiErrorCode[\"SERVER_ERROR\"] = \"SERVER_ERROR\";\n    ApiErrorCode[\"SERVICE_UNAVAILABLE\"] = \"SERVICE_UNAVAILABLE\";\n    ApiErrorCode[\"EXTERNAL_SERVICE_ERROR\"] = \"EXTERNAL_SERVICE_ERROR\";\n    ApiErrorCode[\"NOT_IMPLEMENTED\"] = \"NOT_IMPLEMENTED\";\n})(ApiErrorCode || (ApiErrorCode = {}));\n/**\n * Map API error codes to HTTP status codes\n */ const errorCodeToStatusMap = {\n    // General errors\n    [\"UNKNOWN_ERROR\"]: 500,\n    [\"VALIDATION_ERROR\"]: 400,\n    [\"NOT_FOUND\"]: 404,\n    [\"METHOD_NOT_ALLOWED\"]: 405,\n    [\"CONFLICT\"]: 409,\n    [\"REQUEST_TIMEOUT\"]: 408,\n    [\"REQUEST_PARSE_ERROR\"]: 400,\n    [\"JSON_PARSE_ERROR\"]: 400,\n    [\"RATE_LIMIT_EXCEEDED\"]: 429,\n    // Authentication errors\n    [\"UNAUTHORIZED\"]: 401,\n    [\"FORBIDDEN\"]: 403,\n    [\"INVALID_CREDENTIALS\"]: 401,\n    [\"INVALID_TOKEN\"]: 401,\n    [\"TOKEN_EXPIRED\"]: 401,\n    [\"MISSING_TOKEN\"]: 401,\n    [\"SESSION_EXPIRED\"]: 401,\n    // User errors\n    [\"USER_NOT_FOUND\"]: 404,\n    [\"USER_EXISTS\"]: 409,\n    [\"INVALID_USER_ROLE\"]: 400,\n    [\"USER_UPDATE_FAILED\"]: 500,\n    [\"USER_CREATE_FAILED\"]: 500,\n    [\"USER_DELETE_FAILED\"]: 500,\n    [\"INVALID_PASSWORD\"]: 400,\n    [\"PASSWORD_MISMATCH\"]: 400,\n    [\"EMAIL_EXISTS\"]: 409,\n    // Course errors\n    [\"COURSE_NOT_FOUND\"]: 404,\n    [\"COURSE_EXISTS\"]: 409,\n    [\"COURSE_CREATE_FAILED\"]: 500,\n    [\"COURSE_UPDATE_FAILED\"]: 500,\n    [\"COURSE_DELETE_FAILED\"]: 500,\n    [\"LESSON_NOT_FOUND\"]: 404,\n    [\"MODULE_NOT_FOUND\"]: 404,\n    // Enrollment errors\n    [\"ENROLLMENT_EXISTS\"]: 409,\n    [\"ENROLLMENT_NOT_FOUND\"]: 404,\n    [\"ENROLLMENT_FAILED\"]: 500,\n    [\"UNENROLLMENT_FAILED\"]: 500,\n    [\"COURSE_LOCKED\"]: 403,\n    [\"PREREQUISITES_NOT_MET\"]: 400,\n    // Progress errors\n    [\"PROGRESS_NOT_FOUND\"]: 404,\n    [\"PROGRESS_UPDATE_FAILED\"]: 500,\n    [\"INVALID_PROGRESS\"]: 400,\n    // Achievement errors\n    [\"ACHIEVEMENT_NOT_FOUND\"]: 404,\n    [\"ACHIEVEMENT_ALREADY_EARNED\"]: 409,\n    [\"ACHIEVEMENT_CONDITIONS_NOT_MET\"]: 400,\n    // File/upload errors\n    [\"FILE_UPLOAD_FAILED\"]: 500,\n    [\"FILE_NOT_FOUND\"]: 404,\n    [\"INVALID_FILE_TYPE\"]: 400,\n    [\"FILE_TOO_LARGE\"]: 413,\n    // Database errors\n    [\"DATABASE_ERROR\"]: 500,\n    [\"TRANSACTION_FAILED\"]: 500,\n    [\"QUERY_FAILED\"]: 500,\n    [\"DUPLICATE_ENTRY\"]: 409,\n    [\"FOREIGN_KEY_VIOLATION\"]: 400,\n    // Server errors\n    [\"SERVER_ERROR\"]: 500,\n    [\"SERVICE_UNAVAILABLE\"]: 503,\n    [\"EXTERNAL_SERVICE_ERROR\"]: 502,\n    [\"NOT_IMPLEMENTED\"]: 501\n};\n/**\n * Get default error message for an error code\n * @param code API error code\n * @returns Default error message\n */ function getDefaultErrorMessage(code) {\n    switch(code){\n        // General errors\n        case \"UNKNOWN_ERROR\":\n            return \"An unknown error occurred\";\n        case \"VALIDATION_ERROR\":\n            return \"Validation failed\";\n        case \"NOT_FOUND\":\n            return \"Resource not found\";\n        case \"METHOD_NOT_ALLOWED\":\n            return \"Method not allowed\";\n        case \"CONFLICT\":\n            return \"Resource conflict\";\n        case \"REQUEST_TIMEOUT\":\n            return \"Request timed out\";\n        case \"REQUEST_PARSE_ERROR\":\n            return \"Failed to parse request\";\n        case \"JSON_PARSE_ERROR\":\n            return \"Invalid JSON format\";\n        case \"RATE_LIMIT_EXCEEDED\":\n            return \"Rate limit exceeded\";\n        // Authentication errors\n        case \"UNAUTHORIZED\":\n            return \"You must be logged in to access this resource\";\n        case \"FORBIDDEN\":\n            return \"You do not have permission to access this resource\";\n        case \"INVALID_CREDENTIALS\":\n            return \"Invalid email or password\";\n        case \"INVALID_TOKEN\":\n            return \"Invalid authentication token\";\n        case \"TOKEN_EXPIRED\":\n            return \"Authentication token has expired\";\n        case \"MISSING_TOKEN\":\n            return \"Authentication token is required\";\n        case \"SESSION_EXPIRED\":\n            return \"Your session has expired, please log in again\";\n        // User errors\n        case \"USER_NOT_FOUND\":\n            return \"User not found\";\n        case \"USER_EXISTS\":\n            return \"User already exists\";\n        case \"INVALID_USER_ROLE\":\n            return \"Invalid user role\";\n        case \"USER_UPDATE_FAILED\":\n            return \"Failed to update user\";\n        case \"USER_CREATE_FAILED\":\n            return \"Failed to create user\";\n        case \"USER_DELETE_FAILED\":\n            return \"Failed to delete user\";\n        case \"INVALID_PASSWORD\":\n            return \"Invalid password\";\n        case \"PASSWORD_MISMATCH\":\n            return \"Passwords do not match\";\n        case \"EMAIL_EXISTS\":\n            return \"Email already in use\";\n        // Course errors\n        case \"COURSE_NOT_FOUND\":\n            return \"Course not found\";\n        case \"COURSE_EXISTS\":\n            return \"Course already exists\";\n        case \"COURSE_CREATE_FAILED\":\n            return \"Failed to create course\";\n        case \"COURSE_UPDATE_FAILED\":\n            return \"Failed to update course\";\n        case \"COURSE_DELETE_FAILED\":\n            return \"Failed to delete course\";\n        case \"LESSON_NOT_FOUND\":\n            return \"Lesson not found\";\n        case \"MODULE_NOT_FOUND\":\n            return \"Module not found\";\n        // Enrollment errors\n        case \"ENROLLMENT_EXISTS\":\n            return \"You are already enrolled in this course\";\n        case \"ENROLLMENT_NOT_FOUND\":\n            return \"Enrollment not found\";\n        case \"ENROLLMENT_FAILED\":\n            return \"Failed to enroll in course\";\n        case \"UNENROLLMENT_FAILED\":\n            return \"Failed to unenroll from course\";\n        case \"COURSE_LOCKED\":\n            return \"This course is locked\";\n        case \"PREREQUISITES_NOT_MET\":\n            return \"Course prerequisites not met\";\n        // Progress errors\n        case \"PROGRESS_NOT_FOUND\":\n            return \"Progress record not found\";\n        case \"PROGRESS_UPDATE_FAILED\":\n            return \"Failed to update progress\";\n        case \"INVALID_PROGRESS\":\n            return \"Invalid progress data\";\n        // Achievement errors\n        case \"ACHIEVEMENT_NOT_FOUND\":\n            return \"Achievement not found\";\n        case \"ACHIEVEMENT_ALREADY_EARNED\":\n            return \"Achievement already earned\";\n        case \"ACHIEVEMENT_CONDITIONS_NOT_MET\":\n            return \"Achievement conditions not met\";\n        // File/upload errors\n        case \"FILE_UPLOAD_FAILED\":\n            return \"Failed to upload file\";\n        case \"FILE_NOT_FOUND\":\n            return \"File not found\";\n        case \"INVALID_FILE_TYPE\":\n            return \"Invalid file type\";\n        case \"FILE_TOO_LARGE\":\n            return \"File is too large\";\n        // Database errors\n        case \"DATABASE_ERROR\":\n            return \"Database error occurred\";\n        case \"TRANSACTION_FAILED\":\n            return \"Database transaction failed\";\n        case \"QUERY_FAILED\":\n            return \"Database query failed\";\n        case \"DUPLICATE_ENTRY\":\n            return \"Duplicate database entry\";\n        case \"FOREIGN_KEY_VIOLATION\":\n            return \"Foreign key constraint violation\";\n        // Server errors\n        case \"SERVER_ERROR\":\n            return \"Server error occurred\";\n        case \"SERVICE_UNAVAILABLE\":\n            return \"Service is currently unavailable\";\n        case \"EXTERNAL_SERVICE_ERROR\":\n            return \"External service error\";\n        case \"NOT_IMPLEMENTED\":\n            return \"This feature is not implemented yet\";\n        default:\n            return \"An unexpected error occurred\";\n    }\n}\n/**\n * Create a standardized API error\n * @param code API error code\n * @param message Custom error message (optional)\n * @param details Error details (optional)\n * @returns Error object with code, message, and status\n */ function createApiError(code, message, details) {\n    return {\n        code,\n        message: message || getDefaultErrorMessage(code),\n        status: errorCodeToStatusMap[code],\n        details\n    };\n}\n/**\n * Convert an unknown error to a standardized API error\n * @param error Unknown error\n * @returns Standardized API error\n */ function normalizeError(error) {\n    if (typeof error === \"string\") {\n        return createApiError(\"UNKNOWN_ERROR\", error);\n    }\n    if (error instanceof Error) {\n        // Check for known error types\n        if (error.code === \"P2025\") {\n            return createApiError(\"NOT_FOUND\", error.message);\n        }\n        if (error.code === \"P2002\") {\n            return createApiError(\"DUPLICATE_ENTRY\", error.message);\n        }\n        if (error.code === \"P2003\") {\n            return createApiError(\"FOREIGN_KEY_VIOLATION\", error.message);\n        }\n        // Generic error\n        return createApiError(\"UNKNOWN_ERROR\", error.message,  true ? error.stack : 0);\n    }\n    // Default case\n    return createApiError(\"UNKNOWN_ERROR\", \"An unexpected error occurred\",  true ? error : 0);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FwaS9hcGktZXJyb3ItY29kZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FFRDs7O0NBR0M7VUFDV0E7SUFDViw2QkFBNkI7Ozs7Ozs7Ozs7SUFXN0Isb0NBQW9DOzs7Ozs7OztJQVNwQywwQkFBMEI7Ozs7Ozs7Ozs7SUFXMUIsNEJBQTRCOzs7Ozs7OztJQVM1QixnQ0FBZ0M7Ozs7Ozs7SUFRaEMsOEJBQThCOzs7O0lBSzlCLGlDQUFpQzs7OztJQUtqQyxpQ0FBaUM7Ozs7O0lBTWpDLDhCQUE4Qjs7Ozs7O0lBTzlCLDhCQUE4Qjs7Ozs7R0F4RXBCQSxpQkFBQUE7QUErRVo7O0NBRUMsR0FDTSxNQUFNQyx1QkFBcUQ7SUFDaEUsaUJBQWlCO0lBQ2pCLGlCQUE0QixFQUFFO0lBQzlCLG9CQUErQixFQUFFO0lBQ2pDLGFBQXdCLEVBQUU7SUFDMUIsc0JBQWlDLEVBQUU7SUFDbkMsWUFBdUIsRUFBRTtJQUN6QixtQkFBOEIsRUFBRTtJQUNoQyx1QkFBa0MsRUFBRTtJQUNwQyxvQkFBK0IsRUFBRTtJQUNqQyx1QkFBa0MsRUFBRTtJQUVwQyx3QkFBd0I7SUFDeEIsZ0JBQTJCLEVBQUU7SUFDN0IsYUFBd0IsRUFBRTtJQUMxQix1QkFBa0MsRUFBRTtJQUNwQyxpQkFBNEIsRUFBRTtJQUM5QixpQkFBNEIsRUFBRTtJQUM5QixpQkFBNEIsRUFBRTtJQUM5QixtQkFBOEIsRUFBRTtJQUVoQyxjQUFjO0lBQ2Qsa0JBQTZCLEVBQUU7SUFDL0IsZUFBMEIsRUFBRTtJQUM1QixxQkFBZ0MsRUFBRTtJQUNsQyxzQkFBaUMsRUFBRTtJQUNuQyxzQkFBaUMsRUFBRTtJQUNuQyxzQkFBaUMsRUFBRTtJQUNuQyxvQkFBK0IsRUFBRTtJQUNqQyxxQkFBZ0MsRUFBRTtJQUNsQyxnQkFBMkIsRUFBRTtJQUU3QixnQkFBZ0I7SUFDaEIsb0JBQStCLEVBQUU7SUFDakMsaUJBQTRCLEVBQUU7SUFDOUIsd0JBQW1DLEVBQUU7SUFDckMsd0JBQW1DLEVBQUU7SUFDckMsd0JBQW1DLEVBQUU7SUFDckMsb0JBQStCLEVBQUU7SUFDakMsb0JBQStCLEVBQUU7SUFFakMsb0JBQW9CO0lBQ3BCLHFCQUFnQyxFQUFFO0lBQ2xDLHdCQUFtQyxFQUFFO0lBQ3JDLHFCQUFnQyxFQUFFO0lBQ2xDLHVCQUFrQyxFQUFFO0lBQ3BDLGlCQUE0QixFQUFFO0lBQzlCLHlCQUFvQyxFQUFFO0lBRXRDLGtCQUFrQjtJQUNsQixzQkFBaUMsRUFBRTtJQUNuQywwQkFBcUMsRUFBRTtJQUN2QyxvQkFBK0IsRUFBRTtJQUVqQyxxQkFBcUI7SUFDckIseUJBQW9DLEVBQUU7SUFDdEMsOEJBQXlDLEVBQUU7SUFDM0Msa0NBQTZDLEVBQUU7SUFFL0MscUJBQXFCO0lBQ3JCLHNCQUFpQyxFQUFFO0lBQ25DLGtCQUE2QixFQUFFO0lBQy9CLHFCQUFnQyxFQUFFO0lBQ2xDLGtCQUE2QixFQUFFO0lBRS9CLGtCQUFrQjtJQUNsQixrQkFBNkIsRUFBRTtJQUMvQixzQkFBaUMsRUFBRTtJQUNuQyxnQkFBMkIsRUFBRTtJQUM3QixtQkFBOEIsRUFBRTtJQUNoQyx5QkFBb0MsRUFBRTtJQUV0QyxnQkFBZ0I7SUFDaEIsZ0JBQTJCLEVBQUU7SUFDN0IsdUJBQWtDLEVBQUU7SUFDcEMsMEJBQXFDLEVBQUU7SUFDdkMsbUJBQThCLEVBQUU7QUFDbEMsRUFBRTtBQUVGOzs7O0NBSUMsR0FDTSxTQUFTQyx1QkFBdUJDLElBQWtCO0lBQ3ZELE9BQVFBO1FBQ04saUJBQWlCO1FBQ2pCO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUVULHdCQUF3QjtRQUN4QjtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFFVCxjQUFjO1FBQ2Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBRVQsZ0JBQWdCO1FBQ2hCO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUVULG9CQUFvQjtRQUNwQjtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFFVCxrQkFBa0I7UUFDbEI7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBRVQscUJBQXFCO1FBQ3JCO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUVULHFCQUFxQjtRQUNyQjtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFDVDtZQUNFLE9BQU87UUFFVCxrQkFBa0I7UUFDbEI7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBQ1Q7WUFDRSxPQUFPO1FBRVQsZ0JBQWdCO1FBQ2hCO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUNUO1lBQ0UsT0FBTztRQUVUO1lBQ0UsT0FBTztJQUNYO0FBQ0Y7QUFFQTs7Ozs7O0NBTUMsR0FDTSxTQUFTQyxlQUNkRCxJQUFrQixFQUNsQkUsT0FBZ0IsRUFDaEJDLE9BQWE7SUFFYixPQUFPO1FBQ0xIO1FBQ0FFLFNBQVNBLFdBQVdILHVCQUF1QkM7UUFDM0NJLFFBQVFOLG9CQUFvQixDQUFDRSxLQUFLO1FBQ2xDRztJQUNGO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0UsZUFBZUMsS0FBYztJQUMzQyxJQUFJLE9BQU9BLFVBQVUsVUFBVTtRQUM3QixPQUFPTCxnQ0FBMkNLO0lBQ3BEO0lBRUEsSUFBSUEsaUJBQWlCQyxPQUFPO1FBQzFCLDhCQUE4QjtRQUM5QixJQUFJLE1BQWVQLElBQUksS0FBSyxTQUFTO1lBQ25DLE9BQU9DLDRCQUF1Q0ssTUFBTUosT0FBTztRQUM3RDtRQUVBLElBQUksTUFBZUYsSUFBSSxLQUFLLFNBQVM7WUFDbkMsT0FBT0Msa0NBQTZDSyxNQUFNSixPQUFPO1FBQ25FO1FBRUEsSUFBSSxNQUFlRixJQUFJLEtBQUssU0FBUztZQUNuQyxPQUFPQyx3Q0FBbURLLE1BQU1KLE9BQU87UUFDekU7UUFFQSxnQkFBZ0I7UUFDaEIsT0FBT0QsZ0NBRUxLLE1BQU1KLE9BQU8sRUFDYk0sS0FBeUIsR0FBZ0JGLE1BQU1HLEtBQUssR0FBR0MsQ0FBU0E7SUFFcEU7SUFFQSxlQUFlO0lBQ2YsT0FBT1QsZ0NBRUwsZ0NBQ0FPLEtBQXlCLEdBQWdCRixRQUFRSSxDQUFTQTtBQUU5RCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nob2ljZS1lLWxlYXJuaW5nLy4vc3JjL2xpYi9hcGkvYXBpLWVycm9yLWNvZGVzLnRzP2E3NmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdGFuZGFyZGl6ZWQgQVBJIGVycm9yIGNvZGVzXG4gKiBQcm92aWRlcyBhIGNvbnNpc3RlbnQgc2V0IG9mIGVycm9yIGNvZGVzIGZvciBBUEkgcmVzcG9uc2VzXG4gKi9cblxuLyoqXG4gKiBBUEkgZXJyb3IgY29kZXNcbiAqIENhdGVnb3JpemVkIGJ5IGRvbWFpbiBhbmQgZXJyb3IgdHlwZVxuICovXG5leHBvcnQgZW51bSBBcGlFcnJvckNvZGUge1xuICAvLyBHZW5lcmFsIGVycm9ycyAoMTAwMC0xOTk5KVxuICBVTktOT1dOX0VSUk9SID0gJ1VOS05PV05fRVJST1InLFxuICBWQUxJREFUSU9OX0VSUk9SID0gJ1ZBTElEQVRJT05fRVJST1InLFxuICBOT1RfRk9VTkQgPSAnTk9UX0ZPVU5EJyxcbiAgTUVUSE9EX05PVF9BTExPV0VEID0gJ01FVEhPRF9OT1RfQUxMT1dFRCcsXG4gIENPTkZMSUNUID0gJ0NPTkZMSUNUJyxcbiAgUkVRVUVTVF9USU1FT1VUID0gJ1JFUVVFU1RfVElNRU9VVCcsXG4gIFJFUVVFU1RfUEFSU0VfRVJST1IgPSAnUkVRVUVTVF9QQVJTRV9FUlJPUicsXG4gIEpTT05fUEFSU0VfRVJST1IgPSAnSlNPTl9QQVJTRV9FUlJPUicsXG4gIFJBVEVfTElNSVRfRVhDRUVERUQgPSAnUkFURV9MSU1JVF9FWENFRURFRCcsXG4gIFxuICAvLyBBdXRoZW50aWNhdGlvbiBlcnJvcnMgKDIwMDAtMjk5OSlcbiAgVU5BVVRIT1JJWkVEID0gJ1VOQVVUSE9SSVpFRCcsXG4gIEZPUkJJRERFTiA9ICdGT1JCSURERU4nLFxuICBJTlZBTElEX0NSRURFTlRJQUxTID0gJ0lOVkFMSURfQ1JFREVOVElBTFMnLFxuICBJTlZBTElEX1RPS0VOID0gJ0lOVkFMSURfVE9LRU4nLFxuICBUT0tFTl9FWFBJUkVEID0gJ1RPS0VOX0VYUElSRUQnLFxuICBNSVNTSU5HX1RPS0VOID0gJ01JU1NJTkdfVE9LRU4nLFxuICBTRVNTSU9OX0VYUElSRUQgPSAnU0VTU0lPTl9FWFBJUkVEJyxcbiAgXG4gIC8vIFVzZXIgZXJyb3JzICgzMDAwLTM5OTkpXG4gIFVTRVJfTk9UX0ZPVU5EID0gJ1VTRVJfTk9UX0ZPVU5EJyxcbiAgVVNFUl9FWElTVFMgPSAnVVNFUl9FWElTVFMnLFxuICBJTlZBTElEX1VTRVJfUk9MRSA9ICdJTlZBTElEX1VTRVJfUk9MRScsXG4gIFVTRVJfVVBEQVRFX0ZBSUxFRCA9ICdVU0VSX1VQREFURV9GQUlMRUQnLFxuICBVU0VSX0NSRUFURV9GQUlMRUQgPSAnVVNFUl9DUkVBVEVfRkFJTEVEJyxcbiAgVVNFUl9ERUxFVEVfRkFJTEVEID0gJ1VTRVJfREVMRVRFX0ZBSUxFRCcsXG4gIElOVkFMSURfUEFTU1dPUkQgPSAnSU5WQUxJRF9QQVNTV09SRCcsXG4gIFBBU1NXT1JEX01JU01BVENIID0gJ1BBU1NXT1JEX01JU01BVENIJyxcbiAgRU1BSUxfRVhJU1RTID0gJ0VNQUlMX0VYSVNUUycsXG4gIFxuICAvLyBDb3Vyc2UgZXJyb3JzICg0MDAwLTQ5OTkpXG4gIENPVVJTRV9OT1RfRk9VTkQgPSAnQ09VUlNFX05PVF9GT1VORCcsXG4gIENPVVJTRV9FWElTVFMgPSAnQ09VUlNFX0VYSVNUUycsXG4gIENPVVJTRV9DUkVBVEVfRkFJTEVEID0gJ0NPVVJTRV9DUkVBVEVfRkFJTEVEJyxcbiAgQ09VUlNFX1VQREFURV9GQUlMRUQgPSAnQ09VUlNFX1VQREFURV9GQUlMRUQnLFxuICBDT1VSU0VfREVMRVRFX0ZBSUxFRCA9ICdDT1VSU0VfREVMRVRFX0ZBSUxFRCcsXG4gIExFU1NPTl9OT1RfRk9VTkQgPSAnTEVTU09OX05PVF9GT1VORCcsXG4gIE1PRFVMRV9OT1RfRk9VTkQgPSAnTU9EVUxFX05PVF9GT1VORCcsXG4gIFxuICAvLyBFbnJvbGxtZW50IGVycm9ycyAoNTAwMC01OTk5KVxuICBFTlJPTExNRU5UX0VYSVNUUyA9ICdFTlJPTExNRU5UX0VYSVNUUycsXG4gIEVOUk9MTE1FTlRfTk9UX0ZPVU5EID0gJ0VOUk9MTE1FTlRfTk9UX0ZPVU5EJyxcbiAgRU5ST0xMTUVOVF9GQUlMRUQgPSAnRU5ST0xMTUVOVF9GQUlMRUQnLFxuICBVTkVOUk9MTE1FTlRfRkFJTEVEID0gJ1VORU5ST0xMTUVOVF9GQUlMRUQnLFxuICBDT1VSU0VfTE9DS0VEID0gJ0NPVVJTRV9MT0NLRUQnLFxuICBQUkVSRVFVSVNJVEVTX05PVF9NRVQgPSAnUFJFUkVRVUlTSVRFU19OT1RfTUVUJyxcbiAgXG4gIC8vIFByb2dyZXNzIGVycm9ycyAoNjAwMC02OTk5KVxuICBQUk9HUkVTU19OT1RfRk9VTkQgPSAnUFJPR1JFU1NfTk9UX0ZPVU5EJyxcbiAgUFJPR1JFU1NfVVBEQVRFX0ZBSUxFRCA9ICdQUk9HUkVTU19VUERBVEVfRkFJTEVEJyxcbiAgSU5WQUxJRF9QUk9HUkVTUyA9ICdJTlZBTElEX1BST0dSRVNTJyxcbiAgXG4gIC8vIEFjaGlldmVtZW50IGVycm9ycyAoNzAwMC03OTk5KVxuICBBQ0hJRVZFTUVOVF9OT1RfRk9VTkQgPSAnQUNISUVWRU1FTlRfTk9UX0ZPVU5EJyxcbiAgQUNISUVWRU1FTlRfQUxSRUFEWV9FQVJORUQgPSAnQUNISUVWRU1FTlRfQUxSRUFEWV9FQVJORUQnLFxuICBBQ0hJRVZFTUVOVF9DT05ESVRJT05TX05PVF9NRVQgPSAnQUNISUVWRU1FTlRfQ09ORElUSU9OU19OT1RfTUVUJyxcbiAgXG4gIC8vIEZpbGUvdXBsb2FkIGVycm9ycyAoODAwMC04OTk5KVxuICBGSUxFX1VQTE9BRF9GQUlMRUQgPSAnRklMRV9VUExPQURfRkFJTEVEJyxcbiAgRklMRV9OT1RfRk9VTkQgPSAnRklMRV9OT1RfRk9VTkQnLFxuICBJTlZBTElEX0ZJTEVfVFlQRSA9ICdJTlZBTElEX0ZJTEVfVFlQRScsXG4gIEZJTEVfVE9PX0xBUkdFID0gJ0ZJTEVfVE9PX0xBUkdFJyxcbiAgXG4gIC8vIERhdGFiYXNlIGVycm9ycyAoOTAwMC05OTk5KVxuICBEQVRBQkFTRV9FUlJPUiA9ICdEQVRBQkFTRV9FUlJPUicsXG4gIFRSQU5TQUNUSU9OX0ZBSUxFRCA9ICdUUkFOU0FDVElPTl9GQUlMRUQnLFxuICBRVUVSWV9GQUlMRUQgPSAnUVVFUllfRkFJTEVEJyxcbiAgRFVQTElDQVRFX0VOVFJZID0gJ0RVUExJQ0FURV9FTlRSWScsXG4gIEZPUkVJR05fS0VZX1ZJT0xBVElPTiA9ICdGT1JFSUdOX0tFWV9WSU9MQVRJT04nLFxuICBcbiAgLy8gU2VydmVyIGVycm9ycyAoMTAwMDAtMTA5OTkpXG4gIFNFUlZFUl9FUlJPUiA9ICdTRVJWRVJfRVJST1InLFxuICBTRVJWSUNFX1VOQVZBSUxBQkxFID0gJ1NFUlZJQ0VfVU5BVkFJTEFCTEUnLFxuICBFWFRFUk5BTF9TRVJWSUNFX0VSUk9SID0gJ0VYVEVSTkFMX1NFUlZJQ0VfRVJST1InLFxuICBOT1RfSU1QTEVNRU5URUQgPSAnTk9UX0lNUExFTUVOVEVEJ1xufVxuXG4vKipcbiAqIE1hcCBBUEkgZXJyb3IgY29kZXMgdG8gSFRUUCBzdGF0dXMgY29kZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGVycm9yQ29kZVRvU3RhdHVzTWFwOiBSZWNvcmQ8QXBpRXJyb3JDb2RlLCBudW1iZXI+ID0ge1xuICAvLyBHZW5lcmFsIGVycm9yc1xuICBbQXBpRXJyb3JDb2RlLlVOS05PV05fRVJST1JdOiA1MDAsXG4gIFtBcGlFcnJvckNvZGUuVkFMSURBVElPTl9FUlJPUl06IDQwMCxcbiAgW0FwaUVycm9yQ29kZS5OT1RfRk9VTkRdOiA0MDQsXG4gIFtBcGlFcnJvckNvZGUuTUVUSE9EX05PVF9BTExPV0VEXTogNDA1LFxuICBbQXBpRXJyb3JDb2RlLkNPTkZMSUNUXTogNDA5LFxuICBbQXBpRXJyb3JDb2RlLlJFUVVFU1RfVElNRU9VVF06IDQwOCxcbiAgW0FwaUVycm9yQ29kZS5SRVFVRVNUX1BBUlNFX0VSUk9SXTogNDAwLFxuICBbQXBpRXJyb3JDb2RlLkpTT05fUEFSU0VfRVJST1JdOiA0MDAsXG4gIFtBcGlFcnJvckNvZGUuUkFURV9MSU1JVF9FWENFRURFRF06IDQyOSxcbiAgXG4gIC8vIEF1dGhlbnRpY2F0aW9uIGVycm9yc1xuICBbQXBpRXJyb3JDb2RlLlVOQVVUSE9SSVpFRF06IDQwMSxcbiAgW0FwaUVycm9yQ29kZS5GT1JCSURERU5dOiA0MDMsXG4gIFtBcGlFcnJvckNvZGUuSU5WQUxJRF9DUkVERU5USUFMU106IDQwMSxcbiAgW0FwaUVycm9yQ29kZS5JTlZBTElEX1RPS0VOXTogNDAxLFxuICBbQXBpRXJyb3JDb2RlLlRPS0VOX0VYUElSRURdOiA0MDEsXG4gIFtBcGlFcnJvckNvZGUuTUlTU0lOR19UT0tFTl06IDQwMSxcbiAgW0FwaUVycm9yQ29kZS5TRVNTSU9OX0VYUElSRURdOiA0MDEsXG4gIFxuICAvLyBVc2VyIGVycm9yc1xuICBbQXBpRXJyb3JDb2RlLlVTRVJfTk9UX0ZPVU5EXTogNDA0LFxuICBbQXBpRXJyb3JDb2RlLlVTRVJfRVhJU1RTXTogNDA5LFxuICBbQXBpRXJyb3JDb2RlLklOVkFMSURfVVNFUl9ST0xFXTogNDAwLFxuICBbQXBpRXJyb3JDb2RlLlVTRVJfVVBEQVRFX0ZBSUxFRF06IDUwMCxcbiAgW0FwaUVycm9yQ29kZS5VU0VSX0NSRUFURV9GQUlMRURdOiA1MDAsXG4gIFtBcGlFcnJvckNvZGUuVVNFUl9ERUxFVEVfRkFJTEVEXTogNTAwLFxuICBbQXBpRXJyb3JDb2RlLklOVkFMSURfUEFTU1dPUkRdOiA0MDAsXG4gIFtBcGlFcnJvckNvZGUuUEFTU1dPUkRfTUlTTUFUQ0hdOiA0MDAsXG4gIFtBcGlFcnJvckNvZGUuRU1BSUxfRVhJU1RTXTogNDA5LFxuICBcbiAgLy8gQ291cnNlIGVycm9yc1xuICBbQXBpRXJyb3JDb2RlLkNPVVJTRV9OT1RfRk9VTkRdOiA0MDQsXG4gIFtBcGlFcnJvckNvZGUuQ09VUlNFX0VYSVNUU106IDQwOSxcbiAgW0FwaUVycm9yQ29kZS5DT1VSU0VfQ1JFQVRFX0ZBSUxFRF06IDUwMCxcbiAgW0FwaUVycm9yQ29kZS5DT1VSU0VfVVBEQVRFX0ZBSUxFRF06IDUwMCxcbiAgW0FwaUVycm9yQ29kZS5DT1VSU0VfREVMRVRFX0ZBSUxFRF06IDUwMCxcbiAgW0FwaUVycm9yQ29kZS5MRVNTT05fTk9UX0ZPVU5EXTogNDA0LFxuICBbQXBpRXJyb3JDb2RlLk1PRFVMRV9OT1RfRk9VTkRdOiA0MDQsXG4gIFxuICAvLyBFbnJvbGxtZW50IGVycm9yc1xuICBbQXBpRXJyb3JDb2RlLkVOUk9MTE1FTlRfRVhJU1RTXTogNDA5LFxuICBbQXBpRXJyb3JDb2RlLkVOUk9MTE1FTlRfTk9UX0ZPVU5EXTogNDA0LFxuICBbQXBpRXJyb3JDb2RlLkVOUk9MTE1FTlRfRkFJTEVEXTogNTAwLFxuICBbQXBpRXJyb3JDb2RlLlVORU5ST0xMTUVOVF9GQUlMRURdOiA1MDAsXG4gIFtBcGlFcnJvckNvZGUuQ09VUlNFX0xPQ0tFRF06IDQwMyxcbiAgW0FwaUVycm9yQ29kZS5QUkVSRVFVSVNJVEVTX05PVF9NRVRdOiA0MDAsXG4gIFxuICAvLyBQcm9ncmVzcyBlcnJvcnNcbiAgW0FwaUVycm9yQ29kZS5QUk9HUkVTU19OT1RfRk9VTkRdOiA0MDQsXG4gIFtBcGlFcnJvckNvZGUuUFJPR1JFU1NfVVBEQVRFX0ZBSUxFRF06IDUwMCxcbiAgW0FwaUVycm9yQ29kZS5JTlZBTElEX1BST0dSRVNTXTogNDAwLFxuICBcbiAgLy8gQWNoaWV2ZW1lbnQgZXJyb3JzXG4gIFtBcGlFcnJvckNvZGUuQUNISUVWRU1FTlRfTk9UX0ZPVU5EXTogNDA0LFxuICBbQXBpRXJyb3JDb2RlLkFDSElFVkVNRU5UX0FMUkVBRFlfRUFSTkVEXTogNDA5LFxuICBbQXBpRXJyb3JDb2RlLkFDSElFVkVNRU5UX0NPTkRJVElPTlNfTk9UX01FVF06IDQwMCxcbiAgXG4gIC8vIEZpbGUvdXBsb2FkIGVycm9yc1xuICBbQXBpRXJyb3JDb2RlLkZJTEVfVVBMT0FEX0ZBSUxFRF06IDUwMCxcbiAgW0FwaUVycm9yQ29kZS5GSUxFX05PVF9GT1VORF06IDQwNCxcbiAgW0FwaUVycm9yQ29kZS5JTlZBTElEX0ZJTEVfVFlQRV06IDQwMCxcbiAgW0FwaUVycm9yQ29kZS5GSUxFX1RPT19MQVJHRV06IDQxMyxcbiAgXG4gIC8vIERhdGFiYXNlIGVycm9yc1xuICBbQXBpRXJyb3JDb2RlLkRBVEFCQVNFX0VSUk9SXTogNTAwLFxuICBbQXBpRXJyb3JDb2RlLlRSQU5TQUNUSU9OX0ZBSUxFRF06IDUwMCxcbiAgW0FwaUVycm9yQ29kZS5RVUVSWV9GQUlMRURdOiA1MDAsXG4gIFtBcGlFcnJvckNvZGUuRFVQTElDQVRFX0VOVFJZXTogNDA5LFxuICBbQXBpRXJyb3JDb2RlLkZPUkVJR05fS0VZX1ZJT0xBVElPTl06IDQwMCxcbiAgXG4gIC8vIFNlcnZlciBlcnJvcnNcbiAgW0FwaUVycm9yQ29kZS5TRVJWRVJfRVJST1JdOiA1MDAsXG4gIFtBcGlFcnJvckNvZGUuU0VSVklDRV9VTkFWQUlMQUJMRV06IDUwMyxcbiAgW0FwaUVycm9yQ29kZS5FWFRFUk5BTF9TRVJWSUNFX0VSUk9SXTogNTAyLFxuICBbQXBpRXJyb3JDb2RlLk5PVF9JTVBMRU1FTlRFRF06IDUwMVxufTtcblxuLyoqXG4gKiBHZXQgZGVmYXVsdCBlcnJvciBtZXNzYWdlIGZvciBhbiBlcnJvciBjb2RlXG4gKiBAcGFyYW0gY29kZSBBUEkgZXJyb3IgY29kZVxuICogQHJldHVybnMgRGVmYXVsdCBlcnJvciBtZXNzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0RXJyb3JNZXNzYWdlKGNvZGU6IEFwaUVycm9yQ29kZSk6IHN0cmluZyB7XG4gIHN3aXRjaCAoY29kZSkge1xuICAgIC8vIEdlbmVyYWwgZXJyb3JzXG4gICAgY2FzZSBBcGlFcnJvckNvZGUuVU5LTk9XTl9FUlJPUjpcbiAgICAgIHJldHVybiAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuVkFMSURBVElPTl9FUlJPUjpcbiAgICAgIHJldHVybiAnVmFsaWRhdGlvbiBmYWlsZWQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLk5PVF9GT1VORDpcbiAgICAgIHJldHVybiAnUmVzb3VyY2Ugbm90IGZvdW5kJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5NRVRIT0RfTk9UX0FMTE9XRUQ6XG4gICAgICByZXR1cm4gJ01ldGhvZCBub3QgYWxsb3dlZCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuQ09ORkxJQ1Q6XG4gICAgICByZXR1cm4gJ1Jlc291cmNlIGNvbmZsaWN0JztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5SRVFVRVNUX1RJTUVPVVQ6XG4gICAgICByZXR1cm4gJ1JlcXVlc3QgdGltZWQgb3V0JztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5SRVFVRVNUX1BBUlNFX0VSUk9SOlxuICAgICAgcmV0dXJuICdGYWlsZWQgdG8gcGFyc2UgcmVxdWVzdCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuSlNPTl9QQVJTRV9FUlJPUjpcbiAgICAgIHJldHVybiAnSW52YWxpZCBKU09OIGZvcm1hdCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuUkFURV9MSU1JVF9FWENFRURFRDpcbiAgICAgIHJldHVybiAnUmF0ZSBsaW1pdCBleGNlZWRlZCc7XG4gICAgXG4gICAgLy8gQXV0aGVudGljYXRpb24gZXJyb3JzXG4gICAgY2FzZSBBcGlFcnJvckNvZGUuVU5BVVRIT1JJWkVEOlxuICAgICAgcmV0dXJuICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2UnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkZPUkJJRERFTjpcbiAgICAgIHJldHVybiAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2UnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLklOVkFMSURfQ1JFREVOVElBTFM6XG4gICAgICByZXR1cm4gJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLklOVkFMSURfVE9LRU46XG4gICAgICByZXR1cm4gJ0ludmFsaWQgYXV0aGVudGljYXRpb24gdG9rZW4nO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLlRPS0VOX0VYUElSRUQ6XG4gICAgICByZXR1cm4gJ0F1dGhlbnRpY2F0aW9uIHRva2VuIGhhcyBleHBpcmVkJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5NSVNTSU5HX1RPS0VOOlxuICAgICAgcmV0dXJuICdBdXRoZW50aWNhdGlvbiB0b2tlbiBpcyByZXF1aXJlZCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuU0VTU0lPTl9FWFBJUkVEOlxuICAgICAgcmV0dXJuICdZb3VyIHNlc3Npb24gaGFzIGV4cGlyZWQsIHBsZWFzZSBsb2cgaW4gYWdhaW4nO1xuICAgIFxuICAgIC8vIFVzZXIgZXJyb3JzXG4gICAgY2FzZSBBcGlFcnJvckNvZGUuVVNFUl9OT1RfRk9VTkQ6XG4gICAgICByZXR1cm4gJ1VzZXIgbm90IGZvdW5kJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5VU0VSX0VYSVNUUzpcbiAgICAgIHJldHVybiAnVXNlciBhbHJlYWR5IGV4aXN0cyc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuSU5WQUxJRF9VU0VSX1JPTEU6XG4gICAgICByZXR1cm4gJ0ludmFsaWQgdXNlciByb2xlJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5VU0VSX1VQREFURV9GQUlMRUQ6XG4gICAgICByZXR1cm4gJ0ZhaWxlZCB0byB1cGRhdGUgdXNlcic7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuVVNFUl9DUkVBVEVfRkFJTEVEOlxuICAgICAgcmV0dXJuICdGYWlsZWQgdG8gY3JlYXRlIHVzZXInO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLlVTRVJfREVMRVRFX0ZBSUxFRDpcbiAgICAgIHJldHVybiAnRmFpbGVkIHRvIGRlbGV0ZSB1c2VyJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5JTlZBTElEX1BBU1NXT1JEOlxuICAgICAgcmV0dXJuICdJbnZhbGlkIHBhc3N3b3JkJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5QQVNTV09SRF9NSVNNQVRDSDpcbiAgICAgIHJldHVybiAnUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuRU1BSUxfRVhJU1RTOlxuICAgICAgcmV0dXJuICdFbWFpbCBhbHJlYWR5IGluIHVzZSc7XG4gICAgXG4gICAgLy8gQ291cnNlIGVycm9yc1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkNPVVJTRV9OT1RfRk9VTkQ6XG4gICAgICByZXR1cm4gJ0NvdXJzZSBub3QgZm91bmQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkNPVVJTRV9FWElTVFM6XG4gICAgICByZXR1cm4gJ0NvdXJzZSBhbHJlYWR5IGV4aXN0cyc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuQ09VUlNFX0NSRUFURV9GQUlMRUQ6XG4gICAgICByZXR1cm4gJ0ZhaWxlZCB0byBjcmVhdGUgY291cnNlJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5DT1VSU0VfVVBEQVRFX0ZBSUxFRDpcbiAgICAgIHJldHVybiAnRmFpbGVkIHRvIHVwZGF0ZSBjb3Vyc2UnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkNPVVJTRV9ERUxFVEVfRkFJTEVEOlxuICAgICAgcmV0dXJuICdGYWlsZWQgdG8gZGVsZXRlIGNvdXJzZSc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuTEVTU09OX05PVF9GT1VORDpcbiAgICAgIHJldHVybiAnTGVzc29uIG5vdCBmb3VuZCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuTU9EVUxFX05PVF9GT1VORDpcbiAgICAgIHJldHVybiAnTW9kdWxlIG5vdCBmb3VuZCc7XG4gICAgXG4gICAgLy8gRW5yb2xsbWVudCBlcnJvcnNcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5FTlJPTExNRU5UX0VYSVNUUzpcbiAgICAgIHJldHVybiAnWW91IGFyZSBhbHJlYWR5IGVucm9sbGVkIGluIHRoaXMgY291cnNlJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5FTlJPTExNRU5UX05PVF9GT1VORDpcbiAgICAgIHJldHVybiAnRW5yb2xsbWVudCBub3QgZm91bmQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkVOUk9MTE1FTlRfRkFJTEVEOlxuICAgICAgcmV0dXJuICdGYWlsZWQgdG8gZW5yb2xsIGluIGNvdXJzZSc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuVU5FTlJPTExNRU5UX0ZBSUxFRDpcbiAgICAgIHJldHVybiAnRmFpbGVkIHRvIHVuZW5yb2xsIGZyb20gY291cnNlJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5DT1VSU0VfTE9DS0VEOlxuICAgICAgcmV0dXJuICdUaGlzIGNvdXJzZSBpcyBsb2NrZWQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLlBSRVJFUVVJU0lURVNfTk9UX01FVDpcbiAgICAgIHJldHVybiAnQ291cnNlIHByZXJlcXVpc2l0ZXMgbm90IG1ldCc7XG4gICAgXG4gICAgLy8gUHJvZ3Jlc3MgZXJyb3JzXG4gICAgY2FzZSBBcGlFcnJvckNvZGUuUFJPR1JFU1NfTk9UX0ZPVU5EOlxuICAgICAgcmV0dXJuICdQcm9ncmVzcyByZWNvcmQgbm90IGZvdW5kJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5QUk9HUkVTU19VUERBVEVfRkFJTEVEOlxuICAgICAgcmV0dXJuICdGYWlsZWQgdG8gdXBkYXRlIHByb2dyZXNzJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5JTlZBTElEX1BST0dSRVNTOlxuICAgICAgcmV0dXJuICdJbnZhbGlkIHByb2dyZXNzIGRhdGEnO1xuICAgIFxuICAgIC8vIEFjaGlldmVtZW50IGVycm9yc1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkFDSElFVkVNRU5UX05PVF9GT1VORDpcbiAgICAgIHJldHVybiAnQWNoaWV2ZW1lbnQgbm90IGZvdW5kJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5BQ0hJRVZFTUVOVF9BTFJFQURZX0VBUk5FRDpcbiAgICAgIHJldHVybiAnQWNoaWV2ZW1lbnQgYWxyZWFkeSBlYXJuZWQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkFDSElFVkVNRU5UX0NPTkRJVElPTlNfTk9UX01FVDpcbiAgICAgIHJldHVybiAnQWNoaWV2ZW1lbnQgY29uZGl0aW9ucyBub3QgbWV0JztcbiAgICBcbiAgICAvLyBGaWxlL3VwbG9hZCBlcnJvcnNcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5GSUxFX1VQTE9BRF9GQUlMRUQ6XG4gICAgICByZXR1cm4gJ0ZhaWxlZCB0byB1cGxvYWQgZmlsZSc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuRklMRV9OT1RfRk9VTkQ6XG4gICAgICByZXR1cm4gJ0ZpbGUgbm90IGZvdW5kJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5JTlZBTElEX0ZJTEVfVFlQRTpcbiAgICAgIHJldHVybiAnSW52YWxpZCBmaWxlIHR5cGUnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkZJTEVfVE9PX0xBUkdFOlxuICAgICAgcmV0dXJuICdGaWxlIGlzIHRvbyBsYXJnZSc7XG4gICAgXG4gICAgLy8gRGF0YWJhc2UgZXJyb3JzXG4gICAgY2FzZSBBcGlFcnJvckNvZGUuREFUQUJBU0VfRVJST1I6XG4gICAgICByZXR1cm4gJ0RhdGFiYXNlIGVycm9yIG9jY3VycmVkJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5UUkFOU0FDVElPTl9GQUlMRUQ6XG4gICAgICByZXR1cm4gJ0RhdGFiYXNlIHRyYW5zYWN0aW9uIGZhaWxlZCc7XG4gICAgY2FzZSBBcGlFcnJvckNvZGUuUVVFUllfRkFJTEVEOlxuICAgICAgcmV0dXJuICdEYXRhYmFzZSBxdWVyeSBmYWlsZWQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLkRVUExJQ0FURV9FTlRSWTpcbiAgICAgIHJldHVybiAnRHVwbGljYXRlIGRhdGFiYXNlIGVudHJ5JztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5GT1JFSUdOX0tFWV9WSU9MQVRJT046XG4gICAgICByZXR1cm4gJ0ZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uJztcbiAgICBcbiAgICAvLyBTZXJ2ZXIgZXJyb3JzXG4gICAgY2FzZSBBcGlFcnJvckNvZGUuU0VSVkVSX0VSUk9SOlxuICAgICAgcmV0dXJuICdTZXJ2ZXIgZXJyb3Igb2NjdXJyZWQnO1xuICAgIGNhc2UgQXBpRXJyb3JDb2RlLlNFUlZJQ0VfVU5BVkFJTEFCTEU6XG4gICAgICByZXR1cm4gJ1NlcnZpY2UgaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5FWFRFUk5BTF9TRVJWSUNFX0VSUk9SOlxuICAgICAgcmV0dXJuICdFeHRlcm5hbCBzZXJ2aWNlIGVycm9yJztcbiAgICBjYXNlIEFwaUVycm9yQ29kZS5OT1RfSU1QTEVNRU5URUQ6XG4gICAgICByZXR1cm4gJ1RoaXMgZmVhdHVyZSBpcyBub3QgaW1wbGVtZW50ZWQgeWV0JztcbiAgICBcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJztcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHN0YW5kYXJkaXplZCBBUEkgZXJyb3JcbiAqIEBwYXJhbSBjb2RlIEFQSSBlcnJvciBjb2RlXG4gKiBAcGFyYW0gbWVzc2FnZSBDdXN0b20gZXJyb3IgbWVzc2FnZSAob3B0aW9uYWwpXG4gKiBAcGFyYW0gZGV0YWlscyBFcnJvciBkZXRhaWxzIChvcHRpb25hbClcbiAqIEByZXR1cm5zIEVycm9yIG9iamVjdCB3aXRoIGNvZGUsIG1lc3NhZ2UsIGFuZCBzdGF0dXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFwaUVycm9yKFxuICBjb2RlOiBBcGlFcnJvckNvZGUsXG4gIG1lc3NhZ2U/OiBzdHJpbmcsXG4gIGRldGFpbHM/OiBhbnlcbikge1xuICByZXR1cm4ge1xuICAgIGNvZGUsXG4gICAgbWVzc2FnZTogbWVzc2FnZSB8fCBnZXREZWZhdWx0RXJyb3JNZXNzYWdlKGNvZGUpLFxuICAgIHN0YXR1czogZXJyb3JDb2RlVG9TdGF0dXNNYXBbY29kZV0sXG4gICAgZGV0YWlsc1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gdW5rbm93biBlcnJvciB0byBhIHN0YW5kYXJkaXplZCBBUEkgZXJyb3JcbiAqIEBwYXJhbSBlcnJvciBVbmtub3duIGVycm9yXG4gKiBAcmV0dXJucyBTdGFuZGFyZGl6ZWQgQVBJIGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVFcnJvcihlcnJvcjogdW5rbm93bikge1xuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjcmVhdGVBcGlFcnJvcihBcGlFcnJvckNvZGUuVU5LTk9XTl9FUlJPUiwgZXJyb3IpO1xuICB9XG4gIFxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIC8vIENoZWNrIGZvciBrbm93biBlcnJvciB0eXBlc1xuICAgIGlmICgoZXJyb3IgYXMgYW55KS5jb2RlID09PSAnUDIwMjUnKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXBpRXJyb3IoQXBpRXJyb3JDb2RlLk5PVF9GT1VORCwgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIFxuICAgIGlmICgoZXJyb3IgYXMgYW55KS5jb2RlID09PSAnUDIwMDInKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXBpRXJyb3IoQXBpRXJyb3JDb2RlLkRVUExJQ0FURV9FTlRSWSwgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIFxuICAgIGlmICgoZXJyb3IgYXMgYW55KS5jb2RlID09PSAnUDIwMDMnKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXBpRXJyb3IoQXBpRXJyb3JDb2RlLkZPUkVJR05fS0VZX1ZJT0xBVElPTiwgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdlbmVyaWMgZXJyb3JcbiAgICByZXR1cm4gY3JlYXRlQXBpRXJyb3IoXG4gICAgICBBcGlFcnJvckNvZGUuVU5LTk9XTl9FUlJPUixcbiAgICAgIGVycm9yLm1lc3NhZ2UsXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXG4gICAgKTtcbiAgfVxuICBcbiAgLy8gRGVmYXVsdCBjYXNlXG4gIHJldHVybiBjcmVhdGVBcGlFcnJvcihcbiAgICBBcGlFcnJvckNvZGUuVU5LTk9XTl9FUlJPUixcbiAgICAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcsXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBlcnJvciA6IHVuZGVmaW5lZFxuICApO1xufVxuIl0sIm5hbWVzIjpbIkFwaUVycm9yQ29kZSIsImVycm9yQ29kZVRvU3RhdHVzTWFwIiwiZ2V0RGVmYXVsdEVycm9yTWVzc2FnZSIsImNvZGUiLCJjcmVhdGVBcGlFcnJvciIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwic3RhdHVzIiwibm9ybWFsaXplRXJyb3IiLCJlcnJvciIsIkVycm9yIiwicHJvY2VzcyIsInN0YWNrIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api/api-error-codes.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/api/api-response.ts":
/*!*************************************!*\
  !*** ./src/lib/api/api-response.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiCreated: () => (/* binding */ apiCreated),\n/* harmony export */   apiDeleted: () => (/* binding */ apiDeleted),\n/* harmony export */   apiError: () => (/* binding */ apiError),\n/* harmony export */   apiForbidden: () => (/* binding */ apiForbidden),\n/* harmony export */   apiNotFound: () => (/* binding */ apiNotFound),\n/* harmony export */   apiServerError: () => (/* binding */ apiServerError),\n/* harmony export */   apiSuccess: () => (/* binding */ apiSuccess),\n/* harmony export */   apiUnauthorized: () => (/* binding */ apiUnauthorized),\n/* harmony export */   apiUpdated: () => (/* binding */ apiUpdated),\n/* harmony export */   apiValidationError: () => (/* binding */ apiValidationError)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _api_error_codes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api-error-codes */ \"(rsc)/./src/lib/api/api-error-codes.ts\");\n/**\n * Standard API response utilities\n * Provides consistent formatting for all API responses\n */ \n\n/**\n * Format a successful API response\n * @param data Response data\n * @param message Optional success message\n * @param meta Optional metadata (like pagination)\n * @param status HTTP status code (default: 200)\n * @returns NextResponse with formatted success response\n */ function apiSuccess(data, message, meta, status = 200) {\n    const response = {\n        success: true,\n        data,\n        ...message && {\n            message\n        },\n        ...meta && {\n            meta\n        }\n    };\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(response, {\n        status\n    });\n}\n/**\n * Format an error API response\n * @param error Error message\n * @param details Optional error details\n * @param code Optional error code\n * @param status HTTP status code (default: 400)\n * @returns NextResponse with formatted error response\n */ function apiError(error, details, code, status) {\n    // If error is an ApiErrorCode enum value\n    if (Object.values(_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode).includes(error)) {\n        const errorCode = error;\n        const response = {\n            success: false,\n            error: (0,_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.getDefaultErrorMessage)(errorCode),\n            code: errorCode,\n            ...details && {\n                details\n            }\n        };\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(response, {\n            status: status ?? _api_error_codes__WEBPACK_IMPORTED_MODULE_1__.errorCodeToStatusMap[errorCode]\n        });\n    }\n    // If error is a string message\n    const response = {\n        success: false,\n        error: error,\n        ...details && {\n            details\n        },\n        ...code && {\n            code\n        }\n    };\n    const statusCode = code ? _api_error_codes__WEBPACK_IMPORTED_MODULE_1__.errorCodeToStatusMap[code] : status ?? 400;\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(response, {\n        status: statusCode\n    });\n}\n/**\n * Format validation errors from Zod\n * @param zodError Zod validation error\n * @returns NextResponse with formatted validation error\n */ function apiValidationError(zodError) {\n    const errorDetails = zodError.errors.map((err)=>`${err.path.join(\".\")}: ${err.message}`);\n    return apiError((0,_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.getDefaultErrorMessage)(_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.VALIDATION_ERROR), errorDetails, _api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.VALIDATION_ERROR);\n}\n/**\n * Create a success response for a created resource\n * @param data Created resource data\n * @param message Optional success message\n * @returns NextResponse with 201 status code\n */ function apiCreated(data, message = \"Resource created successfully\") {\n    return apiSuccess(data, message, undefined, 201);\n}\n/**\n * Create a success response for an updated resource\n * @param data Updated resource data\n * @param message Optional success message\n * @returns NextResponse with success status code\n */ function apiUpdated(data, message = \"Resource updated successfully\") {\n    return apiSuccess(data, message);\n}\n/**\n * Create a success response for a deleted resource\n * @param message Optional success message\n * @returns NextResponse with success status code\n */ function apiDeleted(message = \"Resource deleted successfully\") {\n    return apiSuccess(null, message);\n}\n/**\n * Create a not found error response\n * @param resource Resource type\n * @returns NextResponse with 404 status code\n */ function apiNotFound(resource = \"Resource\") {\n    return apiError(`${resource} not found`, undefined, _api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.NOT_FOUND);\n}\n/**\n * Create an unauthorized error response\n * @param message Optional custom message\n * @returns NextResponse with 401 status code\n */ function apiUnauthorized(message) {\n    return apiError(message ?? (0,_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.getDefaultErrorMessage)(_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.UNAUTHORIZED), undefined, _api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.UNAUTHORIZED);\n}\n/**\n * Create a forbidden error response\n * @param message Optional custom message\n * @returns NextResponse with 403 status code\n */ function apiForbidden(message) {\n    return apiError(message ?? (0,_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.getDefaultErrorMessage)(_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.FORBIDDEN), undefined, _api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.FORBIDDEN);\n}\n/**\n * Create a server error response\n * @param message Optional custom message\n * @param details Optional error details\n * @returns NextResponse with 500 status code\n */ function apiServerError(message, details) {\n    return apiError(message ?? (0,_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.getDefaultErrorMessage)(_api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.SERVER_ERROR), details, _api_error_codes__WEBPACK_IMPORTED_MODULE_1__.ApiErrorCode.SERVER_ERROR);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0VBQXNCQSxDQUFDRCwwREFBWUEsQ0FBQ3VDLFNBQVMsR0FDeERULFdBQ0E5QiwwREFBWUEsQ0FBQ3VDLFNBQVM7QUFFMUI7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNDLGVBQ2RuQyxPQUFnQixFQUNoQlEsT0FBc0M7SUFFdEMsT0FBT0YsU0FDTE4sV0FBV0osd0VBQXNCQSxDQUFDRCwwREFBWUEsQ0FBQ3lDLFlBQVksR0FDM0Q1QixTQUNBYiwwREFBWUEsQ0FBQ3lDLFlBQVk7QUFFN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9saWIvYXBpL2FwaS1yZXNwb25zZS50cz9kMGFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3RhbmRhcmQgQVBJIHJlc3BvbnNlIHV0aWxpdGllc1xuICogUHJvdmlkZXMgY29uc2lzdGVudCBmb3JtYXR0aW5nIGZvciBhbGwgQVBJIHJlc3BvbnNlc1xuICovXG5cbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IEFwaUVycm9yQ29kZSwgZ2V0RGVmYXVsdEVycm9yTWVzc2FnZSwgZXJyb3JDb2RlVG9TdGF0dXNNYXAgfSBmcm9tICcuL2FwaS1lcnJvci1jb2Rlcyc7XG5cbmV4cG9ydCB0eXBlIEFwaVN1Y2Nlc3NSZXNwb25zZTxUID0gYW55PiA9IHtcbiAgc3VjY2VzczogdHJ1ZTtcbiAgZGF0YTogVDtcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgbWV0YT86IHtcbiAgICBwYWdpbmF0aW9uPzoge1xuICAgICAgcGFnZTogbnVtYmVyO1xuICAgICAgcGFnZVNpemU6IG51bWJlcjtcbiAgICAgIHRvdGFsSXRlbXM6IG51bWJlcjtcbiAgICAgIHRvdGFsUGFnZXM6IG51bWJlcjtcbiAgICAgIGhhc05leHRQYWdlOiBib29sZWFuO1xuICAgICAgaGFzUHJldlBhZ2U6IGJvb2xlYW47XG4gICAgfTtcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBBcGlFcnJvclJlc3BvbnNlID0ge1xuICBzdWNjZXNzOiBmYWxzZTtcbiAgZXJyb3I6IHN0cmluZztcbiAgZGV0YWlscz86IHN0cmluZyB8IHN0cmluZ1tdIHwgUmVjb3JkPHN0cmluZywgYW55PjtcbiAgY29kZT86IEFwaUVycm9yQ29kZSB8IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEFwaVJlc3BvbnNlPFQgPSBhbnk+ID0gQXBpU3VjY2Vzc1Jlc3BvbnNlPFQ+IHwgQXBpRXJyb3JSZXNwb25zZTtcblxuLyoqXG4gKiBGb3JtYXQgYSBzdWNjZXNzZnVsIEFQSSByZXNwb25zZVxuICogQHBhcmFtIGRhdGEgUmVzcG9uc2UgZGF0YVxuICogQHBhcmFtIG1lc3NhZ2UgT3B0aW9uYWwgc3VjY2VzcyBtZXNzYWdlXG4gKiBAcGFyYW0gbWV0YSBPcHRpb25hbCBtZXRhZGF0YSAobGlrZSBwYWdpbmF0aW9uKVxuICogQHBhcmFtIHN0YXR1cyBIVFRQIHN0YXR1cyBjb2RlIChkZWZhdWx0OiAyMDApXG4gKiBAcmV0dXJucyBOZXh0UmVzcG9uc2Ugd2l0aCBmb3JtYXR0ZWQgc3VjY2VzcyByZXNwb25zZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBpU3VjY2VzczxUID0gYW55PihcbiAgZGF0YTogVCxcbiAgbWVzc2FnZT86IHN0cmluZyxcbiAgbWV0YT86IEFwaVN1Y2Nlc3NSZXNwb25zZVsnbWV0YSddLFxuICBzdGF0dXMgPSAyMDBcbik6IE5leHRSZXNwb25zZSB7XG4gIGNvbnN0IHJlc3BvbnNlOiBBcGlTdWNjZXNzUmVzcG9uc2U8VD4gPSB7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICBkYXRhLFxuICAgIC4uLihtZXNzYWdlICYmIHsgbWVzc2FnZSB9KSxcbiAgICAuLi4obWV0YSAmJiB7IG1ldGEgfSlcbiAgfTtcbiAgXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSwgeyBzdGF0dXMgfSk7XG59XG5cbi8qKlxuICogRm9ybWF0IGFuIGVycm9yIEFQSSByZXNwb25zZVxuICogQHBhcmFtIGVycm9yIEVycm9yIG1lc3NhZ2VcbiAqIEBwYXJhbSBkZXRhaWxzIE9wdGlvbmFsIGVycm9yIGRldGFpbHNcbiAqIEBwYXJhbSBjb2RlIE9wdGlvbmFsIGVycm9yIGNvZGVcbiAqIEBwYXJhbSBzdGF0dXMgSFRUUCBzdGF0dXMgY29kZSAoZGVmYXVsdDogNDAwKVxuICogQHJldHVybnMgTmV4dFJlc3BvbnNlIHdpdGggZm9ybWF0dGVkIGVycm9yIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcGlFcnJvcihcbiAgZXJyb3I6IHN0cmluZyB8IEFwaUVycm9yQ29kZSxcbiAgZGV0YWlscz86IEFwaUVycm9yUmVzcG9uc2VbJ2RldGFpbHMnXSxcbiAgY29kZT86IEFwaUVycm9yQ29kZSxcbiAgc3RhdHVzPzogbnVtYmVyXG4pOiBOZXh0UmVzcG9uc2Uge1xuICAvLyBJZiBlcnJvciBpcyBhbiBBcGlFcnJvckNvZGUgZW51bSB2YWx1ZVxuICBpZiAoT2JqZWN0LnZhbHVlcyhBcGlFcnJvckNvZGUpLmluY2x1ZGVzKGVycm9yIGFzIEFwaUVycm9yQ29kZSkpIHtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBlcnJvciBhcyBBcGlFcnJvckNvZGU7XG4gICAgY29uc3QgcmVzcG9uc2U6IEFwaUVycm9yUmVzcG9uc2UgPSB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBnZXREZWZhdWx0RXJyb3JNZXNzYWdlKGVycm9yQ29kZSksXG4gICAgICBjb2RlOiBlcnJvckNvZGUsXG4gICAgICAuLi4oZGV0YWlscyAmJiB7IGRldGFpbHMgfSlcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSwgeyBcbiAgICAgIHN0YXR1czogc3RhdHVzID8/IGVycm9yQ29kZVRvU3RhdHVzTWFwW2Vycm9yQ29kZV0gXG4gICAgfSk7XG4gIH1cbiAgXG4gIC8vIElmIGVycm9yIGlzIGEgc3RyaW5nIG1lc3NhZ2VcbiAgY29uc3QgcmVzcG9uc2U6IEFwaUVycm9yUmVzcG9uc2UgPSB7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgZXJyb3I6IGVycm9yIGFzIHN0cmluZyxcbiAgICAuLi4oZGV0YWlscyAmJiB7IGRldGFpbHMgfSksXG4gICAgLi4uKGNvZGUgJiYgeyBjb2RlIH0pXG4gIH07XG4gIFxuICBjb25zdCBzdGF0dXNDb2RlID0gY29kZSA/IGVycm9yQ29kZVRvU3RhdHVzTWFwW2NvZGVdIDogc3RhdHVzID8/IDQwMDtcbiAgXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSwgeyBzdGF0dXM6IHN0YXR1c0NvZGUgfSk7XG59XG5cbi8qKlxuICogRm9ybWF0IHZhbGlkYXRpb24gZXJyb3JzIGZyb20gWm9kXG4gKiBAcGFyYW0gem9kRXJyb3IgWm9kIHZhbGlkYXRpb24gZXJyb3JcbiAqIEByZXR1cm5zIE5leHRSZXNwb25zZSB3aXRoIGZvcm1hdHRlZCB2YWxpZGF0aW9uIGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcGlWYWxpZGF0aW9uRXJyb3Ioem9kRXJyb3I6IGFueSk6IE5leHRSZXNwb25zZSB7XG4gIGNvbnN0IGVycm9yRGV0YWlscyA9IHpvZEVycm9yLmVycm9ycy5tYXAoKGVycjogYW55KSA9PiBcbiAgICBgJHtlcnIucGF0aC5qb2luKCcuJyl9OiAke2Vyci5tZXNzYWdlfWBcbiAgKTtcbiAgXG4gIHJldHVybiBhcGlFcnJvcihcbiAgICBnZXREZWZhdWx0RXJyb3JNZXNzYWdlKEFwaUVycm9yQ29kZS5WQUxJREFUSU9OX0VSUk9SKSxcbiAgICBlcnJvckRldGFpbHMsXG4gICAgQXBpRXJyb3JDb2RlLlZBTElEQVRJT05fRVJST1JcbiAgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzdWNjZXNzIHJlc3BvbnNlIGZvciBhIGNyZWF0ZWQgcmVzb3VyY2VcbiAqIEBwYXJhbSBkYXRhIENyZWF0ZWQgcmVzb3VyY2UgZGF0YVxuICogQHBhcmFtIG1lc3NhZ2UgT3B0aW9uYWwgc3VjY2VzcyBtZXNzYWdlXG4gKiBAcmV0dXJucyBOZXh0UmVzcG9uc2Ugd2l0aCAyMDEgc3RhdHVzIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwaUNyZWF0ZWQ8VCA9IGFueT4oXG4gIGRhdGE6IFQsXG4gIG1lc3NhZ2UgPSAnUmVzb3VyY2UgY3JlYXRlZCBzdWNjZXNzZnVsbHknXG4pOiBOZXh0UmVzcG9uc2Uge1xuICByZXR1cm4gYXBpU3VjY2VzcyhkYXRhLCBtZXNzYWdlLCB1bmRlZmluZWQsIDIwMSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgc3VjY2VzcyByZXNwb25zZSBmb3IgYW4gdXBkYXRlZCByZXNvdXJjZVxuICogQHBhcmFtIGRhdGEgVXBkYXRlZCByZXNvdXJjZSBkYXRhXG4gKiBAcGFyYW0gbWVzc2FnZSBPcHRpb25hbCBzdWNjZXNzIG1lc3NhZ2VcbiAqIEByZXR1cm5zIE5leHRSZXNwb25zZSB3aXRoIHN1Y2Nlc3Mgc3RhdHVzIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwaVVwZGF0ZWQ8VCA9IGFueT4oXG4gIGRhdGE6IFQsXG4gIG1lc3NhZ2UgPSAnUmVzb3VyY2UgdXBkYXRlZCBzdWNjZXNzZnVsbHknXG4pOiBOZXh0UmVzcG9uc2Uge1xuICByZXR1cm4gYXBpU3VjY2VzcyhkYXRhLCBtZXNzYWdlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzdWNjZXNzIHJlc3BvbnNlIGZvciBhIGRlbGV0ZWQgcmVzb3VyY2VcbiAqIEBwYXJhbSBtZXNzYWdlIE9wdGlvbmFsIHN1Y2Nlc3MgbWVzc2FnZVxuICogQHJldHVybnMgTmV4dFJlc3BvbnNlIHdpdGggc3VjY2VzcyBzdGF0dXMgY29kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBpRGVsZXRlZChcbiAgbWVzc2FnZSA9ICdSZXNvdXJjZSBkZWxldGVkIHN1Y2Nlc3NmdWxseSdcbik6IE5leHRSZXNwb25zZSB7XG4gIHJldHVybiBhcGlTdWNjZXNzKG51bGwsIG1lc3NhZ2UpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5vdCBmb3VuZCBlcnJvciByZXNwb25zZVxuICogQHBhcmFtIHJlc291cmNlIFJlc291cmNlIHR5cGVcbiAqIEByZXR1cm5zIE5leHRSZXNwb25zZSB3aXRoIDQwNCBzdGF0dXMgY29kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBpTm90Rm91bmQocmVzb3VyY2UgPSAnUmVzb3VyY2UnKTogTmV4dFJlc3BvbnNlIHtcbiAgcmV0dXJuIGFwaUVycm9yKFxuICAgIGAke3Jlc291cmNlfSBub3QgZm91bmRgLFxuICAgIHVuZGVmaW5lZCxcbiAgICBBcGlFcnJvckNvZGUuTk9UX0ZPVU5EXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIHVuYXV0aG9yaXplZCBlcnJvciByZXNwb25zZVxuICogQHBhcmFtIG1lc3NhZ2UgT3B0aW9uYWwgY3VzdG9tIG1lc3NhZ2VcbiAqIEByZXR1cm5zIE5leHRSZXNwb25zZSB3aXRoIDQwMSBzdGF0dXMgY29kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBpVW5hdXRob3JpemVkKFxuICBtZXNzYWdlPzogc3RyaW5nXG4pOiBOZXh0UmVzcG9uc2Uge1xuICByZXR1cm4gYXBpRXJyb3IoXG4gICAgbWVzc2FnZSA/PyBnZXREZWZhdWx0RXJyb3JNZXNzYWdlKEFwaUVycm9yQ29kZS5VTkFVVEhPUklaRUQpLFxuICAgIHVuZGVmaW5lZCxcbiAgICBBcGlFcnJvckNvZGUuVU5BVVRIT1JJWkVEXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZm9yYmlkZGVuIGVycm9yIHJlc3BvbnNlXG4gKiBAcGFyYW0gbWVzc2FnZSBPcHRpb25hbCBjdXN0b20gbWVzc2FnZVxuICogQHJldHVybnMgTmV4dFJlc3BvbnNlIHdpdGggNDAzIHN0YXR1cyBjb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcGlGb3JiaWRkZW4oXG4gIG1lc3NhZ2U/OiBzdHJpbmdcbik6IE5leHRSZXNwb25zZSB7XG4gIHJldHVybiBhcGlFcnJvcihcbiAgICBtZXNzYWdlID8/IGdldERlZmF1bHRFcnJvck1lc3NhZ2UoQXBpRXJyb3JDb2RlLkZPUkJJRERFTiksXG4gICAgdW5kZWZpbmVkLFxuICAgIEFwaUVycm9yQ29kZS5GT1JCSURERU5cbiAgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzZXJ2ZXIgZXJyb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSBtZXNzYWdlIE9wdGlvbmFsIGN1c3RvbSBtZXNzYWdlXG4gKiBAcGFyYW0gZGV0YWlscyBPcHRpb25hbCBlcnJvciBkZXRhaWxzXG4gKiBAcmV0dXJucyBOZXh0UmVzcG9uc2Ugd2l0aCA1MDAgc3RhdHVzIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwaVNlcnZlckVycm9yKFxuICBtZXNzYWdlPzogc3RyaW5nLFxuICBkZXRhaWxzPzogc3RyaW5nIHwgUmVjb3JkPHN0cmluZywgYW55PlxuKTogTmV4dFJlc3BvbnNlIHtcbiAgcmV0dXJuIGFwaUVycm9yKFxuICAgIG1lc3NhZ2UgPz8gZ2V0RGVmYXVsdEVycm9yTWVzc2FnZShBcGlFcnJvckNvZGUuU0VSVkVSX0VSUk9SKSxcbiAgICBkZXRhaWxzLFxuICAgIEFwaUVycm9yQ29kZS5TRVJWRVJfRVJST1JcbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJBcGlFcnJvckNvZGUiLCJnZXREZWZhdWx0RXJyb3JNZXNzYWdlIiwiZXJyb3JDb2RlVG9TdGF0dXNNYXAiLCJhcGlTdWNjZXNzIiwiZGF0YSIsIm1lc3NhZ2UiLCJtZXRhIiwic3RhdHVzIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwianNvbiIsImFwaUVycm9yIiwiZXJyb3IiLCJkZXRhaWxzIiwiY29kZSIsIk9iamVjdCIsInZhbHVlcyIsImluY2x1ZGVzIiwiZXJyb3JDb2RlIiwic3RhdHVzQ29kZSIsImFwaVZhbGlkYXRpb25FcnJvciIsInpvZEVycm9yIiwiZXJyb3JEZXRhaWxzIiwiZXJyb3JzIiwibWFwIiwiZXJyIiwicGF0aCIsImpvaW4iLCJWQUxJREFUSU9OX0VSUk9SIiwiYXBpQ3JlYXRlZCIsInVuZGVmaW5lZCIsImFwaVVwZGF0ZWQiLCJhcGlEZWxldGVkIiwiYXBpTm90Rm91bmQiLCJyZXNvdXJjZSIsIk5PVF9GT1VORCIsImFwaVVuYXV0aG9yaXplZCIsIlVOQVVUSE9SSVpFRCIsImFwaUZvcmJpZGRlbiIsIkZPUkJJRERFTiIsImFwaVNlcnZlckVycm9yIiwiU0VSVkVSX0VSUk9SIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api/api-response.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/api/request-parser.ts":
/*!***************************************!*\
  !*** ./src/lib/api/request-parser.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPathParam: () => (/* binding */ getPathParam),\n/* harmony export */   parseJsonBody: () => (/* binding */ parseJsonBody),\n/* harmony export */   parseQueryParams: () => (/* binding */ parseQueryParams),\n/* harmony export */   validateRequest: () => (/* binding */ validateRequest)\n/* harmony export */ });\n/* harmony import */ var _api_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-response */ \"(rsc)/./src/lib/api/api-response.ts\");\n/**\n * Request parsing utilities\n * Provides standardized methods for parsing API request data\n */ \n/**\n * Safely parse request JSON body\n * @param req Next.js request object\n * @returns Parsed JSON data or error\n */ async function parseJsonBody(req) {\n    try {\n        // Get request body as text\n        let requestText;\n        try {\n            requestText = await req.text();\n        } catch (error) {\n            console.error(\"Error reading request body:\", error);\n            return {\n                success: false,\n                error: (0,_api_response__WEBPACK_IMPORTED_MODULE_0__.apiError)(\"Could not read request body\", error.message, \"REQUEST_READ_ERROR\", 400)\n            };\n        }\n        // Parse JSON\n        try {\n            const data = JSON.parse(requestText);\n            return {\n                success: true,\n                data\n            };\n        } catch (error) {\n            console.error(\"JSON parse error:\", error);\n            return {\n                success: false,\n                error: (0,_api_response__WEBPACK_IMPORTED_MODULE_0__.apiError)(\"Invalid JSON body\", error.message, \"JSON_PARSE_ERROR\", 400)\n            };\n        }\n    } catch (error) {\n        console.error(\"Unexpected error parsing request:\", error);\n        return {\n            success: false,\n            error: (0,_api_response__WEBPACK_IMPORTED_MODULE_0__.apiError)(\"Failed to parse request\", error.message, \"REQUEST_PARSE_ERROR\", 400)\n        };\n    }\n}\n/**\n * Validate request body against Zod schema\n * @param req Next.js request object\n * @param schema Zod schema to validate against\n * @returns Validated data or error\n */ async function validateRequest(req, schema) {\n    // First parse the JSON body\n    const parseResult = await parseJsonBody(req);\n    if (!parseResult.success) {\n        return parseResult;\n    }\n    // Then validate against schema\n    const validation = schema.safeParse(parseResult.data);\n    if (!validation.success) {\n        return {\n            success: false,\n            error: (0,_api_response__WEBPACK_IMPORTED_MODULE_0__.apiValidationError)(validation.error)\n        };\n    }\n    return {\n        success: true,\n        data: validation.data\n    };\n}\n/**\n * Parse and validate URL search params\n * @param req Next.js request object\n * @param schema Zod schema for query parameters\n * @returns Validated query parameters or error\n */ function parseQueryParams(req, schema) {\n    try {\n        // Get search params as object\n        const url = new URL(req.url);\n        const queryParams = {};\n        url.searchParams.forEach((value, key)=>{\n            queryParams[key] = value;\n        });\n        // Validate against schema\n        const validation = schema.safeParse(queryParams);\n        if (!validation.success) {\n            return {\n                success: false,\n                error: (0,_api_response__WEBPACK_IMPORTED_MODULE_0__.apiValidationError)(validation.error)\n            };\n        }\n        return {\n            success: true,\n            data: validation.data\n        };\n    } catch (error) {\n        console.error(\"Error parsing query params:\", error);\n        return {\n            success: false,\n            error: (0,_api_response__WEBPACK_IMPORTED_MODULE_0__.apiError)(\"Failed to parse query parameters\", error.message, \"QUERY_PARSE_ERROR\", 400)\n        };\n    }\n}\n/**\n * Extract path parameter from URL\n * @param req Next.js request object\n * @param paramName Name of the parameter\n * @returns Parameter value\n */ function getPathParam(req, paramName) {\n    try {\n        const url = new URL(req.url);\n        const pathSegments = url.pathname.split(\"/\").filter(Boolean);\n        // Get index of parameter from route pattern\n        // This assumes route patterns like /api/users/[userId]/posts/[postId]\n        const patternSegments = req.nextUrl.pathname.split(\"/\").filter(Boolean);\n        for(let i = 0; i < patternSegments.length; i++){\n            const segment = patternSegments[i];\n            // Check if this segment is the parameter we're looking for\n            if (segment.startsWith(\"[\") && segment.endsWith(\"]\") && segment.slice(1, -1) === paramName) {\n                // Return corresponding value from actual URL if available\n                return pathSegments[i] || null;\n            }\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error extracting path parameter:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxDQUFDQztRQUVwRCw0Q0FBNEM7UUFDNUMsc0VBQXNFO1FBQ3RFLE1BQU1DLGtCQUFrQjlCLElBQUkrQixPQUFPLENBQUNMLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDLEtBQUtDLE1BQU0sQ0FBQ0M7UUFFL0QsSUFBSyxJQUFJRyxJQUFJLEdBQUdBLElBQUlGLGdCQUFnQkcsTUFBTSxFQUFFRCxJQUFLO1lBQy9DLE1BQU1FLFVBQVVKLGVBQWUsQ0FBQ0UsRUFBRTtZQUNsQywyREFBMkQ7WUFDM0QsSUFBSUUsUUFBUUMsVUFBVSxDQUFDLFFBQVFELFFBQVFFLFFBQVEsQ0FBQyxRQUM1Q0YsUUFBUUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPYixXQUFXO2dCQUN0QywwREFBMEQ7Z0JBQzFELE9BQU9DLFlBQVksQ0FBQ08sRUFBRSxJQUFJO1lBQzVCO1FBQ0Y7UUFFQSxPQUFPO0lBQ1QsRUFBRSxPQUFPN0IsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsb0NBQW9DQTtRQUNsRCxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nob2ljZS1lLWxlYXJuaW5nLy4vc3JjL2xpYi9hcGkvcmVxdWVzdC1wYXJzZXIudHM/OWY1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlcXVlc3QgcGFyc2luZyB1dGlsaXRpZXNcbiAqIFByb3ZpZGVzIHN0YW5kYXJkaXplZCBtZXRob2RzIGZvciBwYXJzaW5nIEFQSSByZXF1ZXN0IGRhdGFcbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgYXBpRXJyb3IsIGFwaVZhbGlkYXRpb25FcnJvciB9IGZyb20gJy4vYXBpLXJlc3BvbnNlJztcblxuLyoqXG4gKiBTYWZlbHkgcGFyc2UgcmVxdWVzdCBKU09OIGJvZHlcbiAqIEBwYXJhbSByZXEgTmV4dC5qcyByZXF1ZXN0IG9iamVjdFxuICogQHJldHVybnMgUGFyc2VkIEpTT04gZGF0YSBvciBlcnJvclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VKc29uQm9keTxUID0gYW55PihyZXE6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTx7IFxuICBzdWNjZXNzOiB0cnVlOyBcbiAgZGF0YTogVDtcbn0gfCB7XG4gIHN1Y2Nlc3M6IGZhbHNlO1xuICBlcnJvcjogUmV0dXJuVHlwZTx0eXBlb2YgYXBpRXJyb3I+O1xufT4ge1xuICB0cnkge1xuICAgIC8vIEdldCByZXF1ZXN0IGJvZHkgYXMgdGV4dFxuICAgIGxldCByZXF1ZXN0VGV4dDogc3RyaW5nO1xuICAgIHRyeSB7XG4gICAgICByZXF1ZXN0VGV4dCA9IGF3YWl0IHJlcS50ZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgcmVxdWVzdCBib2R5OicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYXBpRXJyb3IoXG4gICAgICAgICAgJ0NvdWxkIG5vdCByZWFkIHJlcXVlc3QgYm9keScsXG4gICAgICAgICAgKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlLFxuICAgICAgICAgICdSRVFVRVNUX1JFQURfRVJST1InLFxuICAgICAgICAgIDQwMFxuICAgICAgICApXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBQYXJzZSBKU09OXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlcXVlc3RUZXh0KSBhcyBUO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdKU09OIHBhcnNlIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYXBpRXJyb3IoXG4gICAgICAgICAgJ0ludmFsaWQgSlNPTiBib2R5JyxcbiAgICAgICAgICAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICAgICAgJ0pTT05fUEFSU0VfRVJST1InLFxuICAgICAgICAgIDQwMFxuICAgICAgICApXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIHBhcnNpbmcgcmVxdWVzdDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGFwaUVycm9yKFxuICAgICAgICAnRmFpbGVkIHRvIHBhcnNlIHJlcXVlc3QnLFxuICAgICAgICAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICAgICdSRVFVRVNUX1BBUlNFX0VSUk9SJyxcbiAgICAgICAgNDAwXG4gICAgICApXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlIHJlcXVlc3QgYm9keSBhZ2FpbnN0IFpvZCBzY2hlbWFcbiAqIEBwYXJhbSByZXEgTmV4dC5qcyByZXF1ZXN0IG9iamVjdFxuICogQHBhcmFtIHNjaGVtYSBab2Qgc2NoZW1hIHRvIHZhbGlkYXRlIGFnYWluc3RcbiAqIEByZXR1cm5zIFZhbGlkYXRlZCBkYXRhIG9yIGVycm9yXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3Q8VD4oXG4gIHJlcTogTmV4dFJlcXVlc3QsXG4gIHNjaGVtYTogei5ab2RUeXBlPFQ+XG4pOiBQcm9taXNlPHsgXG4gIHN1Y2Nlc3M6IHRydWU7IFxuICBkYXRhOiBUO1xufSB8IHtcbiAgc3VjY2VzczogZmFsc2U7XG4gIGVycm9yOiBSZXR1cm5UeXBlPHR5cGVvZiBhcGlFcnJvciB8IHR5cGVvZiBhcGlWYWxpZGF0aW9uRXJyb3I+O1xufT4ge1xuICAvLyBGaXJzdCBwYXJzZSB0aGUgSlNPTiBib2R5XG4gIGNvbnN0IHBhcnNlUmVzdWx0ID0gYXdhaXQgcGFyc2VKc29uQm9keTx1bmtub3duPihyZXEpO1xuICBcbiAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHBhcnNlUmVzdWx0O1xuICB9XG4gIFxuICAvLyBUaGVuIHZhbGlkYXRlIGFnYWluc3Qgc2NoZW1hXG4gIGNvbnN0IHZhbGlkYXRpb24gPSBzY2hlbWEuc2FmZVBhcnNlKHBhcnNlUmVzdWx0LmRhdGEpO1xuICBcbiAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogYXBpVmFsaWRhdGlvbkVycm9yKHZhbGlkYXRpb24uZXJyb3IpXG4gICAgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRhdGE6IHZhbGlkYXRpb24uZGF0YVxuICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGFuZCB2YWxpZGF0ZSBVUkwgc2VhcmNoIHBhcmFtc1xuICogQHBhcmFtIHJlcSBOZXh0LmpzIHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gc2NoZW1hIFpvZCBzY2hlbWEgZm9yIHF1ZXJ5IHBhcmFtZXRlcnNcbiAqIEByZXR1cm5zIFZhbGlkYXRlZCBxdWVyeSBwYXJhbWV0ZXJzIG9yIGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5UGFyYW1zPFQ+KFxuICByZXE6IE5leHRSZXF1ZXN0LFxuICBzY2hlbWE6IHouWm9kVHlwZTxUPlxuKTogeyBcbiAgc3VjY2VzczogdHJ1ZTsgXG4gIGRhdGE6IFQ7XG59IHwge1xuICBzdWNjZXNzOiBmYWxzZTtcbiAgZXJyb3I6IFJldHVyblR5cGU8dHlwZW9mIGFwaUVycm9yIHwgdHlwZW9mIGFwaVZhbGlkYXRpb25FcnJvcj47XG59IHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgc2VhcmNoIHBhcmFtcyBhcyBvYmplY3RcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcS51cmwpO1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBxdWVyeVBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgYWdhaW5zdCBzY2hlbWFcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gc2NoZW1hLnNhZmVQYXJzZShxdWVyeVBhcmFtcyk7XG4gICAgXG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYXBpVmFsaWRhdGlvbkVycm9yKHZhbGlkYXRpb24uZXJyb3IpXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHZhbGlkYXRpb24uZGF0YVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBxdWVyeSBwYXJhbXM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBhcGlFcnJvcihcbiAgICAgICAgJ0ZhaWxlZCB0byBwYXJzZSBxdWVyeSBwYXJhbWV0ZXJzJyxcbiAgICAgICAgKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlLFxuICAgICAgICAnUVVFUllfUEFSU0VfRVJST1InLFxuICAgICAgICA0MDBcbiAgICAgIClcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogRXh0cmFjdCBwYXRoIHBhcmFtZXRlciBmcm9tIFVSTFxuICogQHBhcmFtIHJlcSBOZXh0LmpzIHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gcGFyYW1OYW1lIE5hbWUgb2YgdGhlIHBhcmFtZXRlclxuICogQHJldHVybnMgUGFyYW1ldGVyIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoUGFyYW0ocmVxOiBOZXh0UmVxdWVzdCwgcGFyYW1OYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcS51cmwpO1xuICAgIGNvbnN0IHBhdGhTZWdtZW50cyA9IHVybC5wYXRobmFtZS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcbiAgICBcbiAgICAvLyBHZXQgaW5kZXggb2YgcGFyYW1ldGVyIGZyb20gcm91dGUgcGF0dGVyblxuICAgIC8vIFRoaXMgYXNzdW1lcyByb3V0ZSBwYXR0ZXJucyBsaWtlIC9hcGkvdXNlcnMvW3VzZXJJZF0vcG9zdHMvW3Bvc3RJZF1cbiAgICBjb25zdCBwYXR0ZXJuU2VnbWVudHMgPSByZXEubmV4dFVybC5wYXRobmFtZS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm5TZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2VnbWVudCA9IHBhdHRlcm5TZWdtZW50c1tpXTtcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgc2VnbWVudCBpcyB0aGUgcGFyYW1ldGVyIHdlJ3JlIGxvb2tpbmcgZm9yXG4gICAgICBpZiAoc2VnbWVudC5zdGFydHNXaXRoKCdbJykgJiYgc2VnbWVudC5lbmRzV2l0aCgnXScpICYmIFxuICAgICAgICAgIHNlZ21lbnQuc2xpY2UoMSwgLTEpID09PSBwYXJhbU5hbWUpIHtcbiAgICAgICAgLy8gUmV0dXJuIGNvcnJlc3BvbmRpbmcgdmFsdWUgZnJvbSBhY3R1YWwgVVJMIGlmIGF2YWlsYWJsZVxuICAgICAgICByZXR1cm4gcGF0aFNlZ21lbnRzW2ldIHx8IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV4dHJhY3RpbmcgcGF0aCBwYXJhbWV0ZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iXSwibmFtZXMiOlsiYXBpRXJyb3IiLCJhcGlWYWxpZGF0aW9uRXJyb3IiLCJwYXJzZUpzb25Cb2R5IiwicmVxIiwicmVxdWVzdFRleHQiLCJ0ZXh0IiwiZXJyb3IiLCJjb25zb2xlIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwidmFsaWRhdGVSZXF1ZXN0Iiwic2NoZW1hIiwicGFyc2VSZXN1bHQiLCJ2YWxpZGF0aW9uIiwic2FmZVBhcnNlIiwicGFyc2VRdWVyeVBhcmFtcyIsInVybCIsIlVSTCIsInF1ZXJ5UGFyYW1zIiwic2VhcmNoUGFyYW1zIiwiZm9yRWFjaCIsInZhbHVlIiwia2V5IiwiZ2V0UGF0aFBhcmFtIiwicGFyYW1OYW1lIiwicGF0aFNlZ21lbnRzIiwicGF0aG5hbWUiLCJzcGxpdCIsImZpbHRlciIsIkJvb2xlYW4iLCJwYXR0ZXJuU2VnbWVudHMiLCJuZXh0VXJsIiwiaSIsImxlbmd0aCIsInNlZ21lbnQiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api/request-parser.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/api/route-handlers.ts":
/*!***************************************!*\
  !*** ./src/lib/api/route-handlers.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRouteHandler: () => (/* binding */ createRouteHandler),\n/* harmony export */   withAdmin: () => (/* binding */ withAdmin),\n/* harmony export */   withAuth: () => (/* binding */ withAuth),\n/* harmony export */   withErrorHandling: () => (/* binding */ withErrorHandling),\n/* harmony export */   withOwnership: () => (/* binding */ withOwnership),\n/* harmony export */   withRole: () => (/* binding */ withRole)\n/* harmony export */ });\n/* harmony import */ var _lib_auth_auth_middleware__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/auth/auth-middleware */ \"(rsc)/./src/lib/auth/auth-middleware.ts\");\n/* harmony import */ var _api_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api-response */ \"(rsc)/./src/lib/api/api-response.ts\");\n/**\n * API route handler utilities\n * Provides wrapper functions to simplify route handling and authentication\n */ \n\n/**\n * Wrap a route handler with consistent error handling\n * @param handler The route handler function\n * @returns A wrapped handler with consistent error handling\n */ function withErrorHandling(handler) {\n    return async (req, context)=>{\n        try {\n            return await handler(req, context);\n        } catch (error) {\n            console.error(`API error [${req.method} ${req.nextUrl.pathname}]:`, error);\n            console.error(\"Error stack:\", error.stack);\n            // Return standardized error response\n            return (0,_api_response__WEBPACK_IMPORTED_MODULE_1__.apiServerError)(\"An unexpected error occurred\",  true ? error.message : 0);\n        }\n    };\n}\n/**\n * Wrap a route handler with authentication\n * @param handler The authenticated route handler function\n * @returns A wrapped handler with authentication and error handling\n */ function withAuth(handler) {\n    return withErrorHandling(async (req, context)=>{\n        // Authenticate user\n        const auth = await (0,_lib_auth_auth_middleware__WEBPACK_IMPORTED_MODULE_0__.authenticateUser)(req);\n        if (!auth.success) {\n            return auth.response;\n        }\n        // Call handler with authenticated user\n        return await handler(req, {\n            ...context,\n            user: auth.user\n        });\n    });\n}\n/**\n * Wrap a route handler with role-based authentication\n * @param handler The authenticated route handler function\n * @param roles Required role(s)\n * @returns A wrapped handler with role-based authentication\n */ function withRole(handler, roles) {\n    return withErrorHandling(async (req, context)=>{\n        // Check user role\n        const auth = await (0,_lib_auth_auth_middleware__WEBPACK_IMPORTED_MODULE_0__.checkUserRole)(req, roles);\n        if (!auth.success) {\n            return auth.response;\n        }\n        // Call handler with authenticated user\n        return await handler(req, {\n            ...context,\n            user: auth.user\n        });\n    });\n}\n/**\n * Wrap a route handler with admin-only authentication\n * @param handler The authenticated route handler function\n * @returns A wrapped handler with admin-only authentication\n */ function withAdmin(handler) {\n    return withErrorHandling(async (req, context)=>{\n        // Require admin role\n        const auth = await (0,_lib_auth_auth_middleware__WEBPACK_IMPORTED_MODULE_0__.requireAdmin)(req);\n        if (!auth.success) {\n            return auth.response;\n        }\n        // Call handler with authenticated admin user\n        return await handler(req, {\n            ...context,\n            user: auth.user\n        });\n    });\n}\n/**\n * Wrap a route handler with resource ownership check\n * @param handler The authenticated route handler function\n * @param getResourceOwnerId Function to get resource owner ID from request\n * @returns A wrapped handler with resource ownership check\n */ function withOwnership(handler, getResourceOwnerId) {\n    return withErrorHandling(async (req, context)=>{\n        // Get resource owner ID\n        const ownerId = await getResourceOwnerId(req, context);\n        if (!ownerId) {\n            return (0,_api_response__WEBPACK_IMPORTED_MODULE_1__.apiError)(\"Resource owner not found\", undefined, \"OWNER_NOT_FOUND\", 404);\n        }\n        // Check if user is resource owner or admin\n        const auth = await (0,_lib_auth_auth_middleware__WEBPACK_IMPORTED_MODULE_0__.requireSelfOrAdmin)(req, ownerId);\n        if (!auth.success) {\n            return auth.response;\n        }\n        // Call handler with authenticated user\n        return await handler(req, {\n            ...context,\n            user: auth.user\n        });\n    });\n}\n/**\n * Creates a Next.js API route handler with method routing\n * @param handlers Object mapping HTTP methods to handler functions\n * @returns A handler function for the Next.js API route\n */ function createRouteHandler(handlers) {\n    return async (req, context)=>{\n        const method = req.method;\n        // Check if method is supported\n        if (!method || !handlers[method]) {\n            return (0,_api_response__WEBPACK_IMPORTED_MODULE_1__.apiError)(`Method ${method || \"unknown\"} not allowed`, undefined, \"METHOD_NOT_ALLOWED\", 405);\n        }\n        // Call the appropriate handler\n        try {\n            return await handlers[method](req, context);\n        } catch (error) {\n            console.error(`API error [${method} ${req.nextUrl.pathname}]:`, error);\n            console.error(\"Error stack:\", error.stack);\n            // Return standardized error response\n            return (0,_api_response__WEBPACK_IMPORTED_MODULE_1__.apiServerError)(\"An unexpected error occurred\",  true ? error.message : 0);\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FwaS9yb3V0ZS1oYW5kbGVycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Q0FHQyxHQUc4RztBQUVwQztBQWUzRTs7OztDQUlDLEdBQ00sU0FBU00sa0JBQWtCQyxPQUF3QjtJQUN4RCxPQUFPLE9BQU9DLEtBQUtDO1FBQ2pCLElBQUk7WUFDRixPQUFPLE1BQU1GLFFBQVFDLEtBQUtDO1FBQzVCLEVBQUUsT0FBT0MsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUVGLElBQUlJLE1BQU0sQ0FBQyxDQUFDLEVBQUVKLElBQUlLLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFSjtZQUNwRUMsUUFBUUQsS0FBSyxDQUFDLGdCQUFnQixNQUFpQkssS0FBSztZQUVwRCxxQ0FBcUM7WUFDckMsT0FBT1YsNkRBQWNBLENBQ25CLGdDQUNBVyxLQUF5QixHQUNyQixNQUFpQkMsT0FBTyxHQUN4QkMsQ0FBU0E7UUFFakI7SUFDRjtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNDLFNBQVNaLE9BQXFDO0lBQzVELE9BQU9ELGtCQUFrQixPQUFPRSxLQUFLQztRQUNuQyxvQkFBb0I7UUFDcEIsTUFBTVcsT0FBTyxNQUFNcEIsMkVBQWdCQSxDQUFDUTtRQUVwQyxJQUFJLENBQUNZLEtBQUtDLE9BQU8sRUFBRTtZQUNqQixPQUFPRCxLQUFLRSxRQUFRO1FBQ3RCO1FBRUEsdUNBQXVDO1FBQ3ZDLE9BQU8sTUFBTWYsUUFBUUMsS0FBSztZQUFFLEdBQUdDLE9BQU87WUFBRWMsTUFBTUgsS0FBS0csSUFBSTtRQUFDO0lBQzFEO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNDLFNBQ2RqQixPQUFxQyxFQUNyQ2tCLEtBQW9CO0lBRXBCLE9BQU9uQixrQkFBa0IsT0FBT0UsS0FBS0M7UUFDbkMsa0JBQWtCO1FBQ2xCLE1BQU1XLE9BQU8sTUFBTW5CLHdFQUFhQSxDQUFDTyxLQUFLaUI7UUFFdEMsSUFBSSxDQUFDTCxLQUFLQyxPQUFPLEVBQUU7WUFDakIsT0FBT0QsS0FBS0UsUUFBUTtRQUN0QjtRQUVBLHVDQUF1QztRQUN2QyxPQUFPLE1BQU1mLFFBQVFDLEtBQUs7WUFBRSxHQUFHQyxPQUFPO1lBQUVjLE1BQU1ILEtBQUtHLElBQUk7UUFBQztJQUMxRDtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNHLFVBQVVuQixPQUFxQztJQUM3RCxPQUFPRCxrQkFBa0IsT0FBT0UsS0FBS0M7UUFDbkMscUJBQXFCO1FBQ3JCLE1BQU1XLE9BQU8sTUFBTWxCLHVFQUFZQSxDQUFDTTtRQUVoQyxJQUFJLENBQUNZLEtBQUtDLE9BQU8sRUFBRTtZQUNqQixPQUFPRCxLQUFLRSxRQUFRO1FBQ3RCO1FBRUEsNkNBQTZDO1FBQzdDLE9BQU8sTUFBTWYsUUFBUUMsS0FBSztZQUFFLEdBQUdDLE9BQU87WUFBRWMsTUFBTUgsS0FBS0csSUFBSTtRQUFDO0lBQzFEO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNJLGNBQ2RwQixPQUFxQyxFQUNyQ3FCLGtCQUErRztJQUUvRyxPQUFPdEIsa0JBQWtCLE9BQU9FLEtBQUtDO1FBQ25DLHdCQUF3QjtRQUN4QixNQUFNb0IsVUFBVSxNQUFNRCxtQkFBbUJwQixLQUFLQztRQUU5QyxJQUFJLENBQUNvQixTQUFTO1lBQ1osT0FBT3pCLHVEQUFRQSxDQUFDLDRCQUE0QmMsV0FBVyxtQkFBbUI7UUFDNUU7UUFFQSwyQ0FBMkM7UUFDM0MsTUFBTUUsT0FBTyxNQUFNakIsNkVBQWtCQSxDQUFDSyxLQUFLcUI7UUFFM0MsSUFBSSxDQUFDVCxLQUFLQyxPQUFPLEVBQUU7WUFDakIsT0FBT0QsS0FBS0UsUUFBUTtRQUN0QjtRQUVBLHVDQUF1QztRQUN2QyxPQUFPLE1BQU1mLFFBQVFDLEtBQUs7WUFBRSxHQUFHQyxPQUFPO1lBQUVjLE1BQU1ILEtBQUtHLElBQUk7UUFBQztJQUMxRDtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNPLG1CQUNkQyxRQUFrRDtJQUVsRCxPQUFPLE9BQU92QixLQUFLQztRQUNqQixNQUFNRyxTQUFTSixJQUFJSSxNQUFNO1FBRXpCLCtCQUErQjtRQUMvQixJQUFJLENBQUNBLFVBQVUsQ0FBQ21CLFFBQVEsQ0FBQ25CLE9BQU8sRUFBRTtZQUNoQyxPQUFPUix1REFBUUEsQ0FDYixDQUFDLE9BQU8sRUFBRVEsVUFBVSxVQUFVLFlBQVksQ0FBQyxFQUMzQ00sV0FDQSxzQkFDQTtRQUVKO1FBRUEsK0JBQStCO1FBQy9CLElBQUk7WUFDRixPQUFPLE1BQU1hLFFBQVEsQ0FBQ25CLE9BQU8sQ0FBRUosS0FBS0M7UUFDdEMsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRUUsT0FBTyxDQUFDLEVBQUVKLElBQUlLLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFSjtZQUNoRUMsUUFBUUQsS0FBSyxDQUFDLGdCQUFnQixNQUFpQkssS0FBSztZQUVwRCxxQ0FBcUM7WUFDckMsT0FBT1YsNkRBQWNBLENBQ25CLGdDQUNBVyxLQUF5QixHQUNyQixNQUFpQkMsT0FBTyxHQUN4QkMsQ0FBU0E7UUFFakI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hvaWNlLWUtbGVhcm5pbmcvLi9zcmMvbGliL2FwaS9yb3V0ZS1oYW5kbGVycy50cz9iM2YyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQVBJIHJvdXRlIGhhbmRsZXIgdXRpbGl0aWVzXG4gKiBQcm92aWRlcyB3cmFwcGVyIGZ1bmN0aW9ucyB0byBzaW1wbGlmeSByb3V0ZSBoYW5kbGluZyBhbmQgYXV0aGVudGljYXRpb25cbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlVXNlciwgY2hlY2tVc2VyUm9sZSwgcmVxdWlyZUFkbWluLCByZXF1aXJlU2VsZk9yQWRtaW4gfSBmcm9tICdAL2xpYi9hdXRoL2F1dGgtbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBSb2xlIH0gZnJvbSAnQC9saWIvYXV0aC9hdXRoLW9wdGlvbnMnO1xuaW1wb3J0IHsgYXBpRXJyb3IsIGFwaVNlcnZlckVycm9yLCBhcGlVbmF1dGhvcml6ZWQgfSBmcm9tICcuL2FwaS1yZXNwb25zZSc7XG5cbnR5cGUgSGFuZGxlckZ1bmN0aW9uID0gKFxuICByZXE6IE5leHRSZXF1ZXN0LFxuICBjb250ZXh0OiB7IHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9XG4pID0+IFByb21pc2U8TmV4dFJlc3BvbnNlPjtcblxudHlwZSBBdXRoZW50aWNhdGVkSGFuZGxlckZ1bmN0aW9uID0gKFxuICByZXE6IE5leHRSZXF1ZXN0LFxuICBjb250ZXh0OiB7IFxuICAgIHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICB1c2VyOiBhbnlcbiAgfVxuKSA9PiBQcm9taXNlPE5leHRSZXNwb25zZT47XG5cbi8qKlxuICogV3JhcCBhIHJvdXRlIGhhbmRsZXIgd2l0aCBjb25zaXN0ZW50IGVycm9yIGhhbmRsaW5nXG4gKiBAcGFyYW0gaGFuZGxlciBUaGUgcm91dGUgaGFuZGxlciBmdW5jdGlvblxuICogQHJldHVybnMgQSB3cmFwcGVkIGhhbmRsZXIgd2l0aCBjb25zaXN0ZW50IGVycm9yIGhhbmRsaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoRXJyb3JIYW5kbGluZyhoYW5kbGVyOiBIYW5kbGVyRnVuY3Rpb24pOiBIYW5kbGVyRnVuY3Rpb24ge1xuICByZXR1cm4gYXN5bmMgKHJlcSwgY29udGV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgaGFuZGxlcihyZXEsIGNvbnRleHQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBBUEkgZXJyb3IgWyR7cmVxLm1ldGhvZH0gJHtyZXEubmV4dFVybC5wYXRobmFtZX1dOmAsIGVycm9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0YWNrOicsIChlcnJvciBhcyBFcnJvcikuc3RhY2spO1xuICAgICAgXG4gICAgICAvLyBSZXR1cm4gc3RhbmRhcmRpemVkIGVycm9yIHJlc3BvbnNlXG4gICAgICByZXR1cm4gYXBpU2VydmVyRXJyb3IoXG4gICAgICAgICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgXG4gICAgICAgICAgPyAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgXG4gICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFdyYXAgYSByb3V0ZSBoYW5kbGVyIHdpdGggYXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSBoYW5kbGVyIFRoZSBhdXRoZW50aWNhdGVkIHJvdXRlIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIEEgd3JhcHBlZCBoYW5kbGVyIHdpdGggYXV0aGVudGljYXRpb24gYW5kIGVycm9yIGhhbmRsaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoQXV0aChoYW5kbGVyOiBBdXRoZW50aWNhdGVkSGFuZGxlckZ1bmN0aW9uKTogSGFuZGxlckZ1bmN0aW9uIHtcbiAgcmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jIChyZXEsIGNvbnRleHQpID0+IHtcbiAgICAvLyBBdXRoZW50aWNhdGUgdXNlclxuICAgIGNvbnN0IGF1dGggPSBhd2FpdCBhdXRoZW50aWNhdGVVc2VyKHJlcSk7XG4gICAgXG4gICAgaWYgKCFhdXRoLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBhdXRoLnJlc3BvbnNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBDYWxsIGhhbmRsZXIgd2l0aCBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICByZXR1cm4gYXdhaXQgaGFuZGxlcihyZXEsIHsgLi4uY29udGV4dCwgdXNlcjogYXV0aC51c2VyIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBXcmFwIGEgcm91dGUgaGFuZGxlciB3aXRoIHJvbGUtYmFzZWQgYXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSBoYW5kbGVyIFRoZSBhdXRoZW50aWNhdGVkIHJvdXRlIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSByb2xlcyBSZXF1aXJlZCByb2xlKHMpXG4gKiBAcmV0dXJucyBBIHdyYXBwZWQgaGFuZGxlciB3aXRoIHJvbGUtYmFzZWQgYXV0aGVudGljYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhSb2xlKFxuICBoYW5kbGVyOiBBdXRoZW50aWNhdGVkSGFuZGxlckZ1bmN0aW9uLCBcbiAgcm9sZXM6IFJvbGUgfCBSb2xlW11cbik6IEhhbmRsZXJGdW5jdGlvbiB7XG4gIHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAocmVxLCBjb250ZXh0KSA9PiB7XG4gICAgLy8gQ2hlY2sgdXNlciByb2xlXG4gICAgY29uc3QgYXV0aCA9IGF3YWl0IGNoZWNrVXNlclJvbGUocmVxLCByb2xlcyk7XG4gICAgXG4gICAgaWYgKCFhdXRoLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBhdXRoLnJlc3BvbnNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBDYWxsIGhhbmRsZXIgd2l0aCBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICByZXR1cm4gYXdhaXQgaGFuZGxlcihyZXEsIHsgLi4uY29udGV4dCwgdXNlcjogYXV0aC51c2VyIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBXcmFwIGEgcm91dGUgaGFuZGxlciB3aXRoIGFkbWluLW9ubHkgYXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSBoYW5kbGVyIFRoZSBhdXRoZW50aWNhdGVkIHJvdXRlIGhhbmRsZXIgZnVuY3Rpb25cbiAqIEByZXR1cm5zIEEgd3JhcHBlZCBoYW5kbGVyIHdpdGggYWRtaW4tb25seSBhdXRoZW50aWNhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aEFkbWluKGhhbmRsZXI6IEF1dGhlbnRpY2F0ZWRIYW5kbGVyRnVuY3Rpb24pOiBIYW5kbGVyRnVuY3Rpb24ge1xuICByZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKHJlcSwgY29udGV4dCkgPT4ge1xuICAgIC8vIFJlcXVpcmUgYWRtaW4gcm9sZVxuICAgIGNvbnN0IGF1dGggPSBhd2FpdCByZXF1aXJlQWRtaW4ocmVxKTtcbiAgICBcbiAgICBpZiAoIWF1dGguc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIGF1dGgucmVzcG9uc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIENhbGwgaGFuZGxlciB3aXRoIGF1dGhlbnRpY2F0ZWQgYWRtaW4gdXNlclxuICAgIHJldHVybiBhd2FpdCBoYW5kbGVyKHJlcSwgeyAuLi5jb250ZXh0LCB1c2VyOiBhdXRoLnVzZXIgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFdyYXAgYSByb3V0ZSBoYW5kbGVyIHdpdGggcmVzb3VyY2Ugb3duZXJzaGlwIGNoZWNrXG4gKiBAcGFyYW0gaGFuZGxlciBUaGUgYXV0aGVudGljYXRlZCByb3V0ZSBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0gZ2V0UmVzb3VyY2VPd25lcklkIEZ1bmN0aW9uIHRvIGdldCByZXNvdXJjZSBvd25lciBJRCBmcm9tIHJlcXVlc3RcbiAqIEByZXR1cm5zIEEgd3JhcHBlZCBoYW5kbGVyIHdpdGggcmVzb3VyY2Ugb3duZXJzaGlwIGNoZWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoT3duZXJzaGlwKFxuICBoYW5kbGVyOiBBdXRoZW50aWNhdGVkSGFuZGxlckZ1bmN0aW9uLFxuICBnZXRSZXNvdXJjZU93bmVySWQ6IChyZXE6IE5leHRSZXF1ZXN0LCBjb250ZXh0OiB7IHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9KSA9PiBzdHJpbmcgfCBQcm9taXNlPHN0cmluZz5cbik6IEhhbmRsZXJGdW5jdGlvbiB7XG4gIHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAocmVxLCBjb250ZXh0KSA9PiB7XG4gICAgLy8gR2V0IHJlc291cmNlIG93bmVyIElEXG4gICAgY29uc3Qgb3duZXJJZCA9IGF3YWl0IGdldFJlc291cmNlT3duZXJJZChyZXEsIGNvbnRleHQpO1xuICAgIFxuICAgIGlmICghb3duZXJJZCkge1xuICAgICAgcmV0dXJuIGFwaUVycm9yKCdSZXNvdXJjZSBvd25lciBub3QgZm91bmQnLCB1bmRlZmluZWQsICdPV05FUl9OT1RfRk9VTkQnLCA0MDQpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIHJlc291cmNlIG93bmVyIG9yIGFkbWluXG4gICAgY29uc3QgYXV0aCA9IGF3YWl0IHJlcXVpcmVTZWxmT3JBZG1pbihyZXEsIG93bmVySWQpO1xuICAgIFxuICAgIGlmICghYXV0aC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gYXV0aC5yZXNwb25zZTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FsbCBoYW5kbGVyIHdpdGggYXV0aGVudGljYXRlZCB1c2VyXG4gICAgcmV0dXJuIGF3YWl0IGhhbmRsZXIocmVxLCB7IC4uLmNvbnRleHQsIHVzZXI6IGF1dGgudXNlciB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIE5leHQuanMgQVBJIHJvdXRlIGhhbmRsZXIgd2l0aCBtZXRob2Qgcm91dGluZ1xuICogQHBhcmFtIGhhbmRsZXJzIE9iamVjdCBtYXBwaW5nIEhUVFAgbWV0aG9kcyB0byBoYW5kbGVyIGZ1bmN0aW9uc1xuICogQHJldHVybnMgQSBoYW5kbGVyIGZ1bmN0aW9uIGZvciB0aGUgTmV4dC5qcyBBUEkgcm91dGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlSGFuZGxlcihcbiAgaGFuZGxlcnM6IFBhcnRpYWw8UmVjb3JkPHN0cmluZywgSGFuZGxlckZ1bmN0aW9uPj5cbik6IChyZXE6IE5leHRSZXF1ZXN0LCBjb250ZXh0OiB7IHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9KSA9PiBQcm9taXNlPE5leHRSZXNwb25zZT4ge1xuICByZXR1cm4gYXN5bmMgKHJlcSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2Q7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgbWV0aG9kIGlzIHN1cHBvcnRlZFxuICAgIGlmICghbWV0aG9kIHx8ICFoYW5kbGVyc1ttZXRob2RdKSB7XG4gICAgICByZXR1cm4gYXBpRXJyb3IoXG4gICAgICAgIGBNZXRob2QgJHttZXRob2QgfHwgJ3Vua25vd24nfSBub3QgYWxsb3dlZGAsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgJ01FVEhPRF9OT1RfQUxMT1dFRCcsXG4gICAgICAgIDQwNVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlclxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgaGFuZGxlcnNbbWV0aG9kXSEocmVxLCBjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgQVBJIGVycm9yIFske21ldGhvZH0gJHtyZXEubmV4dFVybC5wYXRobmFtZX1dOmAsIGVycm9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0YWNrOicsIChlcnJvciBhcyBFcnJvcikuc3RhY2spO1xuICAgICAgXG4gICAgICAvLyBSZXR1cm4gc3RhbmRhcmRpemVkIGVycm9yIHJlc3BvbnNlXG4gICAgICByZXR1cm4gYXBpU2VydmVyRXJyb3IoXG4gICAgICAgICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgXG4gICAgICAgICAgPyAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgXG4gICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuIl0sIm5hbWVzIjpbImF1dGhlbnRpY2F0ZVVzZXIiLCJjaGVja1VzZXJSb2xlIiwicmVxdWlyZUFkbWluIiwicmVxdWlyZVNlbGZPckFkbWluIiwiYXBpRXJyb3IiLCJhcGlTZXJ2ZXJFcnJvciIsIndpdGhFcnJvckhhbmRsaW5nIiwiaGFuZGxlciIsInJlcSIsImNvbnRleHQiLCJlcnJvciIsImNvbnNvbGUiLCJtZXRob2QiLCJuZXh0VXJsIiwicGF0aG5hbWUiLCJzdGFjayIsInByb2Nlc3MiLCJtZXNzYWdlIiwidW5kZWZpbmVkIiwid2l0aEF1dGgiLCJhdXRoIiwic3VjY2VzcyIsInJlc3BvbnNlIiwidXNlciIsIndpdGhSb2xlIiwicm9sZXMiLCJ3aXRoQWRtaW4iLCJ3aXRoT3duZXJzaGlwIiwiZ2V0UmVzb3VyY2VPd25lcklkIiwib3duZXJJZCIsImNyZWF0ZVJvdXRlSGFuZGxlciIsImhhbmRsZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api/route-handlers.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth/auth-middleware.ts":
/*!*****************************************!*\
  !*** ./src/lib/auth/auth-middleware.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser),\n/* harmony export */   checkUserRole: () => (/* binding */ checkUserRole),\n/* harmony export */   getAuthSession: () => (/* binding */ getAuthSession),\n/* harmony export */   requireAdmin: () => (/* binding */ requireAdmin),\n/* harmony export */   requireSelfOrAdmin: () => (/* binding */ requireSelfOrAdmin)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var _auth_options__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth-options */ \"(rsc)/./src/lib/auth/auth-options.ts\");\n/* harmony import */ var _roles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./roles */ \"(rsc)/./src/lib/auth/roles.ts\");\n/* harmony import */ var _utils_auth_errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/auth-errors */ \"(rsc)/./src/lib/auth/utils/auth-errors.ts\");\n\n\n\n\n\n/**\n * Get the authenticated user's session\n * @returns The session object or null if not authenticated\n */ async function getAuthSession() {\n    return await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_auth_options__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n}\n/**\n * Middleware to check if user is authenticated\n * @param req Next request object\n * @returns Authentication result with user data or error response\n */ async function authenticateUser(req) {\n    const session = await getAuthSession();\n    if (!session?.user) {\n        const error = (0,_utils_auth_errors__WEBPACK_IMPORTED_MODULE_4__.getAuthError)(_utils_auth_errors__WEBPACK_IMPORTED_MODULE_4__.AuthErrorCode.UNAUTHORIZED);\n        return {\n            success: false,\n            response: next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: error.message\n            }, {\n                status: error.status\n            })\n        };\n    }\n    return {\n        success: true,\n        session,\n        user: session.user\n    };\n}\n/**\n * Check if user has required role(s)\n * @param req Next request object\n * @param roles Required role(s)\n * @returns Authentication result with user data or error response\n */ async function checkUserRole(req, roles) {\n    const auth = await authenticateUser(req);\n    if (!auth.success) {\n        return auth;\n    }\n    // TypeScript knows auth.user exists if auth.success is true\n    const userRole = auth.user?.role;\n    const allowedRoles = Array.isArray(roles) ? roles : [\n        roles\n    ];\n    // Admin role has access to everything\n    if ((0,_roles__WEBPACK_IMPORTED_MODULE_3__.isAdmin)(auth.user)) {\n        return auth;\n    }\n    // Check if user has one of the allowed roles\n    if (!userRole || !allowedRoles.some((role)=>(0,_roles__WEBPACK_IMPORTED_MODULE_3__.hasRole)(auth.user, role))) {\n        const error = (0,_utils_auth_errors__WEBPACK_IMPORTED_MODULE_4__.getAuthError)(_utils_auth_errors__WEBPACK_IMPORTED_MODULE_4__.AuthErrorCode.FORBIDDEN);\n        return {\n            success: false,\n            response: next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: error.message\n            }, {\n                status: error.status\n            })\n        };\n    }\n    return auth;\n}\n/**\n * Check if user is admin\n * @param req Next request object\n * @returns Authentication result with user data or error response\n */ async function requireAdmin(req) {\n    return await checkUserRole(req, _auth_options__WEBPACK_IMPORTED_MODULE_2__.Role.admin);\n}\n/**\n * Check if user has permission to access a resource\n * @param req Next request object\n * @param userId Resource owner ID\n * @returns Authentication result with user data or error response\n */ async function requireSelfOrAdmin(req, userId) {\n    const auth = await authenticateUser(req);\n    if (!auth.success) {\n        return auth;\n    }\n    // Check if user has permission to access the resource\n    if (!(0,_roles__WEBPACK_IMPORTED_MODULE_3__.hasPermission)(auth.user, userId)) {\n        const error = (0,_utils_auth_errors__WEBPACK_IMPORTED_MODULE_4__.getAuthError)(_utils_auth_errors__WEBPACK_IMPORTED_MODULE_4__.AuthErrorCode.FORBIDDEN);\n        return {\n            success: false,\n            response: next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: error.message\n            }, {\n                status: error.status\n            })\n        };\n    }\n    return auth;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgvYXV0aC1taWRkbGV3YXJlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDTjtBQUNDO0FBQ087QUFDUTtBQUVsRTs7O0NBR0MsR0FDTSxlQUFlUztJQUNwQixPQUFPLE1BQU1SLGdFQUFnQkEsQ0FBQ0Msc0RBQVdBO0FBQzNDO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVRLGlCQUFpQkMsR0FBZ0I7SUFDckQsTUFBTUMsVUFBVSxNQUFNSDtJQUV0QixJQUFJLENBQUNHLFNBQVNDLE1BQU07UUFDbEIsTUFBTUMsUUFBUU4sZ0VBQVlBLENBQUNELDZEQUFhQSxDQUFDUSxZQUFZO1FBQ3JELE9BQU87WUFDTEMsU0FBUztZQUNUQyxVQUFVakIsa0ZBQVlBLENBQUNrQixJQUFJLENBQ3pCO2dCQUFFRixTQUFTO2dCQUFPRixPQUFPQSxNQUFNSyxPQUFPO1lBQUMsR0FDdkM7Z0JBQUVDLFFBQVFOLE1BQU1NLE1BQU07WUFBQztRQUUzQjtJQUNGO0lBRUEsT0FBTztRQUNMSixTQUFTO1FBQ1RKO1FBQ0FDLE1BQU1ELFFBQVFDLElBQUk7SUFDcEI7QUFDRjtBQUVBOzs7OztDQUtDLEdBQ00sZUFBZVEsY0FBY1YsR0FBZ0IsRUFBRVcsS0FBb0I7SUFDeEUsTUFBTUMsT0FBTyxNQUFNYixpQkFBaUJDO0lBRXBDLElBQUksQ0FBQ1ksS0FBS1AsT0FBTyxFQUFFO1FBQ2pCLE9BQU9PO0lBQ1Q7SUFFQSw0REFBNEQ7SUFDNUQsTUFBTUMsV0FBV0QsS0FBS1YsSUFBSSxFQUFFWTtJQUM1QixNQUFNQyxlQUFlQyxNQUFNQyxPQUFPLENBQUNOLFNBQVNBLFFBQVE7UUFBQ0E7S0FBTTtJQUUzRCxzQ0FBc0M7SUFDdEMsSUFBSWpCLCtDQUFPQSxDQUFDa0IsS0FBS1YsSUFBSSxHQUFHO1FBQ3RCLE9BQU9VO0lBQ1Q7SUFFQSw2Q0FBNkM7SUFDN0MsSUFBSSxDQUFDQyxZQUFZLENBQUNFLGFBQWFHLElBQUksQ0FBQ0osQ0FBQUEsT0FBUXJCLCtDQUFPQSxDQUFDbUIsS0FBS1YsSUFBSSxFQUFFWSxRQUFRO1FBQ3JFLE1BQU1YLFFBQVFOLGdFQUFZQSxDQUFDRCw2REFBYUEsQ0FBQ3VCLFNBQVM7UUFDbEQsT0FBTztZQUNMZCxTQUFTO1lBQ1RDLFVBQVVqQixrRkFBWUEsQ0FBQ2tCLElBQUksQ0FDekI7Z0JBQUVGLFNBQVM7Z0JBQU9GLE9BQU9BLE1BQU1LLE9BQU87WUFBQyxHQUN2QztnQkFBRUMsUUFBUU4sTUFBTU0sTUFBTTtZQUFDO1FBRTNCO0lBQ0Y7SUFFQSxPQUFPRztBQUNUO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVRLGFBQWFwQixHQUFnQjtJQUNqRCxPQUFPLE1BQU1VLGNBQWNWLEtBQUtSLCtDQUFJQSxDQUFDNkIsS0FBSztBQUM1QztBQUVBOzs7OztDQUtDLEdBQ00sZUFBZUMsbUJBQW1CdEIsR0FBZ0IsRUFBRXVCLE1BQWM7SUFDdkUsTUFBTVgsT0FBTyxNQUFNYixpQkFBaUJDO0lBRXBDLElBQUksQ0FBQ1ksS0FBS1AsT0FBTyxFQUFFO1FBQ2pCLE9BQU9PO0lBQ1Q7SUFFQSxzREFBc0Q7SUFDdEQsSUFBSSxDQUFDakIscURBQWFBLENBQUNpQixLQUFLVixJQUFJLEVBQUVxQixTQUFTO1FBQ3JDLE1BQU1wQixRQUFRTixnRUFBWUEsQ0FBQ0QsNkRBQWFBLENBQUN1QixTQUFTO1FBQ2xELE9BQU87WUFDTGQsU0FBUztZQUNUQyxVQUFVakIsa0ZBQVlBLENBQUNrQixJQUFJLENBQ3pCO2dCQUFFRixTQUFTO2dCQUFPRixPQUFPQSxNQUFNSyxPQUFPO1lBQUMsR0FDdkM7Z0JBQUVDLFFBQVFOLE1BQU1NLE1BQU07WUFBQztRQUUzQjtJQUNGO0lBRUEsT0FBT0c7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2Nob2ljZS1lLWxlYXJuaW5nLy4vc3JjL2xpYi9hdXRoL2F1dGgtbWlkZGxld2FyZS50cz9kNmI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL25leHQnO1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMsIFJvbGUgfSBmcm9tICcuL2F1dGgtb3B0aW9ucyc7XG5pbXBvcnQgeyBoYXNSb2xlLCBpc0FkbWluLCBoYXNQZXJtaXNzaW9uIH0gZnJvbSAnLi9yb2xlcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlLCBnZXRBdXRoRXJyb3IgfSBmcm9tICcuL3V0aWxzL2F1dGgtZXJyb3JzJztcblxuLyoqXG4gKiBHZXQgdGhlIGF1dGhlbnRpY2F0ZWQgdXNlcidzIHNlc3Npb25cbiAqIEByZXR1cm5zIFRoZSBzZXNzaW9uIG9iamVjdCBvciBudWxsIGlmIG5vdCBhdXRoZW50aWNhdGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdXRoU2Vzc2lvbigpIHtcbiAgcmV0dXJuIGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xufVxuXG4vKipcbiAqIE1pZGRsZXdhcmUgdG8gY2hlY2sgaWYgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gKiBAcGFyYW0gcmVxIE5leHQgcmVxdWVzdCBvYmplY3RcbiAqIEByZXR1cm5zIEF1dGhlbnRpY2F0aW9uIHJlc3VsdCB3aXRoIHVzZXIgZGF0YSBvciBlcnJvciByZXNwb25zZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0aGVudGljYXRlVXNlcihyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRBdXRoU2Vzc2lvbigpO1xuICBcbiAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XG4gICAgY29uc3QgZXJyb3IgPSBnZXRBdXRoRXJyb3IoQXV0aEVycm9yQ29kZS5VTkFVVEhPUklaRUQpO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgICAgeyBzdGF0dXM6IGVycm9yLnN0YXR1cyB9XG4gICAgICApXG4gICAgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIHNlc3Npb24sXG4gICAgdXNlcjogc2Vzc2lvbi51c2VyXG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdXNlciBoYXMgcmVxdWlyZWQgcm9sZShzKVxuICogQHBhcmFtIHJlcSBOZXh0IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gcm9sZXMgUmVxdWlyZWQgcm9sZShzKVxuICogQHJldHVybnMgQXV0aGVudGljYXRpb24gcmVzdWx0IHdpdGggdXNlciBkYXRhIG9yIGVycm9yIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja1VzZXJSb2xlKHJlcTogTmV4dFJlcXVlc3QsIHJvbGVzOiBSb2xlIHwgUm9sZVtdKSB7XG4gIGNvbnN0IGF1dGggPSBhd2FpdCBhdXRoZW50aWNhdGVVc2VyKHJlcSk7XG4gIFxuICBpZiAoIWF1dGguc3VjY2Vzcykge1xuICAgIHJldHVybiBhdXRoO1xuICB9XG4gIFxuICAvLyBUeXBlU2NyaXB0IGtub3dzIGF1dGgudXNlciBleGlzdHMgaWYgYXV0aC5zdWNjZXNzIGlzIHRydWVcbiAgY29uc3QgdXNlclJvbGUgPSBhdXRoLnVzZXI/LnJvbGU7XG4gIGNvbnN0IGFsbG93ZWRSb2xlcyA9IEFycmF5LmlzQXJyYXkocm9sZXMpID8gcm9sZXMgOiBbcm9sZXNdO1xuICBcbiAgLy8gQWRtaW4gcm9sZSBoYXMgYWNjZXNzIHRvIGV2ZXJ5dGhpbmdcbiAgaWYgKGlzQWRtaW4oYXV0aC51c2VyKSkge1xuICAgIHJldHVybiBhdXRoO1xuICB9XG4gIFxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBvbmUgb2YgdGhlIGFsbG93ZWQgcm9sZXNcbiAgaWYgKCF1c2VyUm9sZSB8fCAhYWxsb3dlZFJvbGVzLnNvbWUocm9sZSA9PiBoYXNSb2xlKGF1dGgudXNlciwgcm9sZSkpKSB7XG4gICAgY29uc3QgZXJyb3IgPSBnZXRBdXRoRXJyb3IoQXV0aEVycm9yQ29kZS5GT1JCSURERU4pO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgICAgeyBzdGF0dXM6IGVycm9yLnN0YXR1cyB9XG4gICAgICApXG4gICAgfTtcbiAgfVxuICBcbiAgcmV0dXJuIGF1dGg7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdXNlciBpcyBhZG1pblxuICogQHBhcmFtIHJlcSBOZXh0IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcmV0dXJucyBBdXRoZW50aWNhdGlvbiByZXN1bHQgd2l0aCB1c2VyIGRhdGEgb3IgZXJyb3IgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVBZG1pbihyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHJldHVybiBhd2FpdCBjaGVja1VzZXJSb2xlKHJlcSwgUm9sZS5hZG1pbik7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdXNlciBoYXMgcGVybWlzc2lvbiB0byBhY2Nlc3MgYSByZXNvdXJjZVxuICogQHBhcmFtIHJlcSBOZXh0IHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gdXNlcklkIFJlc291cmNlIG93bmVyIElEXG4gKiBAcmV0dXJucyBBdXRoZW50aWNhdGlvbiByZXN1bHQgd2l0aCB1c2VyIGRhdGEgb3IgZXJyb3IgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVTZWxmT3JBZG1pbihyZXE6IE5leHRSZXF1ZXN0LCB1c2VySWQ6IHN0cmluZykge1xuICBjb25zdCBhdXRoID0gYXdhaXQgYXV0aGVudGljYXRlVXNlcihyZXEpO1xuICBcbiAgaWYgKCFhdXRoLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gYXV0aDtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIHJlc291cmNlXG4gIGlmICghaGFzUGVybWlzc2lvbihhdXRoLnVzZXIsIHVzZXJJZCkpIHtcbiAgICBjb25zdCBlcnJvciA9IGdldEF1dGhFcnJvcihBdXRoRXJyb3JDb2RlLkZPUkJJRERFTik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cbiAgICAgIClcbiAgICB9O1xuICB9XG4gIFxuICByZXR1cm4gYXV0aDtcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwiUm9sZSIsImhhc1JvbGUiLCJpc0FkbWluIiwiaGFzUGVybWlzc2lvbiIsIkF1dGhFcnJvckNvZGUiLCJnZXRBdXRoRXJyb3IiLCJnZXRBdXRoU2Vzc2lvbiIsImF1dGhlbnRpY2F0ZVVzZXIiLCJyZXEiLCJzZXNzaW9uIiwidXNlciIsImVycm9yIiwiVU5BVVRIT1JJWkVEIiwic3VjY2VzcyIsInJlc3BvbnNlIiwianNvbiIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjaGVja1VzZXJSb2xlIiwicm9sZXMiLCJhdXRoIiwidXNlclJvbGUiLCJyb2xlIiwiYWxsb3dlZFJvbGVzIiwiQXJyYXkiLCJpc0FycmF5Iiwic29tZSIsIkZPUkJJRERFTiIsInJlcXVpcmVBZG1pbiIsImFkbWluIiwicmVxdWlyZVNlbGZPckFkbWluIiwidXNlcklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth/auth-middleware.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth/auth-options.ts":
/*!**************************************!*\
  !*** ./src/lib/auth/auth-options.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Role: () => (/* binding */ Role),\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/./node_modules/next-auth/providers/github.js\");\n/* harmony import */ var next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/facebook */ \"(rsc)/./node_modules/next-auth/providers/facebook.js\");\n/* harmony import */ var next_auth_providers_azure_ad__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next-auth/providers/azure-ad */ \"(rsc)/./node_modules/next-auth/providers/azure-ad.js\");\n/* harmony import */ var _utils_password_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/password-utils */ \"(rsc)/./src/lib/auth/utils/password-utils.ts\");\n/* harmony import */ var _lib_db_services_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/db/services/user-service */ \"(rsc)/./src/lib/db/services/user-service.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\n\n\n\n\n\n\n// Check if environment variables are set\nfunction validateEnvVariables() {\n    const requiredVars = [\n        {\n            key: \"NEXTAUTH_SECRET\",\n            value: process.env.NEXTAUTH_SECRET\n        },\n        {\n            key: \"NEXTAUTH_URL\",\n            value: process.env.NEXTAUTH_URL\n        },\n        {\n            key: \"FACEBOOK_CLIENT_ID\",\n            value: process.env.FACEBOOK_CLIENT_ID\n        },\n        {\n            key: \"FACEBOOK_CLIENT_SECRET\",\n            value: process.env.FACEBOOK_CLIENT_SECRET\n        },\n        {\n            key: \"MICROSOFT_CLIENT_ID\",\n            value: process.env.MICROSOFT_CLIENT_ID\n        },\n        {\n            key: \"MICROSOFT_CLIENT_SECRET\",\n            value: process.env.MICROSOFT_CLIENT_SECRET\n        }\n    ];\n    const missingVars = requiredVars.filter((v)=>!v.value);\n    if (missingVars.length > 0) {\n        console.error(\"Missing required environment variables:\", missingVars.map((v)=>v.key));\n    } else {\n        ;\n    }\n    ;\n    ;\n    ;\n}\n// Validate environment variables on startup\nvalidateEnvVariables();\nvar Role;\n(function(Role) {\n    Role[\"student\"] = \"student\";\n    Role[\"instructor\"] = \"instructor\";\n    Role[\"admin\"] = \"admin\";\n})(Role || (Role = {}));\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        console.error(\"Missing credentials\");\n                        throw new Error(\"Email and password are required\");\n                    }\n                    // Find the user by email (case insensitive)\n                    const user = await (0,_lib_db_services_user_service__WEBPACK_IMPORTED_MODULE_6__.findUserByEmail)(credentials.email);\n                    // If user doesn't exist\n                    if (!user) {\n                        console.error(\"User not found\");\n                        throw new Error(\"Invalid email or password\");\n                    }\n                    // Verify the password\n                    const isPasswordValid = await (0,_utils_password_utils__WEBPACK_IMPORTED_MODULE_5__.comparePasswords)(credentials.password, user.password);\n                    if (!isPasswordValid) {\n                        console.error(\"Password invalid\");\n                        throw new Error(\"Invalid email or password\");\n                    }\n                    ;\n                    // Return user object without password\n                    return {\n                        id: user.id,\n                        name: user.name,\n                        email: user.email,\n                        role: user.role\n                    };\n                } catch (error) {\n                    console.error(\"Authentication error:\", error);\n                    // Re-throw to be handled by NextAuth\n                    throw error;\n                }\n            }\n        }),\n        // Add Google Provider\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\",\n            authorization: {\n                params: {\n                    prompt: \"consent\",\n                    access_type: \"offline\",\n                    response_type: \"code\"\n                }\n            }\n        }),\n        // Add GitHub Provider\n        (0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            clientId: process.env.GITHUB_CLIENT_ID || \"\",\n            clientSecret: process.env.GITHUB_CLIENT_SECRET || \"\"\n        }),\n        // Add Facebook Provider\n        (0,next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            clientId: process.env.FACEBOOK_CLIENT_ID || \"\",\n            clientSecret: process.env.FACEBOOK_CLIENT_SECRET || \"\",\n            version: \"12.0\",\n            authorization: {\n                params: {\n                    scope: \"email,public_profile\",\n                    display: \"popup\",\n                    auth_type: \"rerequest\"\n                }\n            },\n            userinfo: {\n                url: \"https://graph.facebook.com/me\",\n                params: {\n                    fields: \"id,name,email,picture\"\n                }\n            },\n            profile (profile) {\n                ;\n                return {\n                    id: profile.id,\n                    name: profile.name,\n                    email: profile.email || `${profile.id}@facebook.com`,\n                    image: profile.picture?.data?.url,\n                    role: \"student\"\n                };\n            },\n            checks: [\n                \"state\"\n            ]\n        }),\n        // Add Microsoft Provider (via Azure AD)\n        (0,next_auth_providers_azure_ad__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n            clientId: process.env.MICROSOFT_CLIENT_ID || \"\",\n            clientSecret: process.env.MICROSOFT_CLIENT_SECRET || \"\",\n            tenantId: process.env.MICROSOFT_TENANT_ID || \"organizations\",\n            authorization: {\n                params: {\n                    scope: \"openid profile email User.Read\"\n                }\n            },\n            profile (profile) {\n                ;\n                return {\n                    id: profile.sub || profile.oid,\n                    name: profile.name || profile.preferred_username,\n                    email: profile.email || profile.preferred_username || `${profile.sub || profile.oid}@microsoft.com`,\n                    image: null,\n                    role: \"student\"\n                };\n            },\n            checks: [\n                \"pkce\",\n                \"state\"\n            ]\n        })\n    ],\n    callbacks: {\n        async signIn ({ user, account, profile, email }) {\n            try {\n                ;\n                // For OAuth providers\n                if (account && account.provider && account.provider !== \"credentials\") {\n                    ;\n                    // Special handling for Microsoft provider\n                    if (account.provider === \"azure-ad\") {\n                        ;\n                    }\n                    // Special handling for Facebook provider\n                    if (account.provider === \"facebook\") {\n                        ;\n                    }\n                    // Validate email presence\n                    let userEmail = user.email || profile?.email || email;\n                    if (!userEmail || typeof userEmail !== \"string\") {\n                        console.error(\"OAuth account missing email:\", {\n                            provider: account.provider,\n                            user,\n                            profile,\n                            email\n                        });\n                        // Instead of throwing an error, continue with a generated email\n                        if (account.provider === \"facebook\") {\n                            user.email = `${user.id}@facebook.com`;\n                            userEmail = user.email;\n                            ;\n                        } else if (account.provider === \"azure-ad\") {\n                            user.email = `${user.id}@microsoft.com`;\n                            userEmail = user.email;\n                            ;\n                        } else {\n                            throw new Error(\"Email is required for authentication\");\n                        }\n                    }\n                    // Ensure userEmail is a string for database operations\n                    const normalizedEmail = typeof userEmail === \"string\" ? userEmail.toLowerCase() : typeof user.email === \"string\" ? user.email.toLowerCase() : \"\";\n                    // Check if user already exists\n                    const existingUser = await (0,_lib_db_services_user_service__WEBPACK_IMPORTED_MODULE_6__.findUserByEmail)(normalizedEmail);\n                    if (existingUser) {\n                        ;\n                        try {\n                            // Update login history and OAuth info\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].user.update({\n                                where: {\n                                    id: existingUser.id\n                                },\n                                data: {\n                                    updatedAt: new Date(),\n                                    name: user.name || existingUser.name\n                                }\n                            });\n                        } catch (updateError) {\n                            console.error(\"Error updating user login history:\", updateError);\n                        // Continue with sign in even if update fails\n                        }\n                        // Set the user ID for the session\n                        user.id = existingUser.id;\n                        user.role = existingUser.role;\n                    } else {\n                        ;\n                        try {\n                            const newUser = await _lib_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].user.create({\n                                data: {\n                                    name: user.name || profile?.name || \"OAuth User\",\n                                    email: normalizedEmail,\n                                    password: \"\",\n                                    role: \"student\"\n                                }\n                            });\n                            ;\n                            user.id = newUser.id;\n                            user.role = newUser.role;\n                        } catch (createError) {\n                            console.error(\"Error creating new user:\", createError);\n                            throw new Error(\"Failed to create user account\");\n                        }\n                    }\n                } else if (account && account.provider === \"credentials\") {\n                    // For credentials login, update login history\n                    try {\n                        if (user.email) {\n                            const existingUser = await (0,_lib_db_services_user_service__WEBPACK_IMPORTED_MODULE_6__.findUserByEmail)(user.email);\n                            if (existingUser) {\n                                await (0,_lib_db_services_user_service__WEBPACK_IMPORTED_MODULE_6__.updateUserLoginInfo)(existingUser.id);\n                                // Check and award achievements for login if needed\n                                try {\n                                    // We need to dynamically import this to avoid circular dependencies\n                                    const { checkAndAwardAchievements } = await __webpack_require__.e(/*! import() */ \"_rsc_src_services_achievements_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/services/achievements */ \"(rsc)/./src/services/achievements.ts\"));\n                                    await checkAndAwardAchievements(existingUser.id);\n                                } catch (achievementError) {\n                                    console.error(\"Error checking achievements:\", achievementError);\n                                // Don't fail login if achievements check fails\n                                }\n                            }\n                        }\n                    } catch (error) {\n                        console.error(\"Error updating login history:\", error);\n                    // Don't prevent login if this fails\n                    }\n                }\n                return true;\n            } catch (error) {\n                console.error(\"Error in signIn callback:\", error);\n                return false;\n            }\n        },\n        async jwt ({ token, user, account }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role || \"student\";\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n            }\n            return session;\n        },\n        async redirect ({ url, baseUrl }) {\n            ;\n            try {\n                // Handle redirect after sign in\n                if (url.startsWith(\"/\")) {\n                    // For relative URLs, prefix with base URL\n                    return `${baseUrl}${url}`;\n                } else if (new URL(url).origin === baseUrl) {\n                    // Allow redirects to same origin\n                    return url;\n                }\n                // Default to dashboard for all other cases\n                return `${baseUrl}/dashboard`;\n            } catch (error) {\n                console.error(\"Error in redirect callback:\", error);\n                return `${baseUrl}/dashboard`;\n            }\n        }\n    },\n    pages: {\n        signIn: \"/login\",\n        signOut: \"/\",\n        error: \"/login\",\n        verifyRequest: \"/login\",\n        newUser: \"/dashboard\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    secret: process.env.NEXTAUTH_SECRET,\n    debug: false,\n    logger: {\n        error: (code, metadata)=>{\n            if (code !== \"DEBUG_ENABLED\") {\n                console.error(`[NextAuth][Error][${code}]:`, metadata);\n            }\n        },\n        warn: (code)=>{\n            if (code !== \"DEBUG_ENABLED\") {\n                console.warn(`[NextAuth][Warning][${code}]`);\n            }\n        },\n        debug: ()=>{}\n    },\n    events: {\n        async signIn ({ user, account, isNewUser }) {\n            ;\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (authOptions);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxDQUFDLEVBQUVDO1lBQy9DO1FBQ0Y7UUFDQUMsTUFBTSxDQUFDRjtZQUNMLElBQUlBLFNBQVMsaUJBQWlCO2dCQUM1QmhGLFFBQVFrRixJQUFJLENBQUMsQ0FBQyxvQkFBb0IsRUFBRUYsS0FBSyxDQUFDLENBQUM7WUFDN0M7UUFDRjtRQUNBRixPQUFPLEtBQ1A7SUFDRjtJQUNBSyxRQUFRO1FBQ04sTUFBTXBDLFFBQU8sRUFBRWpDLElBQUksRUFBRWtDLE9BQU8sRUFBRW9DLFNBQVMsRUFBRTs7UUFLekM7SUFDRjtBQUNGLEVBQUU7QUFFRixpRUFBZWhGLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9saWIvYXV0aC9hdXRoLW9wdGlvbnMudHM/OGRjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnO1xuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscyc7XG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGUnO1xuaW1wb3J0IEdpdEh1YlByb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvZ2l0aHViJztcbmltcG9ydCBGYWNlYm9va1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvZmFjZWJvb2snO1xuaW1wb3J0IE1pY3Jvc29mdFByb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvYXp1cmUtYWQnO1xuaW1wb3J0IHsgY29tcGFyZVBhc3N3b3JkcyB9IGZyb20gJy4vdXRpbHMvcGFzc3dvcmQtdXRpbHMnO1xuaW1wb3J0IHsgZmluZFVzZXJCeUVtYWlsLCB1cGRhdGVVc2VyTG9naW5JbmZvIH0gZnJvbSAnQC9saWIvZGIvc2VydmljZXMvdXNlci1zZXJ2aWNlJztcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvZGInO1xuXG4vLyBDaGVjayBpZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIHNldFxuZnVuY3Rpb24gdmFsaWRhdGVFbnZWYXJpYWJsZXMoKSB7XG4gIGNvbnN0IHJlcXVpcmVkVmFycyA9IFtcbiAgICB7IGtleTogJ05FWFRBVVRIX1NFQ1JFVCcsIHZhbHVlOiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfSxcbiAgICB7IGtleTogJ05FWFRBVVRIX1VSTCcsIHZhbHVlOiBwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwgfSxcbiAgICB7IGtleTogJ0ZBQ0VCT09LX0NMSUVOVF9JRCcsIHZhbHVlOiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRfSUQgfSxcbiAgICB7IGtleTogJ0ZBQ0VCT09LX0NMSUVOVF9TRUNSRVQnLCB2YWx1ZTogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfQ0xJRU5UX1NFQ1JFVCB9LFxuICAgIHsga2V5OiAnTUlDUk9TT0ZUX0NMSUVOVF9JRCcsIHZhbHVlOiBwcm9jZXNzLmVudi5NSUNST1NPRlRfQ0xJRU5UX0lEIH0sXG4gICAgeyBrZXk6ICdNSUNST1NPRlRfQ0xJRU5UX1NFQ1JFVCcsIHZhbHVlOiBwcm9jZXNzLmVudi5NSUNST1NPRlRfQ0xJRU5UX1NFQ1JFVCB9LFxuICBdO1xuICBcbiAgY29uc3QgbWlzc2luZ1ZhcnMgPSByZXF1aXJlZFZhcnMuZmlsdGVyKHYgPT4gIXYudmFsdWUpO1xuICBcbiAgaWYgKG1pc3NpbmdWYXJzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlczonLCBtaXNzaW5nVmFycy5tYXAodiA9PiB2LmtleSkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCdBbGwgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBzZXQnKTtcbiAgfVxuICBcbiAgLy8gTG9nIHByb3ZpZGVyIGRldGFpbHMgZm9yIGRlYnVnZ2luZ1xuICBjb25zb2xlLmxvZygnT0F1dGggUHJvdmlkZXIgRGV0YWlsczonKTtcbiAgY29uc29sZS5sb2coJy0gRmFjZWJvb2sgQ2xpZW50IElEOicsIHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVF9JRD8uc3Vic3RyaW5nKDAsIDUpICsgJy4uLicpO1xuICBjb25zb2xlLmxvZygnLSBNaWNyb3NvZnQgQ2xpZW50IElEOicsIHByb2Nlc3MuZW52Lk1JQ1JPU09GVF9DTElFTlRfSUQ/LnN1YnN0cmluZygwLCA1KSArICcuLi4nKTtcbn1cblxuLy8gVmFsaWRhdGUgZW52aXJvbm1lbnQgdmFyaWFibGVzIG9uIHN0YXJ0dXBcbnZhbGlkYXRlRW52VmFyaWFibGVzKCk7XG5cbi8vIERlZmluZSBSb2xlIGVudW1cbmV4cG9ydCBlbnVtIFJvbGUge1xuICBzdHVkZW50ID0gJ3N0dWRlbnQnLFxuICBpbnN0cnVjdG9yID0gJ2luc3RydWN0b3InLFxuICBhZG1pbiA9ICdhZG1pbidcbn1cblxuLy8gRXh0ZW5kIHRoZSBidWlsdC1pbiBzZXNzaW9uIHR5cGVzXG5kZWNsYXJlIG1vZHVsZSBcIm5leHQtYXV0aFwiIHtcbiAgaW50ZXJmYWNlIFVzZXIge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgcm9sZTogUm9sZTtcbiAgfVxuICBcbiAgaW50ZXJmYWNlIFNlc3Npb24ge1xuICAgIHVzZXI6IHtcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGVtYWlsPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGltYWdlPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHJvbGU6IFJvbGU7XG4gICAgfVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlIFwibmV4dC1hdXRoL2p3dFwiIHtcbiAgaW50ZXJmYWNlIEpXVCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICByb2xlOiBSb2xlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6ICdDcmVkZW50aWFscycsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBlbWFpbDogeyBsYWJlbDogJ0VtYWlsJywgdHlwZTogJ2VtYWlsJyB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogJ1Bhc3N3b3JkJywgdHlwZTogJ3Bhc3N3b3JkJyB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgY3JlZGVudGlhbHMnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEZpbmQgdGhlIHVzZXIgYnkgZW1haWwgKGNhc2UgaW5zZW5zaXRpdmUpXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGZpbmRVc2VyQnlFbWFpbChjcmVkZW50aWFscy5lbWFpbCk7XG5cbiAgICAgICAgICAvLyBJZiB1c2VyIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBWZXJpZnkgdGhlIHBhc3N3b3JkXG4gICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZVBhc3N3b3JkcyhjcmVkZW50aWFscy5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Bhc3N3b3JkIGludmFsaWQnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoZW50aWNhdGlvbiBzdWNjZXNzZnVsIGZvcjonLCBjcmVkZW50aWFscy5lbWFpbCk7XG5cbiAgICAgICAgICAvLyBSZXR1cm4gdXNlciBvYmplY3Qgd2l0aG91dCBwYXNzd29yZFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgcm9sZTogdXNlci5yb2xlIGFzIFJvbGVcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBSZS10aHJvdyB0byBiZSBoYW5kbGVkIGJ5IE5leHRBdXRoXG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSksXG4gICAgXG4gICAgLy8gQWRkIEdvb2dsZSBQcm92aWRlclxuICAgIEdvb2dsZVByb3ZpZGVyKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEIHx8ICcnLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCB8fCAnJyxcbiAgICAgIGF1dGhvcml6YXRpb246IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgcHJvbXB0OiBcImNvbnNlbnRcIixcbiAgICAgICAgICBhY2Nlc3NfdHlwZTogXCJvZmZsaW5lXCIsXG4gICAgICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIFxuICAgIC8vIEFkZCBHaXRIdWIgUHJvdmlkZXJcbiAgICBHaXRIdWJQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR0lUSFVCX0NMSUVOVF9JRCB8fCAnJyxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR0lUSFVCX0NMSUVOVF9TRUNSRVQgfHwgJycsXG4gICAgfSksXG4gICAgXG4gICAgLy8gQWRkIEZhY2Vib29rIFByb3ZpZGVyXG4gICAgRmFjZWJvb2tQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfQ0xJRU5UX0lEIHx8ICcnLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRfU0VDUkVUIHx8ICcnLFxuICAgICAgdmVyc2lvbjogXCIxMi4wXCIsIC8vIFNldCBsYXRlc3QgQVBJIHZlcnNpb25cbiAgICAgIGF1dGhvcml6YXRpb246IHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgc2NvcGU6IFwiZW1haWwscHVibGljX3Byb2ZpbGVcIixcbiAgICAgICAgICBkaXNwbGF5OiBcInBvcHVwXCIsXG4gICAgICAgICAgYXV0aF90eXBlOiBcInJlcmVxdWVzdFwiXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdXNlcmluZm86IHtcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lXCIsXG4gICAgICAgIHBhcmFtczogeyBcbiAgICAgICAgICBmaWVsZHM6IFwiaWQsbmFtZSxlbWFpbCxwaWN0dXJlXCIgXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHJvZmlsZShwcm9maWxlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWNlYm9vayBwcm9maWxlIGRhdGE6JywgcHJvZmlsZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHByb2ZpbGUuaWQsXG4gICAgICAgICAgbmFtZTogcHJvZmlsZS5uYW1lLFxuICAgICAgICAgIGVtYWlsOiBwcm9maWxlLmVtYWlsIHx8IGAke3Byb2ZpbGUuaWR9QGZhY2Vib29rLmNvbWAsIC8vIFByb3ZpZGUgZmFsbGJhY2sgZW1haWxcbiAgICAgICAgICBpbWFnZTogcHJvZmlsZS5waWN0dXJlPy5kYXRhPy51cmwsXG4gICAgICAgICAgcm9sZTogUm9sZS5zdHVkZW50LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGNoZWNrczogW1wic3RhdGVcIl0sXG4gICAgfSksXG4gICAgXG4gICAgLy8gQWRkIE1pY3Jvc29mdCBQcm92aWRlciAodmlhIEF6dXJlIEFEKVxuICAgIE1pY3Jvc29mdFByb3ZpZGVyKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5NSUNST1NPRlRfQ0xJRU5UX0lEIHx8ICcnLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5NSUNST1NPRlRfQ0xJRU5UX1NFQ1JFVCB8fCAnJyxcbiAgICAgIHRlbmFudElkOiBwcm9jZXNzLmVudi5NSUNST1NPRlRfVEVOQU5UX0lEIHx8IFwib3JnYW5pemF0aW9uc1wiLCAvLyBDaGFuZ2UgZnJvbSBcImNvbW1vblwiIHRvIFwib3JnYW5pemF0aW9uc1wiIFxuICAgICAgYXV0aG9yaXphdGlvbjoge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBzY29wZTogXCJvcGVuaWQgcHJvZmlsZSBlbWFpbCBVc2VyLlJlYWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwcm9maWxlKHByb2ZpbGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01pY3Jvc29mdCBwcm9maWxlIGRhdGE6JywgcHJvZmlsZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHByb2ZpbGUuc3ViIHx8IHByb2ZpbGUub2lkLFxuICAgICAgICAgIG5hbWU6IHByb2ZpbGUubmFtZSB8fCBwcm9maWxlLnByZWZlcnJlZF91c2VybmFtZSxcbiAgICAgICAgICBlbWFpbDogcHJvZmlsZS5lbWFpbCB8fCBwcm9maWxlLnByZWZlcnJlZF91c2VybmFtZSB8fCBgJHtwcm9maWxlLnN1YiB8fCBwcm9maWxlLm9pZH1AbWljcm9zb2Z0LmNvbWAsIC8vIFByb3ZpZGUgZmFsbGJhY2sgZW1haWxcbiAgICAgICAgICBpbWFnZTogbnVsbCxcbiAgICAgICAgICByb2xlOiBSb2xlLnN0dWRlbnQsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgY2hlY2tzOiBbXCJwa2NlXCIsIFwic3RhdGVcIl0sXG4gICAgfSksXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIHNpZ25Jbih7IHVzZXIsIGFjY291bnQsIHByb2ZpbGUsIGVtYWlsIH0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTaWduSW4gY2FsbGJhY2sgdHJpZ2dlcmVkOicsIHsgXG4gICAgICAgICAgcHJvdmlkZXI6IGFjY291bnQ/LnByb3ZpZGVyLFxuICAgICAgICAgIGhhc1VzZXI6ICEhdXNlcixcbiAgICAgICAgICBoYXNQcm9maWxlOiAhIXByb2ZpbGVcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgT0F1dGggcHJvdmlkZXJzXG4gICAgICAgIGlmIChhY2NvdW50ICYmIGFjY291bnQucHJvdmlkZXIgJiYgYWNjb3VudC5wcm92aWRlciAhPT0gJ2NyZWRlbnRpYWxzJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBPQXV0aCBsb2dpbiBhdHRlbXB0IHdpdGggJHthY2NvdW50LnByb3ZpZGVyfTpgLCB7XG4gICAgICAgICAgICBhY2NvdW50VHlwZTogYWNjb3VudC50eXBlLFxuICAgICAgICAgICAgYWNjb3VudElkOiBhY2NvdW50LnByb3ZpZGVyQWNjb3VudElkLFxuICAgICAgICAgICAgaGFzVG9rZW5zOiAhIWFjY291bnQuYWNjZXNzX3Rva2VuXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgTWljcm9zb2Z0IHByb3ZpZGVyXG4gICAgICAgICAgaWYgKGFjY291bnQucHJvdmlkZXIgPT09ICdhenVyZS1hZCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNaWNyb3NvZnQgbG9naW4gZGV0YWlsczonLCB7XG4gICAgICAgICAgICAgIHRva2VuVHlwZTogYWNjb3VudC50b2tlbl90eXBlLFxuICAgICAgICAgICAgICBzY29wZXM6IGFjY291bnQuc2NvcGUsXG4gICAgICAgICAgICAgIGV4cGlyZXNBdDogYWNjb3VudC5leHBpcmVzX2F0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgRmFjZWJvb2sgcHJvdmlkZXJcbiAgICAgICAgICBpZiAoYWNjb3VudC5wcm92aWRlciA9PT0gJ2ZhY2Vib29rJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhY2Vib29rIGxvZ2luIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgICB0b2tlblR5cGU6IGFjY291bnQudG9rZW5fdHlwZSxcbiAgICAgICAgICAgICAgc2NvcGVzOiBhY2NvdW50LnNjb3BlLFxuICAgICAgICAgICAgICBleHBpcmVzQXQ6IGFjY291bnQuZXhwaXJlc19hdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFZhbGlkYXRlIGVtYWlsIHByZXNlbmNlXG4gICAgICAgICAgbGV0IHVzZXJFbWFpbCA9IHVzZXIuZW1haWwgfHwgcHJvZmlsZT8uZW1haWwgfHwgZW1haWw7XG4gICAgICAgICAgaWYgKCF1c2VyRW1haWwgfHwgdHlwZW9mIHVzZXJFbWFpbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ09BdXRoIGFjY291bnQgbWlzc2luZyBlbWFpbDonLCB7IFxuICAgICAgICAgICAgICBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlciwgXG4gICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgIHByb2ZpbGUsXG4gICAgICAgICAgICAgIGVtYWlsIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBJbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLCBjb250aW51ZSB3aXRoIGEgZ2VuZXJhdGVkIGVtYWlsXG4gICAgICAgICAgICBpZiAoYWNjb3VudC5wcm92aWRlciA9PT0gJ2ZhY2Vib29rJykge1xuICAgICAgICAgICAgICB1c2VyLmVtYWlsID0gYCR7dXNlci5pZH1AZmFjZWJvb2suY29tYDtcbiAgICAgICAgICAgICAgdXNlckVtYWlsID0gdXNlci5lbWFpbDtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGdlbmVyYXRlZCBlbWFpbCBmb3IgRmFjZWJvb2s6JywgdXNlci5lbWFpbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjY291bnQucHJvdmlkZXIgPT09ICdhenVyZS1hZCcpIHtcbiAgICAgICAgICAgICAgdXNlci5lbWFpbCA9IGAke3VzZXIuaWR9QG1pY3Jvc29mdC5jb21gO1xuICAgICAgICAgICAgICB1c2VyRW1haWwgPSB1c2VyLmVtYWlsO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgZ2VuZXJhdGVkIGVtYWlsIGZvciBNaWNyb3NvZnQ6JywgdXNlci5lbWFpbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIGlzIHJlcXVpcmVkIGZvciBhdXRoZW50aWNhdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFbnN1cmUgdXNlckVtYWlsIGlzIGEgc3RyaW5nIGZvciBkYXRhYmFzZSBvcGVyYXRpb25zXG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEVtYWlsID0gdHlwZW9mIHVzZXJFbWFpbCA9PT0gJ3N0cmluZycgPyB1c2VyRW1haWwudG9Mb3dlckNhc2UoKSA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB1c2VyLmVtYWlsID09PSAnc3RyaW5nJyA/IHVzZXIuZW1haWwudG9Mb3dlckNhc2UoKSA6ICcnKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZmluZFVzZXJCeUVtYWlsKG5vcm1hbGl6ZWRFbWFpbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICAgICAgLy8gVXNlciBleGlzdHMsIHVwZGF0ZSB0aGVpciBPQXV0aCBpbmZvIGFuZCBsb2dpbiBoaXN0b3J5XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXhpc3RpbmcgdXNlciAke25vcm1hbGl6ZWRFbWFpbH0gc2lnbmVkIGluIHZpYSAke2FjY291bnQucHJvdmlkZXJ9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2dpbiBoaXN0b3J5IGFuZCBPQXV0aCBpbmZvXG4gICAgICAgICAgICAgIGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IGV4aXN0aW5nVXNlci5pZCB9LFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgXG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUgfHwgZXhpc3RpbmdVc2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAvLyBOb3RlOiBBZGQgbW9yZSBmaWVsZHMgYXMgbmVlZGVkIGJhc2VkIG9uIHlvdXIgVXNlciBtb2RlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIGxvZ2luIGhpc3Rvcnk6JywgdXBkYXRlRXJyb3IpO1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHNpZ24gaW4gZXZlbiBpZiB1cGRhdGUgZmFpbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IHRoZSB1c2VyIElEIGZvciB0aGUgc2Vzc2lvblxuICAgICAgICAgICAgdXNlci5pZCA9IGV4aXN0aW5nVXNlci5pZDtcbiAgICAgICAgICAgIHVzZXIucm9sZSA9IGV4aXN0aW5nVXNlci5yb2xlIGFzIFJvbGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHVzZXIgZnJvbSBPQXV0aCBkYXRhXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgbmV3IHVzZXIgZnJvbSAke2FjY291bnQucHJvdmlkZXJ9IE9BdXRoOmAsIHVzZXJFbWFpbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSB8fCBwcm9maWxlPy5uYW1lIHx8ICdPQXV0aCBVc2VyJyxcbiAgICAgICAgICAgICAgICAgIGVtYWlsOiBub3JtYWxpemVkRW1haWwsXG4gICAgICAgICAgICAgICAgICBwYXNzd29yZDogJycsIC8vIEVtcHR5IHBhc3N3b3JkIGZvciBPQXV0aCB1c2Vyc1xuICAgICAgICAgICAgICAgICAgcm9sZTogJ3N0dWRlbnQnLFxuICAgICAgICAgICAgICAgICAgLy8gQWRkIG90aGVyIGZpZWxkcyBhcyBuZWVkZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgbmV3IHVzZXIgZnJvbSBPQXV0aDonLCBuZXdVc2VyLmlkKTtcbiAgICAgICAgICAgICAgdXNlci5pZCA9IG5ld1VzZXIuaWQ7XG4gICAgICAgICAgICAgIHVzZXIucm9sZSA9IG5ld1VzZXIucm9sZSBhcyBSb2xlO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gY2F0Y2ggKGNyZWF0ZUVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG5ldyB1c2VyOicsIGNyZWF0ZUVycm9yKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHVzZXIgYWNjb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhY2NvdW50ICYmIGFjY291bnQucHJvdmlkZXIgPT09ICdjcmVkZW50aWFscycpIHtcbiAgICAgICAgICAvLyBGb3IgY3JlZGVudGlhbHMgbG9naW4sIHVwZGF0ZSBsb2dpbiBoaXN0b3J5XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh1c2VyLmVtYWlsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IGZpbmRVc2VyQnlFbWFpbCh1c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVVzZXJMb2dpbkluZm8oZXhpc3RpbmdVc2VyLmlkKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBhbmQgYXdhcmQgYWNoaWV2ZW1lbnRzIGZvciBsb2dpbiBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBkeW5hbWljYWxseSBpbXBvcnQgdGhpcyB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY2hlY2tBbmRBd2FyZEFjaGlldmVtZW50cyB9ID0gYXdhaXQgaW1wb3J0KCdAL3NlcnZpY2VzL2FjaGlldmVtZW50cycpO1xuICAgICAgICAgICAgICAgICAgYXdhaXQgY2hlY2tBbmRBd2FyZEFjaGlldmVtZW50cyhleGlzdGluZ1VzZXIuaWQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGFjaGlldmVtZW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGFjaGlldmVtZW50czonLCBhY2hpZXZlbWVudEVycm9yKTtcbiAgICAgICAgICAgICAgICAgIC8vIERvbid0IGZhaWwgbG9naW4gaWYgYWNoaWV2ZW1lbnRzIGNoZWNrIGZhaWxzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGxvZ2luIGhpc3Rvcnk6JywgZXJyb3IpO1xuICAgICAgICAgICAgLy8gRG9uJ3QgcHJldmVudCBsb2dpbiBpZiB0aGlzIGZhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHNpZ25JbiBjYWxsYmFjazonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCBhY2NvdW50IH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcbiAgICAgICAgdG9rZW4ucm9sZSA9IHVzZXIucm9sZSB8fCBSb2xlLnN0dWRlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgICBcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHNlc3Npb24udXNlcikge1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZDtcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbiAgICBcbiAgICBhc3luYyByZWRpcmVjdCh7IHVybCwgYmFzZVVybCB9KSB7XG4gICAgICBjb25zb2xlLmxvZygnUmVkaXJlY3QgY2FsbGJhY2sgY2FsbGVkIHdpdGg6JywgeyB1cmwsIGJhc2VVcmwgfSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEhhbmRsZSByZWRpcmVjdCBhZnRlciBzaWduIGluXG4gICAgICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgLy8gRm9yIHJlbGF0aXZlIFVSTHMsIHByZWZpeCB3aXRoIGJhc2UgVVJMXG4gICAgICAgICAgcmV0dXJuIGAke2Jhc2VVcmx9JHt1cmx9YDtcbiAgICAgICAgfSBlbHNlIGlmIChuZXcgVVJMKHVybCkub3JpZ2luID09PSBiYXNlVXJsKSB7XG4gICAgICAgICAgLy8gQWxsb3cgcmVkaXJlY3RzIHRvIHNhbWUgb3JpZ2luXG4gICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZhdWx0IHRvIGRhc2hib2FyZCBmb3IgYWxsIG90aGVyIGNhc2VzXG4gICAgICAgIHJldHVybiBgJHtiYXNlVXJsfS9kYXNoYm9hcmRgO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gcmVkaXJlY3QgY2FsbGJhY2s6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gYCR7YmFzZVVybH0vZGFzaGJvYXJkYDtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9sb2dpbicsXG4gICAgc2lnbk91dDogJy8nLFxuICAgIGVycm9yOiAnL2xvZ2luJyxcbiAgICB2ZXJpZnlSZXF1ZXN0OiAnL2xvZ2luJyxcbiAgICBuZXdVc2VyOiAnL2Rhc2hib2FyZCdcbiAgfSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiBcImp3dFwiLFxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcbiAgfSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXG4gIGRlYnVnOiBmYWxzZSxcbiAgbG9nZ2VyOiB7XG4gICAgZXJyb3I6IChjb2RlLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgaWYgKGNvZGUgIT09ICdERUJVR19FTkFCTEVEJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbTmV4dEF1dGhdW0Vycm9yXVske2NvZGV9XTpgLCBtZXRhZGF0YSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB3YXJuOiAoY29kZSkgPT4ge1xuICAgICAgaWYgKGNvZGUgIT09ICdERUJVR19FTkFCTEVEJykge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtOZXh0QXV0aF1bV2FybmluZ11bJHtjb2RlfV1gKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlYnVnOiAoKSA9PiB7XG4gICAgfSxcbiAgfSxcbiAgZXZlbnRzOiB7XG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciwgYWNjb3VudCwgaXNOZXdVc2VyIH0pIHtcbiAgICAgIGNvbnNvbGUubG9nKGBVc2VyICR7dXNlci5lbWFpbH0gc2lnbmVkIGluIHZpYSAke2FjY291bnQ/LnByb3ZpZGVyfWAsIHtcbiAgICAgICAgaXNOZXdVc2VyLFxuICAgICAgICB1c2VySWQ6IHVzZXIuaWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGF1dGhPcHRpb25zOyJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJHaXRIdWJQcm92aWRlciIsIkZhY2Vib29rUHJvdmlkZXIiLCJNaWNyb3NvZnRQcm92aWRlciIsImNvbXBhcmVQYXNzd29yZHMiLCJmaW5kVXNlckJ5RW1haWwiLCJ1cGRhdGVVc2VyTG9naW5JbmZvIiwicHJpc21hIiwidmFsaWRhdGVFbnZWYXJpYWJsZXMiLCJyZXF1aXJlZFZhcnMiLCJrZXkiLCJ2YWx1ZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiLCJORVhUQVVUSF9VUkwiLCJGQUNFQk9PS19DTElFTlRfSUQiLCJGQUNFQk9PS19DTElFTlRfU0VDUkVUIiwiTUlDUk9TT0ZUX0NMSUVOVF9JRCIsIk1JQ1JPU09GVF9DTElFTlRfU0VDUkVUIiwibWlzc2luZ1ZhcnMiLCJmaWx0ZXIiLCJ2IiwibGVuZ3RoIiwiY29uc29sZSIsImVycm9yIiwibWFwIiwiUm9sZSIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsIkVycm9yIiwidXNlciIsImlzUGFzc3dvcmRWYWxpZCIsImlkIiwicm9sZSIsImNsaWVudElkIiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiYXV0aG9yaXphdGlvbiIsInBhcmFtcyIsInByb21wdCIsImFjY2Vzc190eXBlIiwicmVzcG9uc2VfdHlwZSIsIkdJVEhVQl9DTElFTlRfSUQiLCJHSVRIVUJfQ0xJRU5UX1NFQ1JFVCIsInZlcnNpb24iLCJzY29wZSIsImRpc3BsYXkiLCJhdXRoX3R5cGUiLCJ1c2VyaW5mbyIsInVybCIsImZpZWxkcyIsInByb2ZpbGUiLCJpbWFnZSIsInBpY3R1cmUiLCJkYXRhIiwiY2hlY2tzIiwidGVuYW50SWQiLCJNSUNST1NPRlRfVEVOQU5UX0lEIiwic3ViIiwib2lkIiwicHJlZmVycmVkX3VzZXJuYW1lIiwiY2FsbGJhY2tzIiwic2lnbkluIiwiYWNjb3VudCIsInByb3ZpZGVyIiwidXNlckVtYWlsIiwibm9ybWFsaXplZEVtYWlsIiwidG9Mb3dlckNhc2UiLCJleGlzdGluZ1VzZXIiLCJ1cGRhdGUiLCJ3aGVyZSIsInVwZGF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVFcnJvciIsIm5ld1VzZXIiLCJjcmVhdGUiLCJjcmVhdGVFcnJvciIsImNoZWNrQW5kQXdhcmRBY2hpZXZlbWVudHMiLCJhY2hpZXZlbWVudEVycm9yIiwiand0IiwidG9rZW4iLCJzZXNzaW9uIiwicmVkaXJlY3QiLCJiYXNlVXJsIiwic3RhcnRzV2l0aCIsIlVSTCIsIm9yaWdpbiIsInBhZ2VzIiwic2lnbk91dCIsInZlcmlmeVJlcXVlc3QiLCJzdHJhdGVneSIsIm1heEFnZSIsInNlY3JldCIsImRlYnVnIiwibG9nZ2VyIiwiY29kZSIsIm1ldGFkYXRhIiwid2FybiIsImV2ZW50cyIsImlzTmV3VXNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth/auth-options.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth/roles.ts":
/*!*******************************!*\
  !*** ./src/lib/auth/roles.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   hasRole: () => (/* binding */ hasRole),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   isAuthenticated: () => (/* binding */ isAuthenticated),\n/* harmony export */   isStudent: () => (/* binding */ isStudent)\n/* harmony export */ });\n/* harmony import */ var _auth_options__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth-options */ \"(rsc)/./src/lib/auth/auth-options.ts\");\n\n/**\n * Role management utilities\n * Centralized utilities for role-based access control\n */ /**\n * Check if a user has the admin role\n * @param user The user object\n * @returns True if the user is an admin, false otherwise\n */ function isAdmin(user) {\n    if (!user) return false;\n    return user.role === _auth_options__WEBPACK_IMPORTED_MODULE_0__.Role.admin;\n}\n/**\n * Check if a user has the student role\n * @param user The user object\n * @returns True if the user is a student, false otherwise\n */ function isStudent(user) {\n    if (!user) return false;\n    return user.role === _auth_options__WEBPACK_IMPORTED_MODULE_0__.Role.student;\n}\n/**\n * Check if a user has the required role\n * @param user The user object\n * @param requiredRole The required role\n * @returns True if the user has the required role, false otherwise\n */ function hasRole(user, requiredRole) {\n    if (!user) return false;\n    // Admin role has access to everything\n    if (user.role === _auth_options__WEBPACK_IMPORTED_MODULE_0__.Role.admin) return true;\n    // Check if user has the specific required role\n    return user.role === requiredRole;\n}\n/**\n * Check if a user is authenticated\n * @param user The user object\n * @returns True if the user is authenticated, false otherwise\n */ function isAuthenticated(user) {\n    return !!user;\n}\n/**\n * Check if a user has permission to perform an action on a resource\n * @param user The user object\n * @param resourceOwnerId The ID of the resource owner\n * @returns True if the user has permission, false otherwise\n */ function hasPermission(user, resourceOwnerId) {\n    if (!user) return false;\n    // Admins have permission to do anything\n    if (user.role === _auth_options__WEBPACK_IMPORTED_MODULE_0__.Role.admin) return true;\n    // If no resource owner, only admins have permission\n    if (!resourceOwnerId) return false;\n    // Users can only modify their own resources\n    return user.id === resourceOwnerId;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgvcm9sZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBR3RDOzs7Q0FHQyxHQUVEOzs7O0NBSUMsR0FDTSxTQUFTQyxRQUFRQyxJQUE2QjtJQUNuRCxJQUFJLENBQUNBLE1BQU0sT0FBTztJQUNsQixPQUFPQSxLQUFLQyxJQUFJLEtBQUtILCtDQUFJQSxDQUFDSSxLQUFLO0FBQ2pDO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNDLFVBQVVILElBQTZCO0lBQ3JELElBQUksQ0FBQ0EsTUFBTSxPQUFPO0lBQ2xCLE9BQU9BLEtBQUtDLElBQUksS0FBS0gsK0NBQUlBLENBQUNNLE9BQU87QUFDbkM7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNDLFFBQVFMLElBQTZCLEVBQUVNLFlBQWtCO0lBQ3ZFLElBQUksQ0FBQ04sTUFBTSxPQUFPO0lBRWxCLHNDQUFzQztJQUN0QyxJQUFJQSxLQUFLQyxJQUFJLEtBQUtILCtDQUFJQSxDQUFDSSxLQUFLLEVBQUUsT0FBTztJQUVyQywrQ0FBK0M7SUFDL0MsT0FBT0YsS0FBS0MsSUFBSSxLQUFLSztBQUN2QjtBQUVBOzs7O0NBSUMsR0FDTSxTQUFTQyxnQkFBZ0JQLElBQTZCO0lBQzNELE9BQU8sQ0FBQyxDQUFDQTtBQUNYO0FBRUE7Ozs7O0NBS0MsR0FDTSxTQUFTUSxjQUFjUixJQUE2QixFQUFFUyxlQUE4QjtJQUN6RixJQUFJLENBQUNULE1BQU0sT0FBTztJQUVsQix3Q0FBd0M7SUFDeEMsSUFBSUEsS0FBS0MsSUFBSSxLQUFLSCwrQ0FBSUEsQ0FBQ0ksS0FBSyxFQUFFLE9BQU87SUFFckMsb0RBQW9EO0lBQ3BELElBQUksQ0FBQ08saUJBQWlCLE9BQU87SUFFN0IsNENBQTRDO0lBQzVDLE9BQU9ULEtBQUtVLEVBQUUsS0FBS0Q7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9saWIvYXV0aC9yb2xlcy50cz9mYjc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvbGUgfSBmcm9tICcuL2F1dGgtb3B0aW9ucyc7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnbmV4dC1hdXRoJztcblxuLyoqXG4gKiBSb2xlIG1hbmFnZW1lbnQgdXRpbGl0aWVzXG4gKiBDZW50cmFsaXplZCB1dGlsaXRpZXMgZm9yIHJvbGUtYmFzZWQgYWNjZXNzIGNvbnRyb2xcbiAqL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgdXNlciBoYXMgdGhlIGFkbWluIHJvbGVcbiAqIEBwYXJhbSB1c2VyIFRoZSB1c2VyIG9iamVjdFxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdXNlciBpcyBhbiBhZG1pbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FkbWluKHVzZXI6IFVzZXIgfCBudWxsIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XG4gIGlmICghdXNlcikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdXNlci5yb2xlID09PSBSb2xlLmFkbWluO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdXNlciBoYXMgdGhlIHN0dWRlbnQgcm9sZVxuICogQHBhcmFtIHVzZXIgVGhlIHVzZXIgb2JqZWN0XG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB1c2VyIGlzIGEgc3R1ZGVudCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0dWRlbnQodXNlcjogVXNlciB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgaWYgKCF1c2VyKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB1c2VyLnJvbGUgPT09IFJvbGUuc3R1ZGVudDtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHVzZXIgaGFzIHRoZSByZXF1aXJlZCByb2xlXG4gKiBAcGFyYW0gdXNlciBUaGUgdXNlciBvYmplY3RcbiAqIEBwYXJhbSByZXF1aXJlZFJvbGUgVGhlIHJlcXVpcmVkIHJvbGVcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHVzZXIgaGFzIHRoZSByZXF1aXJlZCByb2xlLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1JvbGUodXNlcjogVXNlciB8IG51bGwgfCB1bmRlZmluZWQsIHJlcXVpcmVkUm9sZTogUm9sZSk6IGJvb2xlYW4ge1xuICBpZiAoIXVzZXIpIHJldHVybiBmYWxzZTtcbiAgXG4gIC8vIEFkbWluIHJvbGUgaGFzIGFjY2VzcyB0byBldmVyeXRoaW5nXG4gIGlmICh1c2VyLnJvbGUgPT09IFJvbGUuYWRtaW4pIHJldHVybiB0cnVlO1xuICBcbiAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgdGhlIHNwZWNpZmljIHJlcXVpcmVkIHJvbGVcbiAgcmV0dXJuIHVzZXIucm9sZSA9PT0gcmVxdWlyZWRSb2xlO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gKiBAcGFyYW0gdXNlciBUaGUgdXNlciBvYmplY3RcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHVzZXIgaXMgYXV0aGVudGljYXRlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQodXNlcjogVXNlciB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhdXNlcjtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHVzZXIgaGFzIHBlcm1pc3Npb24gdG8gcGVyZm9ybSBhbiBhY3Rpb24gb24gYSByZXNvdXJjZVxuICogQHBhcmFtIHVzZXIgVGhlIHVzZXIgb2JqZWN0XG4gKiBAcGFyYW0gcmVzb3VyY2VPd25lcklkIFRoZSBJRCBvZiB0aGUgcmVzb3VyY2Ugb3duZXJcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHVzZXIgaGFzIHBlcm1pc3Npb24sIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzUGVybWlzc2lvbih1c2VyOiBVc2VyIHwgbnVsbCB8IHVuZGVmaW5lZCwgcmVzb3VyY2VPd25lcklkOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIGlmICghdXNlcikgcmV0dXJuIGZhbHNlO1xuICBcbiAgLy8gQWRtaW5zIGhhdmUgcGVybWlzc2lvbiB0byBkbyBhbnl0aGluZ1xuICBpZiAodXNlci5yb2xlID09PSBSb2xlLmFkbWluKSByZXR1cm4gdHJ1ZTtcbiAgXG4gIC8vIElmIG5vIHJlc291cmNlIG93bmVyLCBvbmx5IGFkbWlucyBoYXZlIHBlcm1pc3Npb25cbiAgaWYgKCFyZXNvdXJjZU93bmVySWQpIHJldHVybiBmYWxzZTtcbiAgXG4gIC8vIFVzZXJzIGNhbiBvbmx5IG1vZGlmeSB0aGVpciBvd24gcmVzb3VyY2VzXG4gIHJldHVybiB1c2VyLmlkID09PSByZXNvdXJjZU93bmVySWQ7XG59XG4iXSwibmFtZXMiOlsiUm9sZSIsImlzQWRtaW4iLCJ1c2VyIiwicm9sZSIsImFkbWluIiwiaXNTdHVkZW50Iiwic3R1ZGVudCIsImhhc1JvbGUiLCJyZXF1aXJlZFJvbGUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJoYXNQZXJtaXNzaW9uIiwicmVzb3VyY2VPd25lcklkIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth/roles.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth/utils/auth-errors.ts":
/*!*******************************************!*\
  !*** ./src/lib/auth/utils/auth-errors.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_ERRORS: () => (/* binding */ AUTH_ERRORS),\n/* harmony export */   AuthErrorCode: () => (/* binding */ AuthErrorCode),\n/* harmony export */   createAuthError: () => (/* binding */ createAuthError),\n/* harmony export */   getAuthError: () => (/* binding */ getAuthError)\n/* harmony export */ });\n/**\n * Standardized authentication error types and messages\n */ var AuthErrorCode;\n(function(AuthErrorCode) {\n    // User errors\n    AuthErrorCode[\"INVALID_CREDENTIALS\"] = \"INVALID_CREDENTIALS\";\n    AuthErrorCode[\"USER_NOT_FOUND\"] = \"USER_NOT_FOUND\";\n    AuthErrorCode[\"USER_EXISTS\"] = \"USER_EXISTS\";\n    AuthErrorCode[\"MISSING_CREDENTIALS\"] = \"MISSING_CREDENTIALS\";\n    AuthErrorCode[\"UNAUTHORIZED\"] = \"UNAUTHORIZED\";\n    AuthErrorCode[\"FORBIDDEN\"] = \"FORBIDDEN\";\n    // System errors\n    AuthErrorCode[\"DATABASE_ERROR\"] = \"DATABASE_ERROR\";\n    AuthErrorCode[\"PASSWORD_HASH_ERROR\"] = \"PASSWORD_HASH_ERROR\";\n    AuthErrorCode[\"SERVER_ERROR\"] = \"SERVER_ERROR\";\n    // OAuth errors\n    AuthErrorCode[\"OAUTH_ERROR\"] = \"OAUTH_ERROR\";\n    AuthErrorCode[\"OAUTH_CALLBACK_ERROR\"] = \"OAUTH_CALLBACK_ERROR\";\n    AuthErrorCode[\"OAUTH_SESSION_ERROR\"] = \"OAUTH_SESSION_ERROR\";\n})(AuthErrorCode || (AuthErrorCode = {}));\n/**\n * Map of error codes to error details\n */ const AUTH_ERRORS = {\n    [\"INVALID_CREDENTIALS\"]: {\n        code: \"INVALID_CREDENTIALS\",\n        message: \"Invalid email or password\",\n        status: 401\n    },\n    [\"USER_NOT_FOUND\"]: {\n        code: \"USER_NOT_FOUND\",\n        message: \"User not found\",\n        status: 404\n    },\n    [\"USER_EXISTS\"]: {\n        code: \"USER_EXISTS\",\n        message: \"User with this email already exists\",\n        status: 409\n    },\n    [\"MISSING_CREDENTIALS\"]: {\n        code: \"MISSING_CREDENTIALS\",\n        message: \"Email and password are required\",\n        status: 400\n    },\n    [\"UNAUTHORIZED\"]: {\n        code: \"UNAUTHORIZED\",\n        message: \"You must be logged in to access this resource\",\n        status: 401\n    },\n    [\"FORBIDDEN\"]: {\n        code: \"FORBIDDEN\",\n        message: \"You do not have permission to access this resource\",\n        status: 403\n    },\n    [\"DATABASE_ERROR\"]: {\n        code: \"DATABASE_ERROR\",\n        message: \"Database error occurred\",\n        status: 500\n    },\n    [\"PASSWORD_HASH_ERROR\"]: {\n        code: \"PASSWORD_HASH_ERROR\",\n        message: \"Error processing password\",\n        status: 500\n    },\n    [\"SERVER_ERROR\"]: {\n        code: \"SERVER_ERROR\",\n        message: \"Server error occurred\",\n        status: 500\n    },\n    [\"OAUTH_ERROR\"]: {\n        code: \"OAUTH_ERROR\",\n        message: \"OAuth authentication error\",\n        status: 500\n    },\n    [\"OAUTH_CALLBACK_ERROR\"]: {\n        code: \"OAUTH_CALLBACK_ERROR\",\n        message: \"OAuth callback error\",\n        status: 500\n    },\n    [\"OAUTH_SESSION_ERROR\"]: {\n        code: \"OAUTH_SESSION_ERROR\",\n        message: \"OAuth session error\",\n        status: 500\n    }\n};\n/**\n * Get error details for an error code\n * @param code Auth error code\n * @param customMessage Optional custom message to override default\n * @returns Error details\n */ function getAuthError(code, customMessage) {\n    const error = AUTH_ERRORS[code];\n    return {\n        ...error,\n        message: customMessage || error.message\n    };\n}\n/**\n * Create a customized auth error\n * @param code Auth error code\n * @param customMessage Optional custom message\n * @param customStatus Optional custom status code\n * @returns Customized error details\n */ function createAuthError(code, customMessage, customStatus) {\n    const baseError = AUTH_ERRORS[code];\n    return {\n        code: baseError.code,\n        message: customMessage || baseError.message,\n        status: customStatus || baseError.status\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgvdXRpbHMvYXV0aC1lcnJvcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztDQUVDO1VBRVdBO0lBQ1YsY0FBYzs7Ozs7OztJQVFkLGdCQUFnQjs7OztJQUtoQixlQUFlOzs7O0dBZExBLGtCQUFBQTtBQTZCWjs7Q0FFQyxHQUNNLE1BQU1DLGNBQXVEO0lBQ2xFLHVCQUFtQyxFQUFFO1FBQ25DQyxJQUFJO1FBQ0pDLFNBQVM7UUFDVEMsUUFBUTtJQUNWO0lBQ0Esa0JBQThCLEVBQUU7UUFDOUJGLElBQUk7UUFDSkMsU0FBUztRQUNUQyxRQUFRO0lBQ1Y7SUFDQSxlQUEyQixFQUFFO1FBQzNCRixJQUFJO1FBQ0pDLFNBQVM7UUFDVEMsUUFBUTtJQUNWO0lBQ0EsdUJBQW1DLEVBQUU7UUFDbkNGLElBQUk7UUFDSkMsU0FBUztRQUNUQyxRQUFRO0lBQ1Y7SUFDQSxnQkFBNEIsRUFBRTtRQUM1QkYsSUFBSTtRQUNKQyxTQUFTO1FBQ1RDLFFBQVE7SUFDVjtJQUNBLGFBQXlCLEVBQUU7UUFDekJGLElBQUk7UUFDSkMsU0FBUztRQUNUQyxRQUFRO0lBQ1Y7SUFDQSxrQkFBOEIsRUFBRTtRQUM5QkYsSUFBSTtRQUNKQyxTQUFTO1FBQ1RDLFFBQVE7SUFDVjtJQUNBLHVCQUFtQyxFQUFFO1FBQ25DRixJQUFJO1FBQ0pDLFNBQVM7UUFDVEMsUUFBUTtJQUNWO0lBQ0EsZ0JBQTRCLEVBQUU7UUFDNUJGLElBQUk7UUFDSkMsU0FBUztRQUNUQyxRQUFRO0lBQ1Y7SUFDQSxlQUEyQixFQUFFO1FBQzNCRixJQUFJO1FBQ0pDLFNBQVM7UUFDVEMsUUFBUTtJQUNWO0lBQ0Esd0JBQW9DLEVBQUU7UUFDcENGLElBQUk7UUFDSkMsU0FBUztRQUNUQyxRQUFRO0lBQ1Y7SUFDQSx1QkFBbUMsRUFBRTtRQUNuQ0YsSUFBSTtRQUNKQyxTQUFTO1FBQ1RDLFFBQVE7SUFDVjtBQUNGLEVBQUU7QUFFRjs7Ozs7Q0FLQyxHQUNNLFNBQVNDLGFBQWFILElBQW1CLEVBQUVJLGFBQXNCO0lBQ3RFLE1BQU1DLFFBQVFOLFdBQVcsQ0FBQ0MsS0FBSztJQUUvQixPQUFPO1FBQ0wsR0FBR0ssS0FBSztRQUNSSixTQUFTRyxpQkFBaUJDLE1BQU1KLE9BQU87SUFDekM7QUFDRjtBQUVBOzs7Ozs7Q0FNQyxHQUNNLFNBQVNLLGdCQUNkTixJQUFtQixFQUNuQkksYUFBc0IsRUFDdEJHLFlBQXFCO0lBRXJCLE1BQU1DLFlBQVlULFdBQVcsQ0FBQ0MsS0FBSztJQUVuQyxPQUFPO1FBQ0xBLE1BQU1RLFVBQVVSLElBQUk7UUFDcEJDLFNBQVNHLGlCQUFpQkksVUFBVVAsT0FBTztRQUMzQ0MsUUFBUUssZ0JBQWdCQyxVQUFVTixNQUFNO0lBQzFDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9saWIvYXV0aC91dGlscy9hdXRoLWVycm9ycy50cz9hZDIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3RhbmRhcmRpemVkIGF1dGhlbnRpY2F0aW9uIGVycm9yIHR5cGVzIGFuZCBtZXNzYWdlc1xuICovXG5cbmV4cG9ydCBlbnVtIEF1dGhFcnJvckNvZGUge1xuICAvLyBVc2VyIGVycm9yc1xuICBJTlZBTElEX0NSRURFTlRJQUxTID0gJ0lOVkFMSURfQ1JFREVOVElBTFMnLFxuICBVU0VSX05PVF9GT1VORCA9ICdVU0VSX05PVF9GT1VORCcsXG4gIFVTRVJfRVhJU1RTID0gJ1VTRVJfRVhJU1RTJyxcbiAgTUlTU0lOR19DUkVERU5USUFMUyA9ICdNSVNTSU5HX0NSRURFTlRJQUxTJyxcbiAgVU5BVVRIT1JJWkVEID0gJ1VOQVVUSE9SSVpFRCcsXG4gIEZPUkJJRERFTiA9ICdGT1JCSURERU4nLFxuICBcbiAgLy8gU3lzdGVtIGVycm9yc1xuICBEQVRBQkFTRV9FUlJPUiA9ICdEQVRBQkFTRV9FUlJPUicsXG4gIFBBU1NXT1JEX0hBU0hfRVJST1IgPSAnUEFTU1dPUkRfSEFTSF9FUlJPUicsXG4gIFNFUlZFUl9FUlJPUiA9ICdTRVJWRVJfRVJST1InLFxuICBcbiAgLy8gT0F1dGggZXJyb3JzXG4gIE9BVVRIX0VSUk9SID0gJ09BVVRIX0VSUk9SJyxcbiAgT0FVVEhfQ0FMTEJBQ0tfRVJST1IgPSAnT0FVVEhfQ0FMTEJBQ0tfRVJST1InLFxuICBPQVVUSF9TRVNTSU9OX0VSUk9SID0gJ09BVVRIX1NFU1NJT05fRVJST1InLFxufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgYXV0aCBlcnJvciBkZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aEVycm9yRGV0YWlscyB7XG4gIGNvZGU6IEF1dGhFcnJvckNvZGU7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgc3RhdHVzOiBudW1iZXI7XG59XG5cbi8qKlxuICogTWFwIG9mIGVycm9yIGNvZGVzIHRvIGVycm9yIGRldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IEFVVEhfRVJST1JTOiBSZWNvcmQ8QXV0aEVycm9yQ29kZSwgQXV0aEVycm9yRGV0YWlscz4gPSB7XG4gIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ1JFREVOVElBTFNdOiB7XG4gICAgY29kZTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0NSRURFTlRJQUxTLFxuICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyxcbiAgICBzdGF0dXM6IDQwMSxcbiAgfSxcbiAgW0F1dGhFcnJvckNvZGUuVVNFUl9OT1RfRk9VTkRdOiB7XG4gICAgY29kZTogQXV0aEVycm9yQ29kZS5VU0VSX05PVF9GT1VORCxcbiAgICBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnLFxuICAgIHN0YXR1czogNDA0LFxuICB9LFxuICBbQXV0aEVycm9yQ29kZS5VU0VSX0VYSVNUU106IHtcbiAgICBjb2RlOiBBdXRoRXJyb3JDb2RlLlVTRVJfRVhJU1RTLFxuICAgIG1lc3NhZ2U6ICdVc2VyIHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0cycsXG4gICAgc3RhdHVzOiA0MDksXG4gIH0sXG4gIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQ1JFREVOVElBTFNdOiB7XG4gICAgY29kZTogQXV0aEVycm9yQ29kZS5NSVNTSU5HX0NSRURFTlRJQUxTLFxuICAgIG1lc3NhZ2U6ICdFbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyxcbiAgICBzdGF0dXM6IDQwMCxcbiAgfSxcbiAgW0F1dGhFcnJvckNvZGUuVU5BVVRIT1JJWkVEXToge1xuICAgIGNvZGU6IEF1dGhFcnJvckNvZGUuVU5BVVRIT1JJWkVELFxuICAgIG1lc3NhZ2U6ICdZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2UnLFxuICAgIHN0YXR1czogNDAxLFxuICB9LFxuICBbQXV0aEVycm9yQ29kZS5GT1JCSURERU5dOiB7XG4gICAgY29kZTogQXV0aEVycm9yQ29kZS5GT1JCSURERU4sXG4gICAgbWVzc2FnZTogJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIHJlc291cmNlJyxcbiAgICBzdGF0dXM6IDQwMyxcbiAgfSxcbiAgW0F1dGhFcnJvckNvZGUuREFUQUJBU0VfRVJST1JdOiB7XG4gICAgY29kZTogQXV0aEVycm9yQ29kZS5EQVRBQkFTRV9FUlJPUixcbiAgICBtZXNzYWdlOiAnRGF0YWJhc2UgZXJyb3Igb2NjdXJyZWQnLFxuICAgIHN0YXR1czogNTAwLFxuICB9LFxuICBbQXV0aEVycm9yQ29kZS5QQVNTV09SRF9IQVNIX0VSUk9SXToge1xuICAgIGNvZGU6IEF1dGhFcnJvckNvZGUuUEFTU1dPUkRfSEFTSF9FUlJPUixcbiAgICBtZXNzYWdlOiAnRXJyb3IgcHJvY2Vzc2luZyBwYXNzd29yZCcsXG4gICAgc3RhdHVzOiA1MDAsXG4gIH0sXG4gIFtBdXRoRXJyb3JDb2RlLlNFUlZFUl9FUlJPUl06IHtcbiAgICBjb2RlOiBBdXRoRXJyb3JDb2RlLlNFUlZFUl9FUlJPUixcbiAgICBtZXNzYWdlOiAnU2VydmVyIGVycm9yIG9jY3VycmVkJyxcbiAgICBzdGF0dXM6IDUwMCxcbiAgfSxcbiAgW0F1dGhFcnJvckNvZGUuT0FVVEhfRVJST1JdOiB7XG4gICAgY29kZTogQXV0aEVycm9yQ29kZS5PQVVUSF9FUlJPUixcbiAgICBtZXNzYWdlOiAnT0F1dGggYXV0aGVudGljYXRpb24gZXJyb3InLFxuICAgIHN0YXR1czogNTAwLFxuICB9LFxuICBbQXV0aEVycm9yQ29kZS5PQVVUSF9DQUxMQkFDS19FUlJPUl06IHtcbiAgICBjb2RlOiBBdXRoRXJyb3JDb2RlLk9BVVRIX0NBTExCQUNLX0VSUk9SLFxuICAgIG1lc3NhZ2U6ICdPQXV0aCBjYWxsYmFjayBlcnJvcicsXG4gICAgc3RhdHVzOiA1MDAsXG4gIH0sXG4gIFtBdXRoRXJyb3JDb2RlLk9BVVRIX1NFU1NJT05fRVJST1JdOiB7XG4gICAgY29kZTogQXV0aEVycm9yQ29kZS5PQVVUSF9TRVNTSU9OX0VSUk9SLFxuICAgIG1lc3NhZ2U6ICdPQXV0aCBzZXNzaW9uIGVycm9yJyxcbiAgICBzdGF0dXM6IDUwMCxcbiAgfSxcbn07XG5cbi8qKlxuICogR2V0IGVycm9yIGRldGFpbHMgZm9yIGFuIGVycm9yIGNvZGVcbiAqIEBwYXJhbSBjb2RlIEF1dGggZXJyb3IgY29kZVxuICogQHBhcmFtIGN1c3RvbU1lc3NhZ2UgT3B0aW9uYWwgY3VzdG9tIG1lc3NhZ2UgdG8gb3ZlcnJpZGUgZGVmYXVsdFxuICogQHJldHVybnMgRXJyb3IgZGV0YWlsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXV0aEVycm9yKGNvZGU6IEF1dGhFcnJvckNvZGUsIGN1c3RvbU1lc3NhZ2U/OiBzdHJpbmcpOiBBdXRoRXJyb3JEZXRhaWxzIHtcbiAgY29uc3QgZXJyb3IgPSBBVVRIX0VSUk9SU1tjb2RlXTtcbiAgXG4gIHJldHVybiB7XG4gICAgLi4uZXJyb3IsXG4gICAgbWVzc2FnZTogY3VzdG9tTWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlLFxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGN1c3RvbWl6ZWQgYXV0aCBlcnJvclxuICogQHBhcmFtIGNvZGUgQXV0aCBlcnJvciBjb2RlXG4gKiBAcGFyYW0gY3VzdG9tTWVzc2FnZSBPcHRpb25hbCBjdXN0b20gbWVzc2FnZVxuICogQHBhcmFtIGN1c3RvbVN0YXR1cyBPcHRpb25hbCBjdXN0b20gc3RhdHVzIGNvZGVcbiAqIEByZXR1cm5zIEN1c3RvbWl6ZWQgZXJyb3IgZGV0YWlsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXV0aEVycm9yKFxuICBjb2RlOiBBdXRoRXJyb3JDb2RlLFxuICBjdXN0b21NZXNzYWdlPzogc3RyaW5nLFxuICBjdXN0b21TdGF0dXM/OiBudW1iZXJcbik6IEF1dGhFcnJvckRldGFpbHMge1xuICBjb25zdCBiYXNlRXJyb3IgPSBBVVRIX0VSUk9SU1tjb2RlXTtcbiAgXG4gIHJldHVybiB7XG4gICAgY29kZTogYmFzZUVycm9yLmNvZGUsXG4gICAgbWVzc2FnZTogY3VzdG9tTWVzc2FnZSB8fCBiYXNlRXJyb3IubWVzc2FnZSxcbiAgICBzdGF0dXM6IGN1c3RvbVN0YXR1cyB8fCBiYXNlRXJyb3Iuc3RhdHVzLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbIkF1dGhFcnJvckNvZGUiLCJBVVRIX0VSUk9SUyIsImNvZGUiLCJtZXNzYWdlIiwic3RhdHVzIiwiZ2V0QXV0aEVycm9yIiwiY3VzdG9tTWVzc2FnZSIsImVycm9yIiwiY3JlYXRlQXV0aEVycm9yIiwiY3VzdG9tU3RhdHVzIiwiYmFzZUVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth/utils/auth-errors.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth/utils/password-utils.ts":
/*!**********************************************!*\
  !*** ./src/lib/auth/utils/password-utils.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   comparePasswords: () => (/* binding */ comparePasswords),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/**\n * Password utilities for authentication\n */ \n/**\n * Hash a password with bcrypt\n * @param password The plain text password to hash\n * @returns The hashed password\n * @throws Error if hashing fails\n */ async function hashPassword(password) {\n    try {\n        if (!password) {\n            throw new Error(\"Password is required\");\n        }\n        const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].genSalt(10);\n        const hash = await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, salt);\n        return hash;\n    } catch (error) {\n        console.error(\"Error in hashPassword function:\", error);\n        throw new Error(`Failed to hash password: ${error.message}`);\n    }\n}\n/**\n * Compare a plain text password with a hashed password\n * @param password The plain text password\n * @param hashedPassword The hashed password\n * @returns True if the passwords match, false otherwise\n */ async function comparePasswords(password, hashedPassword) {\n    try {\n        return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hashedPassword);\n    } catch (error) {\n        console.error(\"Error comparing passwords:\", error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgvdXRpbHMvcGFzc3dvcmQtdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0NBRUMsR0FDNkI7QUFFOUI7Ozs7O0NBS0MsR0FDTSxlQUFlQyxhQUFhQyxRQUFnQjtJQUNqRCxJQUFJO1FBQ0YsSUFBSSxDQUFDQSxVQUFVO1lBQ2IsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUEsTUFBTUMsT0FBTyxNQUFNSix3REFBYyxDQUFDO1FBQ2xDLE1BQU1NLE9BQU8sTUFBTU4scURBQVcsQ0FBQ0UsVUFBVUU7UUFFekMsT0FBT0U7SUFDVCxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakQsTUFBTSxJQUFJSixNQUFNLENBQUMseUJBQXlCLEVBQUUsTUFBaUJNLE9BQU8sQ0FBQyxDQUFDO0lBQ3hFO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLGVBQWVDLGlCQUFpQlIsUUFBZ0IsRUFBRVMsY0FBc0I7SUFDN0UsSUFBSTtRQUNGLE9BQU8sTUFBTVgsd0RBQWMsQ0FBQ0UsVUFBVVM7SUFDeEMsRUFBRSxPQUFPSixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hvaWNlLWUtbGVhcm5pbmcvLi9zcmMvbGliL2F1dGgvdXRpbHMvcGFzc3dvcmQtdXRpbHMudHM/OTI5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBhc3N3b3JkIHV0aWxpdGllcyBmb3IgYXV0aGVudGljYXRpb25cbiAqL1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5cbi8qKlxuICogSGFzaCBhIHBhc3N3b3JkIHdpdGggYmNyeXB0XG4gKiBAcGFyYW0gcGFzc3dvcmQgVGhlIHBsYWluIHRleHQgcGFzc3dvcmQgdG8gaGFzaFxuICogQHJldHVybnMgVGhlIGhhc2hlZCBwYXNzd29yZFxuICogQHRocm93cyBFcnJvciBpZiBoYXNoaW5nIGZhaWxzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgaWYgKCFwYXNzd29yZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXNzd29yZCBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApO1xuICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7XG4gICAgXG4gICAgcmV0dXJuIGhhc2g7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gaGFzaFBhc3N3b3JkIGZ1bmN0aW9uOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBoYXNoIHBhc3N3b3JkOiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbXBhcmUgYSBwbGFpbiB0ZXh0IHBhc3N3b3JkIHdpdGggYSBoYXNoZWQgcGFzc3dvcmRcbiAqIEBwYXJhbSBwYXNzd29yZCBUaGUgcGxhaW4gdGV4dCBwYXNzd29yZFxuICogQHBhcmFtIGhhc2hlZFBhc3N3b3JkIFRoZSBoYXNoZWQgcGFzc3dvcmRcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBhc3N3b3JkcyBtYXRjaCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wYXJlUGFzc3dvcmRzKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2hlZFBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21wYXJpbmcgcGFzc3dvcmRzOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJiY3J5cHQiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsIkVycm9yIiwic2FsdCIsImdlblNhbHQiLCJoYXNoIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsImNvbXBhcmVQYXNzd29yZHMiLCJoYXNoZWRQYXNzd29yZCIsImNvbXBhcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth/utils/password-utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   prisma: () => (/* reexport safe */ _db_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _db_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db/index */ \"(rsc)/./src/lib/db/index.ts\");\n/* harmony import */ var _db_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db/services */ \"(rsc)/./src/lib/db/services/index.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _db_services__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"prisma\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _db_services__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n// Export the Prisma client from our central location\n\n// Re-export all database services\n\n// Export prisma client directly for convenience\n\n// Export prisma client as default\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_db_index__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxREFBcUQ7QUFDckI7QUFFaEMsa0NBQWtDO0FBQ0o7QUFFOUIsZ0RBQWdEO0FBQzlCO0FBRWxCLGtDQUFrQztBQUNsQyxpRUFBZUEsaURBQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9saWIvZGIudHM/OWU0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnQgdGhlIFByaXNtYSBjbGllbnQgZnJvbSBvdXIgY2VudHJhbCBsb2NhdGlvblxuaW1wb3J0IHByaXNtYSBmcm9tICcuL2RiL2luZGV4JztcblxuLy8gUmUtZXhwb3J0IGFsbCBkYXRhYmFzZSBzZXJ2aWNlc1xuZXhwb3J0ICogZnJvbSAnLi9kYi9zZXJ2aWNlcyc7XG5cbi8vIEV4cG9ydCBwcmlzbWEgY2xpZW50IGRpcmVjdGx5IGZvciBjb252ZW5pZW5jZVxuZXhwb3J0IHsgcHJpc21hIH07XG5cbi8vIEV4cG9ydCBwcmlzbWEgY2xpZW50IGFzIGRlZmF1bHRcbmV4cG9ydCBkZWZhdWx0IHByaXNtYTsiXSwibmFtZXMiOlsicHJpc21hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/index.ts":
/*!*****************************!*\
  !*** ./src/lib/db/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\n// PrismaClient is attached to the `global` object in development to prevent\n// exhausting your database connection limit.\n// Learn more: https://pris.ly/d/help/next-js-best-practices\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) globalForPrisma.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFFOUMsNEVBQTRFO0FBQzVFLDZDQUE2QztBQUM3Qyw0REFBNEQ7QUFFNUQsTUFBTUMsa0JBQWtCQztBQUVqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLENBQUM7SUFDZkksS0FBS0MsS0FBeUIsR0FBZ0I7UUFBQztRQUFTO1FBQVM7S0FBTyxHQUFHLENBQVM7QUFDdEYsR0FBRztBQUVMLElBQUlBLElBQXlCLEVBQWNKLGdCQUFnQkUsTUFBTSxHQUFHQTtBQUVwRSxpRUFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Nob2ljZS1lLWxlYXJuaW5nLy4vc3JjL2xpYi9kYi9pbmRleC50cz81OGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcblxuLy8gUHJpc21hQ2xpZW50IGlzIGF0dGFjaGVkIHRvIHRoZSBgZ2xvYmFsYCBvYmplY3QgaW4gZGV2ZWxvcG1lbnQgdG8gcHJldmVudFxuLy8gZXhoYXVzdGluZyB5b3VyIGRhdGFiYXNlIGNvbm5lY3Rpb24gbGltaXQuXG4vLyBMZWFybiBtb3JlOiBodHRwczovL3ByaXMubHkvZC9oZWxwL25leHQtanMtYmVzdC1wcmFjdGljZXNcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsIGFzIHVua25vd24gYXMgeyBwcmlzbWE6IFByaXNtYUNsaWVudCB9O1xuXG5leHBvcnQgY29uc3QgcHJpc21hID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSB8fFxuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBsb2c6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gWydxdWVyeScsICdlcnJvcicsICd3YXJuJ10gOiBbJ2Vycm9yJ10sXG4gIH0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyAiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/services/course-service.ts":
/*!***********************************************!*\
  !*** ./src/lib/db/services/course-service.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCourse: () => (/* binding */ createCourse),\n/* harmony export */   deleteCourse: () => (/* binding */ deleteCourse),\n/* harmony export */   enrollStudent: () => (/* binding */ enrollStudent),\n/* harmony export */   findCourseById: () => (/* binding */ findCourseById),\n/* harmony export */   getCourses: () => (/* binding */ getCourses),\n/* harmony export */   getEnrolledCourses: () => (/* binding */ getEnrolledCourses),\n/* harmony export */   unenrollStudent: () => (/* binding */ unenrollStudent),\n/* harmony export */   updateCourse: () => (/* binding */ updateCourse)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/action-encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"2de26b7ad05b48affebb49e0e0a3f6eb1114b478\":\"unenrollStudent\",\"4e7daa72cfb6c88893e3c83fbf9014eb870cafa4\":\"getCourses\",\"4ef4c52e0874114f33e26877d04b34e92ed23804\":\"deleteCourse\",\"6f245e7b94574f23206e987d9ccac8601b008053\":\"findCourseById\",\"b561f155418cf1d4e9029465319d804497fc7de4\":\"enrollStudent\",\"d608042238ad3a8c4e490d67ddd489ce7ceb27a7\":\"createCourse\",\"da72108311d07880d3ed3b28a123df1aaf05c834\":\"getEnrolledCourses\",\"db7bbfbfa326ccf6a29257eb67f1756e8b1de031\":\"updateCourse\"} */ \n\n\n/**\n * Find a course by ID\n * @param id Course ID\n * @param includeRelations Include related data like lessons, students, reviews\n * @returns Course object or null if not found\n */ async function findCourseById(id, includeRelations = false) {\n    try {\n        if (!id.match(/^[0-9a-fA-F]{24}$/)) {\n            return null;\n        }\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.findUnique({\n            where: {\n                id\n            },\n            include: includeRelations ? {\n                lessons: {\n                    orderBy: {\n                        order: \"asc\"\n                    }\n                },\n                students: true,\n                reviews: {\n                    include: {\n                        user: {\n                            select: {\n                                id: true,\n                                name: true,\n                                email: true\n                            }\n                        }\n                    }\n                }\n            } : undefined\n        });\n    } catch (error) {\n        console.error(\"Error finding course by ID:\", error);\n        return null;\n    }\n}\n/**\n * Get all courses with pagination and optional filtering\n * @param page Page number (1-based)\n * @param pageSize Page size\n * @param filters Optional filter criteria\n * @returns Paginated courses\n */ async function getCourses(page = 1, pageSize = 10, filters = {}) {\n    try {\n        // Ensure page and pageSize are valid\n        page = Math.max(1, page);\n        pageSize = Math.max(1, Math.min(100, pageSize));\n        // Get total count\n        const total = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.count({\n            where: filters\n        });\n        // Calculate total pages\n        const pages = Math.ceil(total / pageSize);\n        // Get courses for the requested page\n        const courses = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.findMany({\n            where: filters,\n            skip: (page - 1) * pageSize,\n            take: pageSize,\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            include: {\n                lessons: {\n                    select: {\n                        id: true,\n                        title: true,\n                        order: true\n                    },\n                    orderBy: {\n                        order: \"asc\"\n                    }\n                },\n                reviews: {\n                    select: {\n                        rating: true\n                    }\n                },\n                _count: {\n                    select: {\n                        students: true,\n                        lessons: true,\n                        reviews: true\n                    }\n                }\n            }\n        });\n        return {\n            courses,\n            total,\n            pages\n        };\n    } catch (error) {\n        console.error(\"Error getting courses:\", error);\n        return {\n            courses: [],\n            total: 0,\n            pages: 0\n        };\n    }\n}\n/**\n * Create a new course\n * @param data Course data\n * @returns Created course or null if creation failed\n */ async function createCourse(data) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.create({\n            data,\n            include: {\n                lessons: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Error creating course:\", error);\n        return null;\n    }\n}\n/**\n * Update course data\n * @param id Course ID\n * @param data Course data to update\n * @returns Updated course or null if update failed\n */ async function updateCourse(id, data) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.update({\n            where: {\n                id\n            },\n            data,\n            include: {\n                lessons: {\n                    orderBy: {\n                        order: \"asc\"\n                    }\n                }\n            }\n        });\n    } catch (error) {\n        console.error(\"Error updating course:\", error);\n        return null;\n    }\n}\n/**\n * Delete a course\n * @param id Course ID\n * @returns Deleted course or null if deletion failed\n */ async function deleteCourse(id) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.delete({\n            where: {\n                id\n            },\n            include: {\n                lessons: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Error deleting course:\", error);\n        return null;\n    }\n}\n/**\n * Enroll a student in a course\n * @param courseId Course ID\n * @param userId User ID\n * @returns Updated course or null if enrollment failed\n */ async function enrollStudent(courseId, userId) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.update({\n            where: {\n                id: courseId\n            },\n            data: {\n                students: {\n                    connect: {\n                        id: userId\n                    }\n                }\n            }\n        });\n    } catch (error) {\n        console.error(\"Error enrolling student:\", error);\n        return null;\n    }\n}\n/**\n * Unenroll a student from a course\n * @param courseId Course ID\n * @param userId User ID\n * @returns Updated course or null if unenrollment failed\n */ async function unenrollStudent(courseId, userId) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.update({\n            where: {\n                id: courseId\n            },\n            data: {\n                students: {\n                    disconnect: {\n                        id: userId\n                    }\n                }\n            }\n        });\n    } catch (error) {\n        console.error(\"Error unenrolling student:\", error);\n        return null;\n    }\n}\n/**\n * Get courses a user is enrolled in\n * @param userId User ID\n * @param page Page number (1-based)\n * @param pageSize Page size\n * @returns Paginated courses the user is enrolled in\n */ async function getEnrolledCourses(userId, page = 1, pageSize = 10) {\n    try {\n        // Ensure page and pageSize are valid\n        page = Math.max(1, page);\n        pageSize = Math.max(1, Math.min(100, pageSize));\n        // Get total count\n        const total = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.count({\n            where: {\n                students: {\n                    some: {\n                        id: userId\n                    }\n                }\n            }\n        });\n        // Calculate total pages\n        const pages = Math.ceil(total / pageSize);\n        // Get courses for the requested page\n        const courses = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.findMany({\n            where: {\n                students: {\n                    some: {\n                        id: userId\n                    }\n                }\n            },\n            skip: (page - 1) * pageSize,\n            take: pageSize,\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            include: {\n                lessons: {\n                    select: {\n                        id: true,\n                        title: true,\n                        order: true\n                    },\n                    orderBy: {\n                        order: \"asc\"\n                    }\n                },\n                reviews: {\n                    where: {\n                        userId\n                    },\n                    select: {\n                        id: true,\n                        rating: true,\n                        comment: true\n                    }\n                }\n            }\n        });\n        return {\n            courses,\n            total,\n            pages\n        };\n    } catch (error) {\n        console.error(\"Error getting enrolled courses:\", error);\n        return {\n            courses: [],\n            total: 0,\n            pages: 0\n        };\n    }\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__.ensureServerEntryExports)([\n    findCourseById,\n    getCourses,\n    createCourse,\n    updateCourse,\n    deleteCourse,\n    enrollStudent,\n    unenrollStudent,\n    getEnrolledCourses\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"6f245e7b94574f23206e987d9ccac8601b008053\", findCourseById);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"4e7daa72cfb6c88893e3c83fbf9014eb870cafa4\", getCourses);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"d608042238ad3a8c4e490d67ddd489ce7ceb27a7\", createCourse);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"db7bbfbfa326ccf6a29257eb67f1756e8b1de031\", updateCourse);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"4ef4c52e0874114f33e26877d04b34e92ed23804\", deleteCourse);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"b561f155418cf1d4e9029465319d804497fc7de4\", enrollStudent);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"2de26b7ad05b48affebb49e0e0a3f6eb1114b478\", unenrollStudent);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"da72108311d07880d3ed3b28a123df1aaf05c834\", getEnrolledCourses);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL3NlcnZpY2VzL2NvdXJzZS1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUc5Qjs7Ozs7Q0FLQyxHQUNNLGVBQWVDLGVBQ3BCQyxFQUFVLEVBQ1ZDLG1CQUE0QixLQUFLO0lBRWpDLElBQUk7UUFDRixJQUFJLENBQUNELEdBQUdFLEtBQUssQ0FBQyxzQkFBc0I7WUFDbEMsT0FBTztRQUNUO1FBRUEsT0FBTyxNQUFNSixzREFBYSxDQUFDTSxVQUFVLENBQUM7WUFDcENDLE9BQU87Z0JBQUVMO1lBQUc7WUFDWk0sU0FBU0wsbUJBQW1CO2dCQUMxQk0sU0FBUztvQkFBRUMsU0FBUzt3QkFBRUMsT0FBTztvQkFBTTtnQkFBRTtnQkFDckNDLFVBQVU7Z0JBQ1ZDLFNBQVM7b0JBQ1BMLFNBQVM7d0JBQ1BNLE1BQU07NEJBQ0pDLFFBQVE7Z0NBQ05iLElBQUk7Z0NBQ0pjLE1BQU07Z0NBQ05DLE9BQU87NEJBQ1Q7d0JBQ0Y7b0JBQ0Y7Z0JBQ0Y7WUFDRixJQUFJQztRQUNOO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7OztDQU1DLEdBQ00sZUFBZUUsV0FDcEJDLE9BQWUsQ0FBQyxFQUNoQkMsV0FBbUIsRUFBRSxFQUNyQkMsVUFBbUMsQ0FBQyxDQUFDO0lBTXJDLElBQUk7UUFDRixxQ0FBcUM7UUFDckNGLE9BQU9HLEtBQUtDLEdBQUcsQ0FBQyxHQUFHSjtRQUNuQkMsV0FBV0UsS0FBS0MsR0FBRyxDQUFDLEdBQUdELEtBQUtFLEdBQUcsQ0FBQyxLQUFLSjtRQUVyQyxrQkFBa0I7UUFDbEIsTUFBTUssUUFBUSxNQUFNNUIsc0RBQWEsQ0FBQzZCLEtBQUssQ0FBQztZQUN0Q3RCLE9BQU9pQjtRQUNUO1FBRUEsd0JBQXdCO1FBQ3hCLE1BQU1NLFFBQVFMLEtBQUtNLElBQUksQ0FBQ0gsUUFBUUw7UUFF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TztZQUNMYSxTQUFTLEVBQUU7WUFDWEosT0FBTztZQUNQRSxPQUFPO1FBQ1Q7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hvaWNlLWUtbGVhcm5pbmcvLi9zcmMvbGliL2RiL3NlcnZpY2VzL2NvdXJzZS1zZXJ2aWNlLnRzPzJlYzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvZGInO1xuaW1wb3J0IHsgQ291cnNlLCBQcmlzbWEgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbi8qKlxuICogRmluZCBhIGNvdXJzZSBieSBJRFxuICogQHBhcmFtIGlkIENvdXJzZSBJRFxuICogQHBhcmFtIGluY2x1ZGVSZWxhdGlvbnMgSW5jbHVkZSByZWxhdGVkIGRhdGEgbGlrZSBsZXNzb25zLCBzdHVkZW50cywgcmV2aWV3c1xuICogQHJldHVybnMgQ291cnNlIG9iamVjdCBvciBudWxsIGlmIG5vdCBmb3VuZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZENvdXJzZUJ5SWQoXG4gIGlkOiBzdHJpbmcsIFxuICBpbmNsdWRlUmVsYXRpb25zOiBib29sZWFuID0gZmFsc2Vcbik6IFByb21pc2U8Q291cnNlIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGlmICghaWQubWF0Y2goL15bMC05YS1mQS1GXXsyNH0kLykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLmNvdXJzZS5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBpbmNsdWRlOiBpbmNsdWRlUmVsYXRpb25zID8ge1xuICAgICAgICBsZXNzb25zOiB7IG9yZGVyQnk6IHsgb3JkZXI6ICdhc2MnIH0gfSxcbiAgICAgICAgc3R1ZGVudHM6IHRydWUsXG4gICAgICAgIHJldmlld3M6IHtcbiAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSA6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZpbmRpbmcgY291cnNlIGJ5IElEOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBhbGwgY291cnNlcyB3aXRoIHBhZ2luYXRpb24gYW5kIG9wdGlvbmFsIGZpbHRlcmluZ1xuICogQHBhcmFtIHBhZ2UgUGFnZSBudW1iZXIgKDEtYmFzZWQpXG4gKiBAcGFyYW0gcGFnZVNpemUgUGFnZSBzaXplXG4gKiBAcGFyYW0gZmlsdGVycyBPcHRpb25hbCBmaWx0ZXIgY3JpdGVyaWFcbiAqIEByZXR1cm5zIFBhZ2luYXRlZCBjb3Vyc2VzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb3Vyc2VzKFxuICBwYWdlOiBudW1iZXIgPSAxLFxuICBwYWdlU2l6ZTogbnVtYmVyID0gMTAsXG4gIGZpbHRlcnM6IFByaXNtYS5Db3Vyc2VXaGVyZUlucHV0ID0ge31cbik6IFByb21pc2U8e1xuICBjb3Vyc2VzOiBDb3Vyc2VbXTtcbiAgdG90YWw6IG51bWJlcjtcbiAgcGFnZXM6IG51bWJlcjtcbn0+IHtcbiAgdHJ5IHtcbiAgICAvLyBFbnN1cmUgcGFnZSBhbmQgcGFnZVNpemUgYXJlIHZhbGlkXG4gICAgcGFnZSA9IE1hdGgubWF4KDEsIHBhZ2UpO1xuICAgIHBhZ2VTaXplID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMTAwLCBwYWdlU2l6ZSkpO1xuICAgIFxuICAgIC8vIEdldCB0b3RhbCBjb3VudFxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgcHJpc21hLmNvdXJzZS5jb3VudCh7XG4gICAgICB3aGVyZTogZmlsdGVyc1xuICAgIH0pO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBwYWdlc1xuICAgIGNvbnN0IHBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsIC8gcGFnZVNpemUpO1xuICAgIFxuICAgIC8vIEdldCBjb3Vyc2VzIGZvciB0aGUgcmVxdWVzdGVkIHBhZ2VcbiAgICBjb25zdCBjb3Vyc2VzID0gYXdhaXQgcHJpc21hLmNvdXJzZS5maW5kTWFueSh7XG4gICAgICB3aGVyZTogZmlsdGVycyxcbiAgICAgIHNraXA6IChwYWdlIC0gMSkgKiBwYWdlU2l6ZSxcbiAgICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBsZXNzb25zOiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgIHRpdGxlOiB0cnVlLFxuICAgICAgICAgICAgb3JkZXI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgIG9yZGVyOiAnYXNjJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmV2aWV3czoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgcmF0aW5nOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfY291bnQ6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIHN0dWRlbnRzOiB0cnVlLFxuICAgICAgICAgICAgbGVzc29uczogdHJ1ZSxcbiAgICAgICAgICAgIHJldmlld3M6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgY291cnNlcyxcbiAgICAgIHRvdGFsLFxuICAgICAgcGFnZXNcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY291cnNlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvdXJzZXM6IFtdLFxuICAgICAgdG90YWw6IDAsXG4gICAgICBwYWdlczogMFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY291cnNlXG4gKiBAcGFyYW0gZGF0YSBDb3Vyc2UgZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBjb3Vyc2Ugb3IgbnVsbCBpZiBjcmVhdGlvbiBmYWlsZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvdXJzZShkYXRhOiBQcmlzbWEuQ291cnNlQ3JlYXRlSW5wdXQpOiBQcm9taXNlPENvdXJzZSB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLmNvdXJzZS5jcmVhdGUoe1xuICAgICAgZGF0YSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgbGVzc29uczogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGNvdXJzZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgY291cnNlIGRhdGFcbiAqIEBwYXJhbSBpZCBDb3Vyc2UgSURcbiAqIEBwYXJhbSBkYXRhIENvdXJzZSBkYXRhIHRvIHVwZGF0ZVxuICogQHJldHVybnMgVXBkYXRlZCBjb3Vyc2Ugb3IgbnVsbCBpZiB1cGRhdGUgZmFpbGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb3Vyc2UoXG4gIGlkOiBzdHJpbmcsXG4gIGRhdGE6IFByaXNtYS5Db3Vyc2VVcGRhdGVJbnB1dFxuKTogUHJvbWlzZTxDb3Vyc2UgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS5jb3Vyc2UudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBkYXRhLFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBsZXNzb25zOiB7XG4gICAgICAgICAgb3JkZXJCeToge1xuICAgICAgICAgICAgb3JkZXI6ICdhc2MnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgY291cnNlOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIGNvdXJzZVxuICogQHBhcmFtIGlkIENvdXJzZSBJRFxuICogQHJldHVybnMgRGVsZXRlZCBjb3Vyc2Ugb3IgbnVsbCBpZiBkZWxldGlvbiBmYWlsZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvdXJzZShpZDogc3RyaW5nKTogUHJvbWlzZTxDb3Vyc2UgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS5jb3Vyc2UuZGVsZXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGxlc3NvbnM6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjb3Vyc2U6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRW5yb2xsIGEgc3R1ZGVudCBpbiBhIGNvdXJzZVxuICogQHBhcmFtIGNvdXJzZUlkIENvdXJzZSBJRFxuICogQHBhcmFtIHVzZXJJZCBVc2VyIElEXG4gKiBAcmV0dXJucyBVcGRhdGVkIGNvdXJzZSBvciBudWxsIGlmIGVucm9sbG1lbnQgZmFpbGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnJvbGxTdHVkZW50KFxuICBjb3Vyc2VJZDogc3RyaW5nLFxuICB1c2VySWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxDb3Vyc2UgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS5jb3Vyc2UudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBjb3Vyc2VJZCB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBzdHVkZW50czoge1xuICAgICAgICAgIGNvbm5lY3Q6IHsgaWQ6IHVzZXJJZCB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbnJvbGxpbmcgc3R1ZGVudDonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBVbmVucm9sbCBhIHN0dWRlbnQgZnJvbSBhIGNvdXJzZVxuICogQHBhcmFtIGNvdXJzZUlkIENvdXJzZSBJRFxuICogQHBhcmFtIHVzZXJJZCBVc2VyIElEXG4gKiBAcmV0dXJucyBVcGRhdGVkIGNvdXJzZSBvciBudWxsIGlmIHVuZW5yb2xsbWVudCBmYWlsZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVuZW5yb2xsU3R1ZGVudChcbiAgY291cnNlSWQ6IHN0cmluZyxcbiAgdXNlcklkOiBzdHJpbmdcbik6IFByb21pc2U8Q291cnNlIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBwcmlzbWEuY291cnNlLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogY291cnNlSWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3R1ZGVudHM6IHtcbiAgICAgICAgICBkaXNjb25uZWN0OiB7IGlkOiB1c2VySWQgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdW5lbnJvbGxpbmcgc3R1ZGVudDonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgY291cnNlcyBhIHVzZXIgaXMgZW5yb2xsZWQgaW5cbiAqIEBwYXJhbSB1c2VySWQgVXNlciBJRFxuICogQHBhcmFtIHBhZ2UgUGFnZSBudW1iZXIgKDEtYmFzZWQpXG4gKiBAcGFyYW0gcGFnZVNpemUgUGFnZSBzaXplXG4gKiBAcmV0dXJucyBQYWdpbmF0ZWQgY291cnNlcyB0aGUgdXNlciBpcyBlbnJvbGxlZCBpblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW5yb2xsZWRDb3Vyc2VzKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgcGFnZTogbnVtYmVyID0gMSxcbiAgcGFnZVNpemU6IG51bWJlciA9IDEwXG4pOiBQcm9taXNlPHtcbiAgY291cnNlczogQ291cnNlW107XG4gIHRvdGFsOiBudW1iZXI7XG4gIHBhZ2VzOiBudW1iZXI7XG59PiB7XG4gIHRyeSB7XG4gICAgLy8gRW5zdXJlIHBhZ2UgYW5kIHBhZ2VTaXplIGFyZSB2YWxpZFxuICAgIHBhZ2UgPSBNYXRoLm1heCgxLCBwYWdlKTtcbiAgICBwYWdlU2l6ZSA9IE1hdGgubWF4KDEsIE1hdGgubWluKDEwMCwgcGFnZVNpemUpKTtcbiAgICBcbiAgICAvLyBHZXQgdG90YWwgY291bnRcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IHByaXNtYS5jb3Vyc2UuY291bnQoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgc3R1ZGVudHM6IHtcbiAgICAgICAgICBzb21lOiB7XG4gICAgICAgICAgICBpZDogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHRvdGFsIHBhZ2VzXG4gICAgY29uc3QgcGFnZXMgPSBNYXRoLmNlaWwodG90YWwgLyBwYWdlU2l6ZSk7XG4gICAgXG4gICAgLy8gR2V0IGNvdXJzZXMgZm9yIHRoZSByZXF1ZXN0ZWQgcGFnZVxuICAgIGNvbnN0IGNvdXJzZXMgPSBhd2FpdCBwcmlzbWEuY291cnNlLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHN0dWRlbnRzOiB7XG4gICAgICAgICAgc29tZToge1xuICAgICAgICAgICAgaWQ6IHVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNraXA6IChwYWdlIC0gMSkgKiBwYWdlU2l6ZSxcbiAgICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBsZXNzb25zOiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgIHRpdGxlOiB0cnVlLFxuICAgICAgICAgICAgb3JkZXI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgIG9yZGVyOiAnYXNjJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmV2aWV3czoge1xuICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICB1c2VySWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICByYXRpbmc6IHRydWUsXG4gICAgICAgICAgICBjb21tZW50OiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvdXJzZXMsXG4gICAgICB0b3RhbCxcbiAgICAgIHBhZ2VzXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGVucm9sbGVkIGNvdXJzZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBjb3Vyc2VzOiBbXSxcbiAgICAgIHRvdGFsOiAwLFxuICAgICAgcGFnZXM6IDBcbiAgICB9O1xuICB9XG59XG4iXSwibmFtZXMiOlsicHJpc21hIiwiZmluZENvdXJzZUJ5SWQiLCJpZCIsImluY2x1ZGVSZWxhdGlvbnMiLCJtYXRjaCIsImNvdXJzZSIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImluY2x1ZGUiLCJsZXNzb25zIiwib3JkZXJCeSIsIm9yZGVyIiwic3R1ZGVudHMiLCJyZXZpZXdzIiwidXNlciIsInNlbGVjdCIsIm5hbWUiLCJlbWFpbCIsInVuZGVmaW5lZCIsImVycm9yIiwiY29uc29sZSIsImdldENvdXJzZXMiLCJwYWdlIiwicGFnZVNpemUiLCJmaWx0ZXJzIiwiTWF0aCIsIm1heCIsIm1pbiIsInRvdGFsIiwiY291bnQiLCJwYWdlcyIsImNlaWwiLCJjb3Vyc2VzIiwiZmluZE1hbnkiLCJza2lwIiwidGFrZSIsImNyZWF0ZWRBdCIsInRpdGxlIiwicmF0aW5nIiwiX2NvdW50IiwiY3JlYXRlQ291cnNlIiwiZGF0YSIsImNyZWF0ZSIsInVwZGF0ZUNvdXJzZSIsInVwZGF0ZSIsImRlbGV0ZUNvdXJzZSIsImRlbGV0ZSIsImVucm9sbFN0dWRlbnQiLCJjb3Vyc2VJZCIsInVzZXJJZCIsImNvbm5lY3QiLCJ1bmVucm9sbFN0dWRlbnQiLCJkaXNjb25uZWN0IiwiZ2V0RW5yb2xsZWRDb3Vyc2VzIiwic29tZSIsImNvbW1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/services/course-service.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/services/db-service.ts":
/*!*******************************************!*\
  !*** ./src/lib/db/services/db-service.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countRecords: () => (/* binding */ countRecords),\n/* harmony export */   createRecord: () => (/* binding */ createRecord),\n/* harmony export */   deleteRecord: () => (/* binding */ deleteRecord),\n/* harmony export */   executeTransaction: () => (/* binding */ executeTransaction),\n/* harmony export */   findById: () => (/* binding */ findById),\n/* harmony export */   findMany: () => (/* binding */ findMany),\n/* harmony export */   findOne: () => (/* binding */ findOne),\n/* harmony export */   updateRecord: () => (/* binding */ updateRecord)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/action-encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"13842d7780def5fd0a955c31a26e8e88e5be7fa0\":\"findMany\",\"1f4eab26907992a919fd0922e9cb5343e263aba4\":\"findOne\",\"53f54708a9f1340d28892ca49fa83cc1952b73f7\":\"executeTransaction\",\"679948099b136910b13260790db7f04fb1f58067\":\"deleteRecord\",\"78322f6c063687ec2005e0d47591c8293655c4cd\":\"findById\",\"ad9eb87420b24992938ac51dc9efc65ac01bf424\":\"countRecords\",\"e4bcb396ff6a6c3dbe8c44b45e58329daec99301\":\"updateRecord\",\"f0f7abe6842c4b9a6cb3cb216f8606c16b745c71\":\"createRecord\"} */ \n\n\n/**\n * Generic method to find a record by ID\n * @param model The Prisma model name\n * @param id The record ID\n * @returns The record or null if not found\n */ async function findById(model, id) {\n    try {\n        // Validate ID format for MongoDB\n        if (!id.match(/^[0-9a-fA-F]{24}$/)) {\n            console.error(`Invalid ID format: ${id}`);\n            return null;\n        }\n        const record = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"][model].findUnique({\n            where: {\n                id\n            }\n        });\n        return record;\n    } catch (error) {\n        console.error(`Error finding ${String(model)} by ID:`, error);\n        return null;\n    }\n}\n/**\n * Generic method to find records by a filter\n * @param model The Prisma model name\n * @param where The filter criteria\n * @param options Additional options like include, orderBy, etc.\n * @returns Array of matching records\n */ async function findMany(model, where = {}, options = {}) {\n    try {\n        const records = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"][model].findMany({\n            where,\n            ...options\n        });\n        return records;\n    } catch (error) {\n        console.error(`Error finding ${String(model)} records:`, error);\n        return [];\n    }\n}\n/**\n * Generic method to find a single record by filter\n * @param model The Prisma model name\n * @param where The filter criteria\n * @param options Additional options like include\n * @returns The record or null if not found\n */ async function findOne(model, where, options = {}) {\n    try {\n        const record = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"][model].findFirst({\n            where,\n            ...options\n        });\n        return record;\n    } catch (error) {\n        console.error(`Error finding ${String(model)} record:`, error);\n        return null;\n    }\n}\n/**\n * Generic method to create a record\n * @param model The Prisma model name\n * @param data The record data\n * @returns The created record or null if creation failed\n */ async function createRecord(model, data) {\n    try {\n        const record = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"][model].create({\n            data\n        });\n        return record;\n    } catch (error) {\n        console.error(`Error creating ${String(model)}:`, error);\n        return null;\n    }\n}\n/**\n * Generic method to update a record\n * @param model The Prisma model name\n * @param id The record ID\n * @param data The update data\n * @returns The updated record or null if update failed\n */ async function updateRecord(model, id, data) {\n    try {\n        // Validate ID format for MongoDB\n        if (!id.match(/^[0-9a-fA-F]{24}$/)) {\n            console.error(`Invalid ID format: ${id}`);\n            return null;\n        }\n        const record = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"][model].update({\n            where: {\n                id\n            },\n            data\n        });\n        return record;\n    } catch (error) {\n        console.error(`Error updating ${String(model)}:`, error);\n        return null;\n    }\n}\n/**\n * Generic method to delete a record\n * @param model The Prisma model name\n * @param id The record ID\n * @returns The deleted record or null if deletion failed\n */ async function deleteRecord(model, id) {\n    try {\n        // Validate ID format for MongoDB\n        if (!id.match(/^[0-9a-fA-F]{24}$/)) {\n            console.error(`Invalid ID format: ${id}`);\n            return null;\n        }\n        const record = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"][model].delete({\n            where: {\n                id\n            }\n        });\n        return record;\n    } catch (error) {\n        console.error(`Error deleting ${String(model)}:`, error);\n        return null;\n    }\n}\n/**\n * Generic method to count records\n * @param model The Prisma model name\n * @param where The filter criteria\n * @returns The count of matching records\n */ async function countRecords(model, where = {}) {\n    try {\n        const count = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"][model].count({\n            where\n        });\n        return count;\n    } catch (error) {\n        console.error(`Error counting ${String(model)} records:`, error);\n        return 0;\n    }\n}\n/**\n * Execute a transaction with multiple operations\n * @param fn Function containing the transaction operations\n * @returns Result of the transaction\n */ async function executeTransaction(fn) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].$transaction(fn);\n    } catch (error) {\n        console.error(\"Transaction error:\", error);\n        return null;\n    }\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__.ensureServerEntryExports)([\n    findById,\n    findMany,\n    findOne,\n    createRecord,\n    updateRecord,\n    deleteRecord,\n    countRecords,\n    executeTransaction\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"78322f6c063687ec2005e0d47591c8293655c4cd\", findById);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"13842d7780def5fd0a955c31a26e8e88e5be7fa0\", findMany);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"1f4eab26907992a919fd0922e9cb5343e263aba4\", findOne);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"f0f7abe6842c4b9a6cb3cb216f8606c16b745c71\", createRecord);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"e4bcb396ff6a6c3dbe8c44b45e58329daec99301\", updateRecord);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"679948099b136910b13260790db7f04fb1f58067\", deleteRecord);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"ad9eb87420b24992938ac51dc9efc65ac01bf424\", countRecords);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"53f54708a9f1340d28892ca49fa83cc1952b73f7\", executeTransaction);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL3NlcnZpY2VzL2RiLXNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBRzlCOzs7OztDQUtDLEdBQ00sZUFBZUMsU0FDcEJDLEtBQVEsRUFDUkMsRUFBVTtJQUVWLElBQUk7UUFDRixpQ0FBaUM7UUFDakMsSUFBSSxDQUFDQSxHQUFHQyxLQUFLLENBQUMsc0JBQXNCO1lBQ2xDQyxRQUFRQyxLQUFLLENBQUMsQ0FBQyxtQkFBbUIsRUFBRUgsR0FBRyxDQUFDO1lBQ3hDLE9BQU87UUFDVDtRQUVBLE1BQU1JLFNBQVMsTUFBTSwrQ0FBTyxDQUFDTCxNQUFNLENBQVNNLFVBQVUsQ0FBQztZQUNyREMsT0FBTztnQkFBRU47WUFBRztRQUNkO1FBRUEsT0FBT0k7SUFDVCxFQUFFLE9BQU9ELE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLENBQUMsY0FBYyxFQUFFSSxPQUFPUixPQUFPLE9BQU8sQ0FBQyxFQUFFSTtRQUN2RCxPQUFPO0lBQ1Q7QUFDRjtBQUVBOzs7Ozs7Q0FNQyxHQUNNLGVBQWVLLFNBQ3BCVCxLQUFRLEVBQ1JPLFFBQWEsQ0FBQyxDQUFDLEVBQ2ZHLFVBQWUsQ0FBQyxDQUFDO0lBRWpCLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU0sK0NBQU8sQ0FBQ1gsTUFBTSxDQUFTUyxRQUFRLENBQUM7WUFDcERGO1lBQ0EsR0FBR0csT0FBTztRQUNaO1FBRUEsT0FBT0M7SUFDVCxFQUFFLE9BQU9QLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLENBQUMsY0FBYyxFQUFFSSxPQUFPUixPQUFPLFNBQVMsQ0FBQyxFQUFFSTtRQUN6RCxPQUFPLEVBQUU7SUFDWDtBQUNGO0FBRUE7Ozs7OztDQU1DLEdBQ00sZUFBZVEsUUFDcEJaLEtBQVEsRUFDUk8sS0FBVSxFQUNWRyxVQUFlLENBQUMsQ0FBQztJQUVqQixJQUFJO1FBQ0YsTUFBTUwsU0FBUyxNQUFNLCtDQUFPLENBQUNMLE1BQU0sQ0FBU2EsU0FBUyxDQUFDO1lBQ3BETjtZQUNBLEdBQUdHLE9BQU87UUFDWjtRQUVBLE9BQU9MO0lBQ1QsRUFBRSxPQUFPRCxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyxDQUFDLGNBQWMsRUFBRUksT0FBT1IsT0FBTyxRQUFRLENBQUMsRUFBRUk7UUFDeEQsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLGVBQWVVLGFBQ3BCZCxLQUFRLEVBQ1JlLElBQVM7SUFFVCxJQUFJO1FBQ0YsTUFBTVYsU0FBUyxNQUFNLCtDQUFPLENBQUNMLE1BQU0sQ0FBU2dCLE1BQU0sQ0FBQztZQUNqREQ7UUFDRjtRQUVBLE9BQU9WO0lBQ1QsRUFBRSxPQUFPRCxPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyxDQUFDLGVBQWUsRUFBRUksT0FBT1IsT0FBTyxDQUFDLENBQUMsRUFBRUk7UUFDbEQsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7Ozs7O0NBTUMsR0FDTSxlQUFlYSxhQUNwQmpCLEtBQVEsRUFDUkMsRUFBVSxFQUNWYyxJQUFTO0lBRVQsSUFBSTtRQUNGLGlDQUFpQztRQUNqQyxJQUFJLENBQUNkLEdBQUdDLEtBQUssQ0FBQyxzQkFBc0I7WUFDbENDLFFBQVFDLEtBQUssQ0FBQyxDQUFDLG1CQUFtQixFQUFFSCxHQUFHLENBQUM7WUFDeEMsT0FBTztRQUNUO1FBRUEsTUFBTUksU0FBUyxNQUFNLCtDQUFPLENBQUNMLE1BQU0sQ0FBU2tCLE1BQU0sQ0FBQztZQUNqRFgsT0FBTztnQkFBRU47WUFBRztZQUNaYztRQUNGO1FBRUEsT0FBT1Y7SUFDVCxFQUFFLE9BQU9ELE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLENBQUMsZUFBZSxFQUFFSSxPQUFPUixPQUFPLENBQUMsQ0FBQyxFQUFFSTtRQUNsRCxPQUFPO0lBQ1Q7QUFDRjtBQUVBOzs7OztDQUtDLEdBQ00sZUFBZWUsYUFDcEJuQixLQUFRLEVBQ1JDLEVBQVU7SUFFVixJQUFJO1FBQ0YsaUNBQWlDO1FBQ2pDLElBQUksQ0FBQ0EsR0FBR0MsS0FBSyxDQUFDLHNCQUFzQjtZQUNsQ0MsUUFBUUMsS0FBSyxDQUFDLENBQUMsbUJBQW1CLEVBQUVILEdBQUcsQ0FBQztZQUN4QyxPQUFPO1FBQ1Q7UUFFQSxNQUFNSSxTQUFTLE1BQU0sK0NBQU8sQ0FBQ0wsTUFBTSxDQUFTb0IsTUFBTSxDQUFDO1lBQ2pEYixPQUFPO2dCQUFFTjtZQUFHO1FBQ2Q7UUFFQSxPQUFPSTtJQUNULEVBQUUsT0FBT0QsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsQ0FBQyxlQUFlLEVBQUVJLE9BQU9SLE9BQU8sQ0FBQyxDQUFDLEVBQUVJO1FBQ2xELE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDTSxlQUFlaUIsYUFDcEJyQixLQUFRLEVBQ1JPLFFBQWEsQ0FBQyxDQUFDO0lBRWYsSUFBSTtRQUNGLE1BQU1lLFFBQVEsTUFBTSwrQ0FBTyxDQUFDdEIsTUFBTSxDQUFTc0IsS0FBSyxDQUFDO1lBQy9DZjtRQUNGO1FBRUEsT0FBT2U7SUFDVCxFQUFFLE9BQU9sQixPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyxDQUFDLGVBQWUsRUFBRUksT0FBT1IsT0FBTyxTQUFTLENBQUMsRUFBRUk7UUFDMUQsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ00sZUFBZW1CLG1CQUNwQkMsRUFBb0Q7SUFFcEQsSUFBSTtRQUNGLE9BQU8sTUFBTTFCLDREQUFtQixDQUFDMEI7SUFDbkMsRUFBRSxPQUFPcEIsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsc0JBQXNCQTtRQUNwQyxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nob2ljZS1lLWxlYXJuaW5nLy4vc3JjL2xpYi9kYi9zZXJ2aWNlcy9kYi1zZXJ2aWNlLnRzPzRiYWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvZGInO1xuaW1wb3J0IHsgUHJpc21hIH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG4vKipcbiAqIEdlbmVyaWMgbWV0aG9kIHRvIGZpbmQgYSByZWNvcmQgYnkgSURcbiAqIEBwYXJhbSBtb2RlbCBUaGUgUHJpc21hIG1vZGVsIG5hbWVcbiAqIEBwYXJhbSBpZCBUaGUgcmVjb3JkIElEXG4gKiBAcmV0dXJucyBUaGUgcmVjb3JkIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kQnlJZDxUIGV4dGVuZHMga2V5b2YgdHlwZW9mIHByaXNtYT4oXG4gIG1vZGVsOiBULCBcbiAgaWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gVmFsaWRhdGUgSUQgZm9ybWF0IGZvciBNb25nb0RCXG4gICAgaWYgKCFpZC5tYXRjaCgvXlswLTlhLWZBLUZdezI0fSQvKSkge1xuICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBJRCBmb3JtYXQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVjb3JkID0gYXdhaXQgKHByaXNtYVttb2RlbF0gYXMgYW55KS5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gcmVjb3JkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZpbmRpbmcgJHtTdHJpbmcobW9kZWwpfSBieSBJRDpgLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIG1ldGhvZCB0byBmaW5kIHJlY29yZHMgYnkgYSBmaWx0ZXJcbiAqIEBwYXJhbSBtb2RlbCBUaGUgUHJpc21hIG1vZGVsIG5hbWVcbiAqIEBwYXJhbSB3aGVyZSBUaGUgZmlsdGVyIGNyaXRlcmlhXG4gKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgbGlrZSBpbmNsdWRlLCBvcmRlckJ5LCBldGMuXG4gKiBAcmV0dXJucyBBcnJheSBvZiBtYXRjaGluZyByZWNvcmRzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kTWFueTxUIGV4dGVuZHMga2V5b2YgdHlwZW9mIHByaXNtYT4oXG4gIG1vZGVsOiBULFxuICB3aGVyZTogYW55ID0ge30sXG4gIG9wdGlvbnM6IGFueSA9IHt9XG4pOiBQcm9taXNlPGFueVtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IChwcmlzbWFbbW9kZWxdIGFzIGFueSkuZmluZE1hbnkoe1xuICAgICAgd2hlcmUsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHJlY29yZHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmluZGluZyAke1N0cmluZyhtb2RlbCl9IHJlY29yZHM6YCwgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyaWMgbWV0aG9kIHRvIGZpbmQgYSBzaW5nbGUgcmVjb3JkIGJ5IGZpbHRlclxuICogQHBhcmFtIG1vZGVsIFRoZSBQcmlzbWEgbW9kZWwgbmFtZVxuICogQHBhcmFtIHdoZXJlIFRoZSBmaWx0ZXIgY3JpdGVyaWFcbiAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucyBsaWtlIGluY2x1ZGVcbiAqIEByZXR1cm5zIFRoZSByZWNvcmQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRPbmU8VCBleHRlbmRzIGtleW9mIHR5cGVvZiBwcmlzbWE+KFxuICBtb2RlbDogVCxcbiAgd2hlcmU6IGFueSxcbiAgb3B0aW9uczogYW55ID0ge31cbik6IFByb21pc2U8YW55IHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IChwcmlzbWFbbW9kZWxdIGFzIGFueSkuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiByZWNvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmluZGluZyAke1N0cmluZyhtb2RlbCl9IHJlY29yZDpgLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIG1ldGhvZCB0byBjcmVhdGUgYSByZWNvcmRcbiAqIEBwYXJhbSBtb2RlbCBUaGUgUHJpc21hIG1vZGVsIG5hbWVcbiAqIEBwYXJhbSBkYXRhIFRoZSByZWNvcmQgZGF0YVxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQgcmVjb3JkIG9yIG51bGwgaWYgY3JlYXRpb24gZmFpbGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSZWNvcmQ8VCBleHRlbmRzIGtleW9mIHR5cGVvZiBwcmlzbWE+KFxuICBtb2RlbDogVCxcbiAgZGF0YTogYW55XG4pOiBQcm9taXNlPGFueSB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZWNvcmQgPSBhd2FpdCAocHJpc21hW21vZGVsXSBhcyBhbnkpLmNyZWF0ZSh7XG4gICAgICBkYXRhXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHJlY29yZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjcmVhdGluZyAke1N0cmluZyhtb2RlbCl9OmAsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyaWMgbWV0aG9kIHRvIHVwZGF0ZSBhIHJlY29yZFxuICogQHBhcmFtIG1vZGVsIFRoZSBQcmlzbWEgbW9kZWwgbmFtZVxuICogQHBhcmFtIGlkIFRoZSByZWNvcmQgSURcbiAqIEBwYXJhbSBkYXRhIFRoZSB1cGRhdGUgZGF0YVxuICogQHJldHVybnMgVGhlIHVwZGF0ZWQgcmVjb3JkIG9yIG51bGwgaWYgdXBkYXRlIGZhaWxlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUmVjb3JkPFQgZXh0ZW5kcyBrZXlvZiB0eXBlb2YgcHJpc21hPihcbiAgbW9kZWw6IFQsXG4gIGlkOiBzdHJpbmcsXG4gIGRhdGE6IGFueVxuKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gVmFsaWRhdGUgSUQgZm9ybWF0IGZvciBNb25nb0RCXG4gICAgaWYgKCFpZC5tYXRjaCgvXlswLTlhLWZBLUZdezI0fSQvKSkge1xuICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBJRCBmb3JtYXQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVjb3JkID0gYXdhaXQgKHByaXNtYVttb2RlbF0gYXMgYW55KS51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gcmVjb3JkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHVwZGF0aW5nICR7U3RyaW5nKG1vZGVsKX06YCwgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJpYyBtZXRob2QgdG8gZGVsZXRlIGEgcmVjb3JkXG4gKiBAcGFyYW0gbW9kZWwgVGhlIFByaXNtYSBtb2RlbCBuYW1lXG4gKiBAcGFyYW0gaWQgVGhlIHJlY29yZCBJRFxuICogQHJldHVybnMgVGhlIGRlbGV0ZWQgcmVjb3JkIG9yIG51bGwgaWYgZGVsZXRpb24gZmFpbGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVSZWNvcmQ8VCBleHRlbmRzIGtleW9mIHR5cGVvZiBwcmlzbWE+KFxuICBtb2RlbDogVCxcbiAgaWQ6IHN0cmluZ1xuKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gVmFsaWRhdGUgSUQgZm9ybWF0IGZvciBNb25nb0RCXG4gICAgaWYgKCFpZC5tYXRjaCgvXlswLTlhLWZBLUZdezI0fSQvKSkge1xuICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBJRCBmb3JtYXQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVjb3JkID0gYXdhaXQgKHByaXNtYVttb2RlbF0gYXMgYW55KS5kZWxldGUoe1xuICAgICAgd2hlcmU6IHsgaWQgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiByZWNvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZGVsZXRpbmcgJHtTdHJpbmcobW9kZWwpfTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIG1ldGhvZCB0byBjb3VudCByZWNvcmRzXG4gKiBAcGFyYW0gbW9kZWwgVGhlIFByaXNtYSBtb2RlbCBuYW1lXG4gKiBAcGFyYW0gd2hlcmUgVGhlIGZpbHRlciBjcml0ZXJpYVxuICogQHJldHVybnMgVGhlIGNvdW50IG9mIG1hdGNoaW5nIHJlY29yZHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvdW50UmVjb3JkczxUIGV4dGVuZHMga2V5b2YgdHlwZW9mIHByaXNtYT4oXG4gIG1vZGVsOiBULFxuICB3aGVyZTogYW55ID0ge31cbik6IFByb21pc2U8bnVtYmVyPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY291bnQgPSBhd2FpdCAocHJpc21hW21vZGVsXSBhcyBhbnkpLmNvdW50KHtcbiAgICAgIHdoZXJlXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGNvdW50O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNvdW50aW5nICR7U3RyaW5nKG1vZGVsKX0gcmVjb3JkczpgLCBlcnJvcik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuLyoqXG4gKiBFeGVjdXRlIGEgdHJhbnNhY3Rpb24gd2l0aCBtdWx0aXBsZSBvcGVyYXRpb25zXG4gKiBAcGFyYW0gZm4gRnVuY3Rpb24gY29udGFpbmluZyB0aGUgdHJhbnNhY3Rpb24gb3BlcmF0aW9uc1xuICogQHJldHVybnMgUmVzdWx0IG9mIHRoZSB0cmFuc2FjdGlvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVRyYW5zYWN0aW9uPFQ+KFxuICBmbjogKHByaXNtYTogUHJpc21hLlRyYW5zYWN0aW9uQ2xpZW50KSA9PiBQcm9taXNlPFQ+XG4pOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oZm4pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1RyYW5zYWN0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInByaXNtYSIsImZpbmRCeUlkIiwibW9kZWwiLCJpZCIsIm1hdGNoIiwiY29uc29sZSIsImVycm9yIiwicmVjb3JkIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiU3RyaW5nIiwiZmluZE1hbnkiLCJvcHRpb25zIiwicmVjb3JkcyIsImZpbmRPbmUiLCJmaW5kRmlyc3QiLCJjcmVhdGVSZWNvcmQiLCJkYXRhIiwiY3JlYXRlIiwidXBkYXRlUmVjb3JkIiwidXBkYXRlIiwiZGVsZXRlUmVjb3JkIiwiZGVsZXRlIiwiY291bnRSZWNvcmRzIiwiY291bnQiLCJleGVjdXRlVHJhbnNhY3Rpb24iLCJmbiIsIiR0cmFuc2FjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/services/db-service.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/services/index.ts":
/*!**************************************!*\
  !*** ./src/lib/db/services/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countRecords: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.countRecords),\n/* harmony export */   createCourse: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.createCourse),\n/* harmony export */   createLesson: () => (/* reexport safe */ _lesson_service__WEBPACK_IMPORTED_MODULE_3__.createLesson),\n/* harmony export */   createRecord: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.createRecord),\n/* harmony export */   createUser: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.createUser),\n/* harmony export */   deleteCourse: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.deleteCourse),\n/* harmony export */   deleteLesson: () => (/* reexport safe */ _lesson_service__WEBPACK_IMPORTED_MODULE_3__.deleteLesson),\n/* harmony export */   deleteRecord: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.deleteRecord),\n/* harmony export */   deleteUser: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.deleteUser),\n/* harmony export */   enrollStudent: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.enrollStudent),\n/* harmony export */   executeTransaction: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.executeTransaction),\n/* harmony export */   findById: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.findById),\n/* harmony export */   findCourseById: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.findCourseById),\n/* harmony export */   findLessonById: () => (/* reexport safe */ _lesson_service__WEBPACK_IMPORTED_MODULE_3__.findLessonById),\n/* harmony export */   findMany: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.findMany),\n/* harmony export */   findOne: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.findOne),\n/* harmony export */   findUserByEmail: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.findUserByEmail),\n/* harmony export */   findUserById: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.findUserById),\n/* harmony export */   getCourses: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.getCourses),\n/* harmony export */   getEnrolledCourses: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.getEnrolledCourses),\n/* harmony export */   getLessonsForCourse: () => (/* reexport safe */ _lesson_service__WEBPACK_IMPORTED_MODULE_3__.getLessonsForCourse),\n/* harmony export */   getUsers: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.getUsers),\n/* harmony export */   reorderLessons: () => (/* reexport safe */ _lesson_service__WEBPACK_IMPORTED_MODULE_3__.reorderLessons),\n/* harmony export */   unenrollStudent: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.unenrollStudent),\n/* harmony export */   updateCourse: () => (/* reexport safe */ _course_service__WEBPACK_IMPORTED_MODULE_2__.updateCourse),\n/* harmony export */   updateLesson: () => (/* reexport safe */ _lesson_service__WEBPACK_IMPORTED_MODULE_3__.updateLesson),\n/* harmony export */   updateRecord: () => (/* reexport safe */ _db_service__WEBPACK_IMPORTED_MODULE_0__.updateRecord),\n/* harmony export */   updateUser: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.updateUser),\n/* harmony export */   updateUserLoginInfo: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.updateUserLoginInfo),\n/* harmony export */   updateUserRole: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.updateUserRole),\n/* harmony export */   verifyUserCredentials: () => (/* reexport safe */ _user_service__WEBPACK_IMPORTED_MODULE_1__.verifyUserCredentials)\n/* harmony export */ });\n/* harmony import */ var _db_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db-service */ \"(rsc)/./src/lib/db/services/db-service.ts\");\n/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user-service */ \"(rsc)/./src/lib/db/services/user-service.ts\");\n/* harmony import */ var _course_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./course-service */ \"(rsc)/./src/lib/db/services/course-service.ts\");\n/* harmony import */ var _lesson_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lesson-service */ \"(rsc)/./src/lib/db/services/lesson-service.ts\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _prisma_client__WEBPACK_IMPORTED_MODULE_4__) if([\"default\",\"countRecords\",\"createRecord\",\"deleteRecord\",\"executeTransaction\",\"findById\",\"findMany\",\"findOne\",\"updateRecord\",\"createUser\",\"deleteUser\",\"findUserByEmail\",\"findUserById\",\"getUsers\",\"updateUser\",\"updateUserLoginInfo\",\"updateUserRole\",\"verifyUserCredentials\",\"createCourse\",\"deleteCourse\",\"enrollStudent\",\"findCourseById\",\"getCourses\",\"getEnrolledCourses\",\"unenrollStudent\",\"updateCourse\",\"createLesson\",\"deleteLesson\",\"findLessonById\",\"getLessonsForCourse\",\"reorderLessons\",\"updateLesson\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _prisma_client__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n// Export all database services for easy importing\n\n\n\n\n// Export the types from Prisma for convenience\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL3NlcnZpY2VzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxrREFBa0Q7QUFDckI7QUFDRTtBQUNFO0FBQ0E7QUFFakMsK0NBQStDO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hvaWNlLWUtbGVhcm5pbmcvLi9zcmMvbGliL2RiL3NlcnZpY2VzL2luZGV4LnRzPzNkZWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0IGFsbCBkYXRhYmFzZSBzZXJ2aWNlcyBmb3IgZWFzeSBpbXBvcnRpbmdcbmV4cG9ydCAqIGZyb20gJy4vZGItc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL3VzZXItc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2NvdXJzZS1zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGVzc29uLXNlcnZpY2UnO1xuXG4vLyBFeHBvcnQgdGhlIHR5cGVzIGZyb20gUHJpc21hIGZvciBjb252ZW5pZW5jZVxuZXhwb3J0ICogZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/services/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/services/lesson-service.ts":
/*!***********************************************!*\
  !*** ./src/lib/db/services/lesson-service.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLesson: () => (/* binding */ createLesson),\n/* harmony export */   deleteLesson: () => (/* binding */ deleteLesson),\n/* harmony export */   findLessonById: () => (/* binding */ findLessonById),\n/* harmony export */   getLessonsForCourse: () => (/* binding */ getLessonsForCourse),\n/* harmony export */   reorderLessons: () => (/* binding */ reorderLessons),\n/* harmony export */   updateLesson: () => (/* binding */ updateLesson)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/action-encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"1496de900cb7d67993cc7de9afdd5840644ed6a8\":\"findLessonById\",\"7f68ecff25cb5b15592eb33d832fd78ea1bd57d0\":\"reorderLessons\",\"9a7955aaf41dc7e4bc47efd8c78804bed2df2ade\":\"getLessonsForCourse\",\"d8e006a211ca26f5ec769206772f7c4348a73960\":\"createLesson\",\"e182c8a4479eb23905c0c58a77ab7bcd567fce9b\":\"updateLesson\",\"ea42f38b71b48164afed3430306824f4f8780d09\":\"deleteLesson\"} */ \n\n\n/**\n * Find a lesson by ID\n * @param id Lesson ID\n * @param includeCourse Include related course data\n * @returns Lesson object or null if not found\n */ async function findLessonById(id, includeCourse = false) {\n    try {\n        if (!id.match(/^[0-9a-fA-F]{24}$/)) {\n            return null;\n        }\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.findUnique({\n            where: {\n                id\n            },\n            include: includeCourse ? {\n                course: true\n            } : undefined\n        });\n    } catch (error) {\n        console.error(\"Error finding lesson by ID:\", error);\n        return null;\n    }\n}\n/**\n * Get lessons for a course\n * @param courseId Course ID\n * @returns Array of lessons\n */ async function getLessonsForCourse(courseId) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.findMany({\n            where: {\n                courseId\n            },\n            orderBy: {\n                order: \"asc\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting lessons for course:\", error);\n        return [];\n    }\n}\n/**\n * Create a new lesson\n * @param data Lesson data\n * @returns Created lesson or null if creation failed\n */ async function createLesson(data) {\n    try {\n        // If order is not provided, get the highest order and add 1\n        if (!data.order) {\n            const highestOrderLesson = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.findFirst({\n                where: {\n                    courseId: data.course.connect?.id\n                },\n                orderBy: {\n                    order: \"desc\"\n                }\n            });\n            data.order = highestOrderLesson ? highestOrderLesson.order + 1 : 1;\n        }\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.create({\n            data\n        });\n    } catch (error) {\n        console.error(\"Error creating lesson:\", error);\n        return null;\n    }\n}\n/**\n * Update lesson data\n * @param id Lesson ID\n * @param data Lesson data to update\n * @returns Updated lesson or null if update failed\n */ async function updateLesson(id, data) {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.update({\n            where: {\n                id\n            },\n            data\n        });\n    } catch (error) {\n        console.error(\"Error updating lesson:\", error);\n        return null;\n    }\n}\n/**\n * Delete a lesson\n * @param id Lesson ID\n * @returns Deleted lesson or null if deletion failed\n */ async function deleteLesson(id) {\n    try {\n        // Get the lesson to be deleted\n        const lessonToDelete = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.findUnique({\n            where: {\n                id\n            }\n        });\n        if (!lessonToDelete) {\n            return null;\n        }\n        // Delete the lesson\n        const deletedLesson = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.delete({\n            where: {\n                id\n            }\n        });\n        // Re-order the remaining lessons\n        await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.updateMany({\n            where: {\n                courseId: lessonToDelete.courseId,\n                order: {\n                    gt: lessonToDelete.order\n                }\n            },\n            data: {\n                order: {\n                    decrement: 1\n                }\n            }\n        });\n        return deletedLesson;\n    } catch (error) {\n        console.error(\"Error deleting lesson:\", error);\n        return null;\n    }\n}\n/**\n * Reorder lessons for a course\n * @param courseId Course ID\n * @param lessonIds Array of lesson IDs in the desired order\n * @returns Success flag\n */ async function reorderLessons(courseId, lessonIds) {\n    try {\n        // Verify all lessons exist and belong to the course\n        const lessons = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.findMany({\n            where: {\n                courseId,\n                id: {\n                    in: lessonIds\n                }\n            }\n        });\n        if (lessons.length !== lessonIds.length) {\n            console.error(\"Not all lessons exist or belong to the course\");\n            return false;\n        }\n        // Update the order of each lesson\n        await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].$transaction(lessonIds.map((lessonId, index)=>_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.update({\n                where: {\n                    id: lessonId\n                },\n                data: {\n                    order: index + 1\n                }\n            })));\n        return true;\n    } catch (error) {\n        console.error(\"Error reordering lessons:\", error);\n        return false;\n    }\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__.ensureServerEntryExports)([\n    findLessonById,\n    getLessonsForCourse,\n    createLesson,\n    updateLesson,\n    deleteLesson,\n    reorderLessons\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"1496de900cb7d67993cc7de9afdd5840644ed6a8\", findLessonById);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"9a7955aaf41dc7e4bc47efd8c78804bed2df2ade\", getLessonsForCourse);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"d8e006a211ca26f5ec769206772f7c4348a73960\", createLesson);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"e182c8a4479eb23905c0c58a77ab7bcd567fce9b\", updateLesson);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"ea42f38b71b48164afed3430306824f4f8780d09\", deleteLesson);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"7f68ecff25cb5b15592eb33d832fd78ea1bd57d0\", reorderLessons);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL3NlcnZpY2VzL2xlc3Nvbi1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFOEI7QUFHOUI7Ozs7O0NBS0MsR0FDTSxlQUFlQyxlQUNwQkMsRUFBVSxFQUNWQyxnQkFBeUIsS0FBSztJQUU5QixJQUFJO1FBQ0YsSUFBSSxDQUFDRCxHQUFHRSxLQUFLLENBQUMsc0JBQXNCO1lBQ2xDLE9BQU87UUFDVDtRQUVBLE9BQU8sTUFBTUosc0RBQWEsQ0FBQ00sVUFBVSxDQUFDO1lBQ3BDQyxPQUFPO2dCQUFFTDtZQUFHO1lBQ1pNLFNBQVNMLGdCQUFnQjtnQkFDdkJNLFFBQVE7WUFDVixJQUFJQztRQUNOO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVFLG9CQUFvQkMsUUFBZ0I7SUFDeEQsSUFBSTtRQUNGLE9BQU8sTUFBTWQsc0RBQWEsQ0FBQ2UsUUFBUSxDQUFDO1lBQ2xDUixPQUFPO2dCQUFFTztZQUFTO1lBQ2xCRSxTQUFTO2dCQUFFQyxPQUFPO1lBQU07UUFDMUI7SUFDRixFQUFFLE9BQU9OLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBTyxFQUFFO0lBQ1g7QUFDRjtBQUVBOzs7O0NBSUMsR0FDTSxlQUFlTyxhQUFhQyxJQUE4QjtJQUMvRCxJQUFJO1FBQ0YsNERBQTREO1FBQzVELElBQUksQ0FBQ0EsS0FBS0YsS0FBSyxFQUFFO1lBQ2YsTUFBTUcscUJBQXFCLE1BQU1wQixzREFBYSxDQUFDcUIsU0FBUyxDQUFDO2dCQUN2RGQsT0FBTztvQkFBRU8sVUFBVUssS0FBS1YsTUFBTSxDQUFDYSxPQUFPLEVBQUVwQjtnQkFBYTtnQkFDckRjLFNBQVM7b0JBQUVDLE9BQU87Z0JBQU87WUFDM0I7WUFFQUUsS0FBS0YsS0FBSyxHQUFHRyxxQkFBcUJBLG1CQUFtQkgsS0FBSyxHQUFHLElBQUk7UUFDbkU7UUFFQSxPQUFPLE1BQU1qQixzREFBYSxDQUFDdUIsTUFBTSxDQUFDO1lBQ2hDSjtRQUNGO0lBQ0YsRUFBRSxPQUFPUixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDTSxlQUFlYSxhQUNwQnRCLEVBQVUsRUFDVmlCLElBQThCO0lBRTlCLElBQUk7UUFDRixPQUFPLE1BQU1uQixzREFBYSxDQUFDeUIsTUFBTSxDQUFDO1lBQ2hDbEIsT0FBTztnQkFBRUw7WUFBRztZQUNaaUI7UUFDRjtJQUNGLEVBQUUsT0FBT1IsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxPQUFPO0lBQ1Q7QUFDRjtBQUVBOzs7O0NBSUMsR0FDTSxlQUFlZSxhQUFheEIsRUFBVTtJQUMzQyxJQUFJO1FBQ0YsK0JBQStCO1FBQy9CLE1BQU15QixpQkFBaUIsTUFBTTNCLHNEQUFhLENBQUNNLFVBQVUsQ0FBQztZQUNwREMsT0FBTztnQkFBRUw7WUFBRztRQUNkO1FBRUEsSUFBSSxDQUFDeUIsZ0JBQWdCO1lBQ25CLE9BQU87UUFDVDtRQUVBLG9CQUFvQjtRQUNwQixNQUFNQyxnQkFBZ0IsTUFBTTVCLHNEQUFhLENBQUM2QixNQUFNLENBQUM7WUFDL0N0QixPQUFPO2dCQUFFTDtZQUFHO1FBQ2Q7UUFFQSxpQ0FBaUM7UUFDakMsTUFBTUYsc0RBQWEsQ0FBQzhCLFVBQVUsQ0FBQztZQUM3QnZCLE9BQU87Z0JBQ0xPLFVBQVVhLGVBQWViLFFBQVE7Z0JBQ2pDRyxPQUFPO29CQUNMYyxJQUFJSixlQUFlVixLQUFLO2dCQUMxQjtZQUNGO1lBQ0FFLE1BQU07Z0JBQ0pGLE9BQU87b0JBQ0xlLFdBQVc7Z0JBQ2I7WUFDRjtRQUNGO1FBRUEsT0FBT0o7SUFDVCxFQUFFLE9BQU9qQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDTSxlQUFlc0IsZUFDcEJuQixRQUFnQixFQUNoQm9CLFNBQW1CO0lBRW5CLElBQUk7UUFDRixvREFBb0Q7UUFDcEQsTUFBTUMsVUFBVSxNQUFNbkMsc0RBQWEsQ0FBQ2UsUUFBUSxDQUFDO1lBQzNDUixPQUFPO2dCQUNMTztnQkFDQVosSUFBSTtvQkFDRmtDLElBQUlGO2dCQUNOO1lBQ0Y7UUFDRjtRQUVBLElBQUlDLFFBQVFFLE1BQU0sS0FBS0gsVUFBVUcsTUFBTSxFQUFFO1lBQ3ZDekIsUUFBUUQsS0FBSyxDQUFDO1lBQ2QsT0FBTztRQUNUO1FBRUEsa0NBQWtDO1FBQ2xDLE1BQU1YLDREQUFtQixDQUN2QmtDLFVBQVVLLEdBQUcsQ0FBQyxDQUFDQyxVQUFVQyxRQUN2QnpDLHNEQUFhLENBQUN5QixNQUFNLENBQUM7Z0JBQ25CbEIsT0FBTztvQkFBRUwsSUFBSXNDO2dCQUFTO2dCQUN0QnJCLE1BQU07b0JBQUVGLE9BQU93QixRQUFRO2dCQUFFO1lBQzNCO1FBSUosT0FBTztJQUNULEVBQUUsT0FBTzlCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaG9pY2UtZS1sZWFybmluZy8uL3NyYy9saWIvZGIvc2VydmljZXMvbGVzc29uLXNlcnZpY2UudHM/ODJlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHByaXNtYSBmcm9tICdAL2xpYi9kYic7XG5pbXBvcnQgeyBMZXNzb24sIFByaXNtYSB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcblxuLyoqXG4gKiBGaW5kIGEgbGVzc29uIGJ5IElEXG4gKiBAcGFyYW0gaWQgTGVzc29uIElEXG4gKiBAcGFyYW0gaW5jbHVkZUNvdXJzZSBJbmNsdWRlIHJlbGF0ZWQgY291cnNlIGRhdGFcbiAqIEByZXR1cm5zIExlc3NvbiBvYmplY3Qgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRMZXNzb25CeUlkKFxuICBpZDogc3RyaW5nLFxuICBpbmNsdWRlQ291cnNlOiBib29sZWFuID0gZmFsc2Vcbik6IFByb21pc2U8TGVzc29uIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGlmICghaWQubWF0Y2goL15bMC05YS1mQS1GXXsyNH0kLykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLmxlc3Nvbi5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBpbmNsdWRlOiBpbmNsdWRlQ291cnNlID8ge1xuICAgICAgICBjb3Vyc2U6IHRydWVcbiAgICAgIH0gOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaW5kaW5nIGxlc3NvbiBieSBJRDonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbGVzc29ucyBmb3IgYSBjb3Vyc2VcbiAqIEBwYXJhbSBjb3Vyc2VJZCBDb3Vyc2UgSURcbiAqIEByZXR1cm5zIEFycmF5IG9mIGxlc3NvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExlc3NvbnNGb3JDb3Vyc2UoY291cnNlSWQ6IHN0cmluZyk6IFByb21pc2U8TGVzc29uW10+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLmxlc3Nvbi5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBjb3Vyc2VJZCB9LFxuICAgICAgb3JkZXJCeTogeyBvcmRlcjogJ2FzYycgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbGVzc29ucyBmb3IgY291cnNlOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbGVzc29uXG4gKiBAcGFyYW0gZGF0YSBMZXNzb24gZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBsZXNzb24gb3IgbnVsbCBpZiBjcmVhdGlvbiBmYWlsZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUxlc3NvbihkYXRhOiBQcmlzbWEuTGVzc29uQ3JlYXRlSW5wdXQpOiBQcm9taXNlPExlc3NvbiB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICAvLyBJZiBvcmRlciBpcyBub3QgcHJvdmlkZWQsIGdldCB0aGUgaGlnaGVzdCBvcmRlciBhbmQgYWRkIDFcbiAgICBpZiAoIWRhdGEub3JkZXIpIHtcbiAgICAgIGNvbnN0IGhpZ2hlc3RPcmRlckxlc3NvbiA9IGF3YWl0IHByaXNtYS5sZXNzb24uZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgY291cnNlSWQ6IGRhdGEuY291cnNlLmNvbm5lY3Q/LmlkIGFzIHN0cmluZyB9LFxuICAgICAgICBvcmRlckJ5OiB7IG9yZGVyOiAnZGVzYycgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGRhdGEub3JkZXIgPSBoaWdoZXN0T3JkZXJMZXNzb24gPyBoaWdoZXN0T3JkZXJMZXNzb24ub3JkZXIgKyAxIDogMTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS5sZXNzb24uY3JlYXRlKHtcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBsZXNzb246JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlIGxlc3NvbiBkYXRhXG4gKiBAcGFyYW0gaWQgTGVzc29uIElEXG4gKiBAcGFyYW0gZGF0YSBMZXNzb24gZGF0YSB0byB1cGRhdGVcbiAqIEByZXR1cm5zIFVwZGF0ZWQgbGVzc29uIG9yIG51bGwgaWYgdXBkYXRlIGZhaWxlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVzc29uKFxuICBpZDogc3RyaW5nLFxuICBkYXRhOiBQcmlzbWEuTGVzc29uVXBkYXRlSW5wdXRcbik6IFByb21pc2U8TGVzc29uIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBwcmlzbWEubGVzc29uLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGxlc3NvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWxldGUgYSBsZXNzb25cbiAqIEBwYXJhbSBpZCBMZXNzb24gSURcbiAqIEByZXR1cm5zIERlbGV0ZWQgbGVzc29uIG9yIG51bGwgaWYgZGVsZXRpb24gZmFpbGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVMZXNzb24oaWQ6IHN0cmluZyk6IFByb21pc2U8TGVzc29uIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIC8vIEdldCB0aGUgbGVzc29uIHRvIGJlIGRlbGV0ZWRcbiAgICBjb25zdCBsZXNzb25Ub0RlbGV0ZSA9IGF3YWl0IHByaXNtYS5sZXNzb24uZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCFsZXNzb25Ub0RlbGV0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIC8vIERlbGV0ZSB0aGUgbGVzc29uXG4gICAgY29uc3QgZGVsZXRlZExlc3NvbiA9IGF3YWl0IHByaXNtYS5sZXNzb24uZGVsZXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBSZS1vcmRlciB0aGUgcmVtYWluaW5nIGxlc3NvbnNcbiAgICBhd2FpdCBwcmlzbWEubGVzc29uLnVwZGF0ZU1hbnkoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgY291cnNlSWQ6IGxlc3NvblRvRGVsZXRlLmNvdXJzZUlkLFxuICAgICAgICBvcmRlcjoge1xuICAgICAgICAgIGd0OiBsZXNzb25Ub0RlbGV0ZS5vcmRlclxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBvcmRlcjoge1xuICAgICAgICAgIGRlY3JlbWVudDogMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGRlbGV0ZWRMZXNzb247XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgbGVzc29uOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFJlb3JkZXIgbGVzc29ucyBmb3IgYSBjb3Vyc2VcbiAqIEBwYXJhbSBjb3Vyc2VJZCBDb3Vyc2UgSURcbiAqIEBwYXJhbSBsZXNzb25JZHMgQXJyYXkgb2YgbGVzc29uIElEcyBpbiB0aGUgZGVzaXJlZCBvcmRlclxuICogQHJldHVybnMgU3VjY2VzcyBmbGFnXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW9yZGVyTGVzc29ucyhcbiAgY291cnNlSWQ6IHN0cmluZyxcbiAgbGVzc29uSWRzOiBzdHJpbmdbXVxuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IGFsbCBsZXNzb25zIGV4aXN0IGFuZCBiZWxvbmcgdG8gdGhlIGNvdXJzZVxuICAgIGNvbnN0IGxlc3NvbnMgPSBhd2FpdCBwcmlzbWEubGVzc29uLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGNvdXJzZUlkLFxuICAgICAgICBpZDoge1xuICAgICAgICAgIGluOiBsZXNzb25JZHNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmIChsZXNzb25zLmxlbmd0aCAhPT0gbGVzc29uSWRzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5lcnJvcignTm90IGFsbCBsZXNzb25zIGV4aXN0IG9yIGJlbG9uZyB0byB0aGUgY291cnNlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB0aGUgb3JkZXIgb2YgZWFjaCBsZXNzb25cbiAgICBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKFxuICAgICAgbGVzc29uSWRzLm1hcCgobGVzc29uSWQsIGluZGV4KSA9PiBcbiAgICAgICAgcHJpc21hLmxlc3Nvbi51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiBsZXNzb25JZCB9LFxuICAgICAgICAgIGRhdGE6IHsgb3JkZXI6IGluZGV4ICsgMSB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZW9yZGVyaW5nIGxlc3NvbnM6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInByaXNtYSIsImZpbmRMZXNzb25CeUlkIiwiaWQiLCJpbmNsdWRlQ291cnNlIiwibWF0Y2giLCJsZXNzb24iLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwiY291cnNlIiwidW5kZWZpbmVkIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0TGVzc29uc0ZvckNvdXJzZSIsImNvdXJzZUlkIiwiZmluZE1hbnkiLCJvcmRlckJ5Iiwib3JkZXIiLCJjcmVhdGVMZXNzb24iLCJkYXRhIiwiaGlnaGVzdE9yZGVyTGVzc29uIiwiZmluZEZpcnN0IiwiY29ubmVjdCIsImNyZWF0ZSIsInVwZGF0ZUxlc3NvbiIsInVwZGF0ZSIsImRlbGV0ZUxlc3NvbiIsImxlc3NvblRvRGVsZXRlIiwiZGVsZXRlZExlc3NvbiIsImRlbGV0ZSIsInVwZGF0ZU1hbnkiLCJndCIsImRlY3JlbWVudCIsInJlb3JkZXJMZXNzb25zIiwibGVzc29uSWRzIiwibGVzc29ucyIsImluIiwibGVuZ3RoIiwiJHRyYW5zYWN0aW9uIiwibWFwIiwibGVzc29uSWQiLCJpbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/services/lesson-service.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/services/user-service.ts":
/*!*********************************************!*\
  !*** ./src/lib/db/services/user-service.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   findUserByEmail: () => (/* binding */ findUserByEmail),\n/* harmony export */   findUserById: () => (/* binding */ findUserById),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   updateUser: () => (/* binding */ updateUser),\n/* harmony export */   updateUserLoginInfo: () => (/* binding */ updateUserLoginInfo),\n/* harmony export */   updateUserRole: () => (/* binding */ updateUserRole),\n/* harmony export */   verifyUserCredentials: () => (/* binding */ verifyUserCredentials)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/action-encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_auth_utils_password_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/auth/utils/password-utils */ \"(rsc)/./src/lib/auth/utils/password-utils.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"1a1582b55cd91be6744a06e7e3fd7ceb2909bc9c\":\"updateUser\",\"723b2431e2c142224dc0dca194a97df55ea40acd\":\"createUser\",\"735aa612c19d693c8d5f7a491a0542553d43ab3d\":\"updateUserLoginInfo\",\"8ab13d08030a4222e06e3f5758a98bbc12367141\":\"getUsers\",\"922b99c5f1280253923ffe5863daa571da85e46f\":\"findUserByEmail\",\"bab8ca42c8fcb33ef1d634a3e25c0b1799325298\":\"verifyUserCredentials\",\"dfb0e89cc8e108c0d5772f399be47babbf180620\":\"updateUserRole\",\"f67b323e1c7690143a4725bfd8362c7db359975a\":\"findUserById\",\"f6a00057f2c982dc382072114ff03da222c669a7\":\"deleteUser\"} */ \n\n\n\n/**\n * Find a user by ID\n * @param id User ID\n * @returns User object or null if not found\n */ async function findUserById(id) {\n    try {\n        if (!id.match(/^[0-9a-fA-F]{24}$/)) {\n            return null;\n        }\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n            where: {\n                id\n            }\n        });\n    } catch (error) {\n        console.error(\"Error finding user by ID:\", error);\n        return null;\n    }\n}\n/**\n * Find a user by email\n * @param email User email\n * @returns User object or null if not found\n */ async function findUserByEmail(email) {\n    try {\n        if (!email) return null;\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n            where: {\n                email: email.toLowerCase()\n            }\n        });\n    } catch (error) {\n        console.error(\"Error finding user by email:\", error);\n        return null;\n    }\n}\n/**\n * Create a new user\n * @param userData User data with plaintext password\n * @returns Created user without password or null if creation failed\n */ async function createUser(userData) {\n    try {\n        // Hash the password\n        const hashedPassword = await (0,_lib_auth_utils_password_utils__WEBPACK_IMPORTED_MODULE_3__.hashPassword)(userData.password);\n        // Create the user\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.create({\n            data: {\n                name: userData.name,\n                email: userData.email.toLowerCase(),\n                password: hashedPassword,\n                role: userData.role || \"student\"\n            }\n        });\n        // Return user without password\n        const { password, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Error creating user:\", error);\n        return null;\n    }\n}\n/**\n * Update user data\n * @param id User ID\n * @param data User data to update\n * @returns Updated user without password or null if update failed\n */ async function updateUser(id, data) {\n    try {\n        // If password is being updated, hash it first\n        if (typeof data.password === \"string\") {\n            data.password = await (0,_lib_auth_utils_password_utils__WEBPACK_IMPORTED_MODULE_3__.hashPassword)(data.password);\n        }\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.update({\n            where: {\n                id\n            },\n            data\n        });\n        // Return user without password\n        const { password, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n        return null;\n    }\n}\n/**\n * Update user role\n * @param id User ID\n * @param role New role\n * @returns Updated user without password or null if update failed\n */ async function updateUserRole(id, role) {\n    try {\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.update({\n            where: {\n                id\n            },\n            data: {\n                role\n            }\n        });\n        // Return user without password\n        const { password, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Error updating user role:\", error);\n        return null;\n    }\n}\n/**\n * Verify user credentials\n * @param email User email\n * @param password User plaintext password\n * @returns User without password if credentials valid, null otherwise\n */ async function verifyUserCredentials(email, password) {\n    try {\n        // Find user by email\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n            where: {\n                email: email.toLowerCase()\n            }\n        });\n        if (!user) return null;\n        // Verify password\n        const isPasswordValid = await (0,_lib_auth_utils_password_utils__WEBPACK_IMPORTED_MODULE_3__.comparePasswords)(password, user.password);\n        if (!isPasswordValid) return null;\n        // Return user without password\n        const { password: _, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Error verifying credentials:\", error);\n        return null;\n    }\n}\n/**\n * Get users with pagination\n * @param page Page number (1-based)\n * @param pageSize Page size\n * @param whereClause Optional filter criteria\n * @returns Paginated users without passwords\n */ async function getUsers(page = 1, pageSize = 10, whereClause = {}) {\n    try {\n        // Ensure page and pageSize are valid\n        page = Math.max(1, page);\n        pageSize = Math.max(1, Math.min(100, pageSize));\n        // Get total count\n        const total = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.count({\n            where: whereClause\n        });\n        // Calculate total pages\n        const pages = Math.ceil(total / pageSize);\n        // Get users for the requested page\n        const users = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findMany({\n            where: whereClause,\n            skip: (page - 1) * pageSize,\n            take: pageSize,\n            orderBy: {\n                createdAt: \"desc\"\n            }\n        });\n        // Remove passwords\n        const usersWithoutPasswords = users.map((user)=>{\n            const { password, ...rest } = user;\n            return rest;\n        });\n        return {\n            users: usersWithoutPasswords,\n            total,\n            pages\n        };\n    } catch (error) {\n        console.error(\"Error getting users:\", error);\n        return {\n            users: [],\n            total: 0,\n            pages: 0\n        };\n    }\n}\n/**\n * Update user's last login and login history\n * @param id User ID\n * @returns Success flag\n */ async function updateUserLoginInfo(id) {\n    try {\n        const now = new Date();\n        await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.update({\n            where: {\n                id\n            },\n            data: {\n                updatedAt: now\n            }\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error updating login info:\", error);\n        return false;\n    }\n}\n/**\n * Delete a user\n * @param id User ID\n * @returns Deleted user without password or null if deletion failed\n */ async function deleteUser(id) {\n    try {\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.delete({\n            where: {\n                id\n            }\n        });\n        // Return user without password\n        const { password, ...userWithoutPassword } = user;\n        return userWithoutPassword;\n    } catch (error) {\n        console.error(\"Error deleting user:\", error);\n        return null;\n    }\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__.ensureServerEntryExports)([\n    findUserById,\n    findUserByEmail,\n    createUser,\n    updateUser,\n    updateUserRole,\n    verifyUserCredentials,\n    getUsers,\n    updateUserLoginInfo,\n    deleteUser\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"f67b323e1c7690143a4725bfd8362c7db359975a\", findUserById);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"922b99c5f1280253923ffe5863daa571da85e46f\", findUserByEmail);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"723b2431e2c142224dc0dca194a97df55ea40acd\", createUser);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"1a1582b55cd91be6744a06e7e3fd7ceb2909bc9c\", updateUser);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"dfb0e89cc8e108c0d5772f399be47babbf180620\", updateUserRole);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"bab8ca42c8fcb33ef1d634a3e25c0b1799325298\", verifyUserCredentials);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"8ab13d08030a4222e06e3f5758a98bbc12367141\", getUsers);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"735aa612c19d693c8d5f7a491a0542553d43ab3d\", updateUserLoginInfo);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"f6a00057f2c982dc382072114ff03da222c669a7\", deleteUser);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL3NlcnZpY2VzL3VzZXItc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUVtRDtBQUdqRjs7OztDQUlDLEdBQ00sZUFBZUcsYUFBYUMsRUFBVTtJQUMzQyxJQUFJO1FBQ0YsSUFBSSxDQUFDQSxHQUFHQyxLQUFLLENBQUMsc0JBQXNCO1lBQ2xDLE9BQU87UUFDVDtRQUVBLE9BQU8sTUFBTUwsb0RBQVcsQ0FBQ08sVUFBVSxDQUFDO1lBQ2xDQyxPQUFPO2dCQUFFSjtZQUFHO1FBQ2Q7SUFDRixFQUFFLE9BQU9LLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ00sZUFBZUUsZ0JBQWdCQyxLQUFhO0lBQ2pELElBQUk7UUFDRixJQUFJLENBQUNBLE9BQU8sT0FBTztRQUVuQixPQUFPLE1BQU1aLG9EQUFXLENBQUNPLFVBQVUsQ0FBQztZQUNsQ0MsT0FBTztnQkFBRUksT0FBT0EsTUFBTUMsV0FBVztZQUFHO1FBQ3RDO0lBQ0YsRUFBRSxPQUFPSixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVLLFdBQVdDLFFBQTJCO0lBQzFELElBQUk7UUFDRixvQkFBb0I7UUFDcEIsTUFBTUMsaUJBQWlCLE1BQU1mLDRFQUFZQSxDQUFDYyxTQUFTRSxRQUFRO1FBRTNELGtCQUFrQjtRQUNsQixNQUFNWCxPQUFPLE1BQU1OLG9EQUFXLENBQUNrQixNQUFNLENBQUM7WUFDcENDLE1BQU07Z0JBQ0pDLE1BQU1MLFNBQVNLLElBQUk7Z0JBQ25CUixPQUFPRyxTQUFTSCxLQUFLLENBQUNDLFdBQVc7Z0JBQ2pDSSxVQUFVRDtnQkFDVkssTUFBTU4sU0FBU00sSUFBSSxJQUFJO1lBQ3pCO1FBQ0Y7UUFFQSwrQkFBK0I7UUFDL0IsTUFBTSxF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QUFBO1lBQ3RDLE1BQU0sRUFBRVcsUUFBUSxFQUFFLEdBQUcrQixNQUFNLEdBQUcxQztZQUM5QixPQUFPMEM7UUFDVDtRQUVBLE9BQU87WUFDTFIsT0FBT007WUFDUFY7WUFDQUU7UUFDRjtJQUNGLEVBQUUsT0FBTzdCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBTztZQUNMK0IsT0FBTyxFQUFFO1lBQ1RKLE9BQU87WUFDUEUsT0FBTztRQUNUO0lBQ0Y7QUFDRjtBQUVBOzs7O0NBSUMsR0FDTSxlQUFlVyxvQkFBb0I3QyxFQUFVO0lBQ2xELElBQUk7UUFDRixNQUFNOEMsTUFBTSxJQUFJQztRQUVoQixNQUFNbkQsb0RBQVcsQ0FBQ3dCLE1BQU0sQ0FBQztZQUN2QmhCLE9BQU87Z0JBQUVKO1lBQUc7WUFDWmUsTUFBTTtnQkFDSmlDLFdBQVdGO1lBR2I7UUFDRjtRQUVBLE9BQU87SUFDVCxFQUFFLE9BQU96QyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWU0QyxXQUFXakQsRUFBVTtJQUN6QyxJQUFJO1FBQ0YsTUFBTUUsT0FBTyxNQUFNTixvREFBVyxDQUFDc0QsTUFBTSxDQUFDO1lBQ3BDOUMsT0FBTztnQkFBRUo7WUFBRztRQUNkO1FBRUEsK0JBQStCO1FBQy9CLE1BQU0sRUFBRWEsUUFBUSxFQUFFLEdBQUdLLHFCQUFxQixHQUFHaEI7UUFDN0MsT0FBT2dCO0lBQ1QsRUFBRSxPQUFPYixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hvaWNlLWUtbGVhcm5pbmcvLi9zcmMvbGliL2RiL3NlcnZpY2VzL3VzZXItc2VydmljZS50cz8wMmQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgcHJpc21hIGZyb20gJ0AvbGliL2RiJztcbmltcG9ydCB7IFVzZXIsIFByaXNtYSB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcbmltcG9ydCB7IGhhc2hQYXNzd29yZCwgY29tcGFyZVBhc3N3b3JkcyB9IGZyb20gJ0AvbGliL2F1dGgvdXRpbHMvcGFzc3dvcmQtdXRpbHMnO1xuaW1wb3J0IHsgQ3JlYXRlVXNlclJlcXVlc3QgfSBmcm9tICdAL3R5cGVzL3VzZXInO1xuXG4vKipcbiAqIEZpbmQgYSB1c2VyIGJ5IElEXG4gKiBAcGFyYW0gaWQgVXNlciBJRFxuICogQHJldHVybnMgVXNlciBvYmplY3Qgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRVc2VyQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGlmICghaWQubWF0Y2goL15bMC05YS1mQS1GXXsyNH0kLykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmluZGluZyB1c2VyIGJ5IElEOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEZpbmQgYSB1c2VyIGJ5IGVtYWlsXG4gKiBAcGFyYW0gZW1haWwgVXNlciBlbWFpbFxuICogQHJldHVybnMgVXNlciBvYmplY3Qgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRVc2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGlmICghZW1haWwpIHJldHVybiBudWxsO1xuICAgIFxuICAgIHJldHVybiBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaW5kaW5nIHVzZXIgYnkgZW1haWw6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHVzZXJcbiAqIEBwYXJhbSB1c2VyRGF0YSBVc2VyIGRhdGEgd2l0aCBwbGFpbnRleHQgcGFzc3dvcmRcbiAqIEByZXR1cm5zIENyZWF0ZWQgdXNlciB3aXRob3V0IHBhc3N3b3JkIG9yIG51bGwgaWYgY3JlYXRpb24gZmFpbGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVVc2VyKHVzZXJEYXRhOiBDcmVhdGVVc2VyUmVxdWVzdCk6IFByb21pc2U8T21pdDxVc2VyLCAncGFzc3dvcmQnPiB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICAvLyBIYXNoIHRoZSBwYXNzd29yZFxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaFBhc3N3b3JkKHVzZXJEYXRhLnBhc3N3b3JkKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgdGhlIHVzZXJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcbiAgICAgICAgcm9sZTogdXNlckRhdGEucm9sZSB8fCAnc3R1ZGVudCcsXG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmV0dXJuIHVzZXIgd2l0aG91dCBwYXNzd29yZFxuICAgIGNvbnN0IHsgcGFzc3dvcmQsIC4uLnVzZXJXaXRob3V0UGFzc3dvcmQgfSA9IHVzZXI7XG4gICAgcmV0dXJuIHVzZXJXaXRob3V0UGFzc3dvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgdXNlciBkYXRhXG4gKiBAcGFyYW0gaWQgVXNlciBJRFxuICogQHBhcmFtIGRhdGEgVXNlciBkYXRhIHRvIHVwZGF0ZVxuICogQHJldHVybnMgVXBkYXRlZCB1c2VyIHdpdGhvdXQgcGFzc3dvcmQgb3IgbnVsbCBpZiB1cGRhdGUgZmFpbGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyKFxuICBpZDogc3RyaW5nLCBcbiAgZGF0YTogUHJpc21hLlVzZXJVcGRhdGVJbnB1dFxuKTogUHJvbWlzZTxPbWl0PFVzZXIsICdwYXNzd29yZCc+IHwgbnVsbD4ge1xuICB0cnkge1xuICAgIC8vIElmIHBhc3N3b3JkIGlzIGJlaW5nIHVwZGF0ZWQsIGhhc2ggaXQgZmlyc3RcbiAgICBpZiAodHlwZW9mIGRhdGEucGFzc3dvcmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBkYXRhLnBhc3N3b3JkID0gYXdhaXQgaGFzaFBhc3N3b3JkKGRhdGEucGFzc3dvcmQpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBkYXRhXG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmV0dXJuIHVzZXIgd2l0aG91dCBwYXNzd29yZFxuICAgIGNvbnN0IHsgcGFzc3dvcmQsIC4uLnVzZXJXaXRob3V0UGFzc3dvcmQgfSA9IHVzZXI7XG4gICAgcmV0dXJuIHVzZXJXaXRob3V0UGFzc3dvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgdXNlciByb2xlXG4gKiBAcGFyYW0gaWQgVXNlciBJRFxuICogQHBhcmFtIHJvbGUgTmV3IHJvbGVcbiAqIEByZXR1cm5zIFVwZGF0ZWQgdXNlciB3aXRob3V0IHBhc3N3b3JkIG9yIG51bGwgaWYgdXBkYXRlIGZhaWxlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlclJvbGUoXG4gIGlkOiBzdHJpbmcsIFxuICByb2xlOiAnc3R1ZGVudCcgfCAnYWRtaW4nXG4pOiBQcm9taXNlPE9taXQ8VXNlciwgJ3Bhc3N3b3JkJz4gfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgZGF0YTogeyByb2xlIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBSZXR1cm4gdXNlciB3aXRob3V0IHBhc3N3b3JkXG4gICAgY29uc3QgeyBwYXNzd29yZCwgLi4udXNlcldpdGhvdXRQYXNzd29yZCB9ID0gdXNlcjtcbiAgICByZXR1cm4gdXNlcldpdGhvdXRQYXNzd29yZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIHJvbGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVmVyaWZ5IHVzZXIgY3JlZGVudGlhbHNcbiAqIEBwYXJhbSBlbWFpbCBVc2VyIGVtYWlsXG4gKiBAcGFyYW0gcGFzc3dvcmQgVXNlciBwbGFpbnRleHQgcGFzc3dvcmRcbiAqIEByZXR1cm5zIFVzZXIgd2l0aG91dCBwYXNzd29yZCBpZiBjcmVkZW50aWFscyB2YWxpZCwgbnVsbCBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVVzZXJDcmVkZW50aWFscyhcbiAgZW1haWw6IHN0cmluZywgXG4gIHBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8T21pdDxVc2VyLCAncGFzc3dvcmQnPiB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICAvLyBGaW5kIHVzZXIgYnkgZW1haWxcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKSB9XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCF1c2VyKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICAvLyBWZXJpZnkgcGFzc3dvcmRcbiAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlUGFzc3dvcmRzKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgLy8gUmV0dXJuIHVzZXIgd2l0aG91dCBwYXNzd29yZFxuICAgIGNvbnN0IHsgcGFzc3dvcmQ6IF8sIC4uLnVzZXJXaXRob3V0UGFzc3dvcmQgfSA9IHVzZXI7XG4gICAgcmV0dXJuIHVzZXJXaXRob3V0UGFzc3dvcmQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdmVyaWZ5aW5nIGNyZWRlbnRpYWxzOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEdldCB1c2VycyB3aXRoIHBhZ2luYXRpb25cbiAqIEBwYXJhbSBwYWdlIFBhZ2UgbnVtYmVyICgxLWJhc2VkKVxuICogQHBhcmFtIHBhZ2VTaXplIFBhZ2Ugc2l6ZVxuICogQHBhcmFtIHdoZXJlQ2xhdXNlIE9wdGlvbmFsIGZpbHRlciBjcml0ZXJpYVxuICogQHJldHVybnMgUGFnaW5hdGVkIHVzZXJzIHdpdGhvdXQgcGFzc3dvcmRzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VycyhcbiAgcGFnZTogbnVtYmVyID0gMSwgXG4gIHBhZ2VTaXplOiBudW1iZXIgPSAxMCxcbiAgd2hlcmVDbGF1c2U6IFByaXNtYS5Vc2VyV2hlcmVJbnB1dCA9IHt9XG4pOiBQcm9taXNlPHtcbiAgdXNlcnM6IE9taXQ8VXNlciwgJ3Bhc3N3b3JkJz5bXTtcbiAgdG90YWw6IG51bWJlcjtcbiAgcGFnZXM6IG51bWJlcjtcbn0+IHtcbiAgdHJ5IHtcbiAgICAvLyBFbnN1cmUgcGFnZSBhbmQgcGFnZVNpemUgYXJlIHZhbGlkXG4gICAgcGFnZSA9IE1hdGgubWF4KDEsIHBhZ2UpO1xuICAgIHBhZ2VTaXplID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMTAwLCBwYWdlU2l6ZSkpO1xuICAgIFxuICAgIC8vIEdldCB0b3RhbCBjb3VudFxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgcHJpc21hLnVzZXIuY291bnQoe1xuICAgICAgd2hlcmU6IHdoZXJlQ2xhdXNlXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHRvdGFsIHBhZ2VzXG4gICAgY29uc3QgcGFnZXMgPSBNYXRoLmNlaWwodG90YWwgLyBwYWdlU2l6ZSk7XG4gICAgXG4gICAgLy8gR2V0IHVzZXJzIGZvciB0aGUgcmVxdWVzdGVkIHBhZ2VcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB3aGVyZUNsYXVzZSxcbiAgICAgIHNraXA6IChwYWdlIC0gMSkgKiBwYWdlU2l6ZSxcbiAgICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmVtb3ZlIHBhc3N3b3Jkc1xuICAgIGNvbnN0IHVzZXJzV2l0aG91dFBhc3N3b3JkcyA9IHVzZXJzLm1hcCh1c2VyID0+IHtcbiAgICAgIGNvbnN0IHsgcGFzc3dvcmQsIC4uLnJlc3QgfSA9IHVzZXI7XG4gICAgICByZXR1cm4gcmVzdDtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcnM6IHVzZXJzV2l0aG91dFBhc3N3b3JkcyxcbiAgICAgIHRvdGFsLFxuICAgICAgcGFnZXNcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlcnM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyczogW10sXG4gICAgICB0b3RhbDogMCxcbiAgICAgIHBhZ2VzOiAwXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZSB1c2VyJ3MgbGFzdCBsb2dpbiBhbmQgbG9naW4gaGlzdG9yeVxuICogQHBhcmFtIGlkIFVzZXIgSURcbiAqIEByZXR1cm5zIFN1Y2Nlc3MgZmxhZ1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlckxvZ2luSW5mbyhpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBcbiAgICBhd2FpdCBwcmlzbWEudXNlci51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBkYXRlZEF0OiBub3dcbiAgICAgICAgLy8gTm90ZTogVGhlIGxvZ2luSGlzdG9yeSBmaWVsZCBpcyBub3QgcGFydCBvZiB0aGUgUHJpc21hIHNjaGVtYVxuICAgICAgICAvLyBXZSB3b3VsZCBuZWVkIHRvIGFkZCBpdCB0byB0aGUgc2NoZW1hIGlmIG5lZWRlZFxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGxvZ2luIGluZm86JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIHVzZXJcbiAqIEBwYXJhbSBpZCBVc2VyIElEXG4gKiBAcmV0dXJucyBEZWxldGVkIHVzZXIgd2l0aG91dCBwYXNzd29yZCBvciBudWxsIGlmIGRlbGV0aW9uIGZhaWxlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlcihpZDogc3RyaW5nKTogUHJvbWlzZTxPbWl0PFVzZXIsICdwYXNzd29yZCc+IHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5kZWxldGUoe1xuICAgICAgd2hlcmU6IHsgaWQgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIFJldHVybiB1c2VyIHdpdGhvdXQgcGFzc3dvcmRcbiAgICBjb25zdCB7IHBhc3N3b3JkLCAuLi51c2VyV2l0aG91dFBhc3N3b3JkIH0gPSB1c2VyO1xuICAgIHJldHVybiB1c2VyV2l0aG91dFBhc3N3b3JkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iXSwibmFtZXMiOlsicHJpc21hIiwiaGFzaFBhc3N3b3JkIiwiY29tcGFyZVBhc3N3b3JkcyIsImZpbmRVc2VyQnlJZCIsImlkIiwibWF0Y2giLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiZXJyb3IiLCJjb25zb2xlIiwiZmluZFVzZXJCeUVtYWlsIiwiZW1haWwiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsImhhc2hlZFBhc3N3b3JkIiwicGFzc3dvcmQiLCJjcmVhdGUiLCJkYXRhIiwibmFtZSIsInJvbGUiLCJ1c2VyV2l0aG91dFBhc3N3b3JkIiwidXBkYXRlVXNlciIsInVwZGF0ZSIsInVwZGF0ZVVzZXJSb2xlIiwidmVyaWZ5VXNlckNyZWRlbnRpYWxzIiwiaXNQYXNzd29yZFZhbGlkIiwiXyIsImdldFVzZXJzIiwicGFnZSIsInBhZ2VTaXplIiwid2hlcmVDbGF1c2UiLCJNYXRoIiwibWF4IiwibWluIiwidG90YWwiLCJjb3VudCIsInBhZ2VzIiwiY2VpbCIsInVzZXJzIiwiZmluZE1hbnkiLCJza2lwIiwidGFrZSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJ1c2Vyc1dpdGhvdXRQYXNzd29yZHMiLCJtYXAiLCJyZXN0IiwidXBkYXRlVXNlckxvZ2luSW5mbyIsIm5vdyIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJkZWxldGVVc2VyIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/services/user-service.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/courses.ts":
/*!*********************************!*\
  !*** ./src/services/courses.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAllCourses: () => (/* binding */ getAllCourses),\n/* harmony export */   getCourseById: () => (/* binding */ getCourseById),\n/* harmony export */   getCourseEnrollmentCount: () => (/* binding */ getCourseEnrollmentCount),\n/* harmony export */   getTotalStudentCount: () => (/* binding */ getTotalStudentCount),\n/* harmony export */   getUserStats: () => (/* binding */ getUserStats)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-proxy */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-proxy.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/action-encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"1edb49b423cf67abe39d22c891c147060d37eaf9\":\"getCourseEnrollmentCount\",\"23a03757066519cf64e2a4a160d7a57ac6c7f31a\":\"getAllCourses\",\"49da092344aa87aa44650475997d1ccaac7135b4\":\"getUserStats\",\"5bc378688ad9ababf7ac6c05740565e616116555\":\"getCourseById\",\"6ac3483601480e7dbc70a2729d79336ab0f6fbd5\":\"getTotalStudentCount\"} */ \n\n\n/**\n * Get all courses from the database\n */ async function getAllCourses() {\n    try {\n        const courses = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.findMany({\n            include: {\n                reviews: true,\n                lessons: true,\n                _count: {\n                    select: {\n                        students: true,\n                        reviews: true,\n                        lessons: true\n                    }\n                }\n            }\n        });\n        // Process the courses to match our CourseListItem interface\n        const processedCourses = await Promise.all(courses.map(async (course)=>{\n            // Get creator info if available\n            const creator = course.creatorId ? await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n                where: {\n                    id: course.creatorId\n                }\n            }) : null;\n            // Calculate rating\n            const rating = course.reviews.length > 0 ? Number((course.reviews.reduce((acc, review)=>acc + review.rating, 0) / course.reviews.length).toFixed(1)) : 4.5; // Default if no reviews\n            return {\n                id: course.id,\n                title: course.title,\n                description: course.description,\n                image: course.imageUrl || \"https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=2070&auto=format&fit=crop\",\n                level: course.level,\n                price: course.price,\n                duration: `${Math.ceil(course._count.lessons / 2)} weeks`,\n                isFeatured: Array.isArray(course.topics) && course.topics.includes(\"featured\"),\n                students: course._count.students,\n                rating: rating,\n                reviews: course._count.reviews,\n                instructorName: creator?.name || \"Administrator\"\n            };\n        }));\n        return processedCourses;\n    } catch (error) {\n        console.error(\"Error fetching all courses:\", error);\n        return [];\n    }\n}\n/**\n * Get a course by ID\n */ async function getCourseById(courseId) {\n    try {\n        const course = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.findUnique({\n            where: {\n                id: courseId\n            },\n            include: {\n                lessons: {\n                    orderBy: {\n                        order: \"asc\"\n                    }\n                },\n                reviews: {\n                    include: {\n                        user: {\n                            select: {\n                                id: true,\n                                name: true,\n                                email: true\n                            }\n                        }\n                    }\n                },\n                students: true,\n                _count: {\n                    select: {\n                        students: true,\n                        reviews: true,\n                        lessons: true\n                    }\n                }\n            }\n        });\n        if (!course) return null;\n        // Get creator info if available\n        const creator = course.creatorId ? await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n            where: {\n                id: course.creatorId\n            }\n        }) : null;\n        // Process reviews to include user names\n        const processedReviews = course.reviews.map((review)=>{\n            return {\n                name: review.user?.name || \"Anonymous\",\n                rating: review.rating,\n                avatar: \"https://randomuser.me/api/portraits/women/63.jpg\",\n                date: `${Math.floor((Date.now() - new Date(review.createdAt).getTime()) / (1000 * 60 * 60 * 24 * 30))} months ago`,\n                comment: review.comment || \"Great course!\"\n            };\n        });\n        // Calculate rating\n        const rating = course.reviews.length > 0 ? Number((course.reviews.reduce((acc, review)=>acc + review.rating, 0) / course.reviews.length).toFixed(1)) : 4.5; // Default if no reviews\n        return {\n            id: course.id,\n            title: course.title,\n            description: course.description,\n            fullDescription: course.description,\n            image: course.imageUrl || \"https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=2070&auto=format&fit=crop\",\n            level: course.level,\n            price: course.price,\n            duration: `${Math.ceil(course.lessons.length / 2)} weeks`,\n            lessonsCount: course.lessons.length,\n            totalHours: Number((course.lessons.length * 0.5).toFixed(1)),\n            lastUpdated: new Date(course.updatedAt).toLocaleString(\"en-US\", {\n                month: \"long\",\n                year: \"numeric\"\n            }),\n            rating: rating,\n            reviewsCount: course.reviews.length,\n            isFeatured: Array.isArray(course.topics) && course.topics.includes(\"featured\"),\n            learningPoints: course.topics || [],\n            instructor: {\n                name: creator?.name || \"Administrator\",\n                role: \"Course Creator\",\n                bio: \"Course creator and educator\",\n                avatar: \"https://randomuser.me/api/portraits/men/32.jpg\",\n                rating: 4.9,\n                students: course.students.length || 0,\n                courses: 1\n            },\n            reviews: processedReviews\n        };\n    } catch (error) {\n        console.error(\"Error fetching course by ID:\", error);\n        return null;\n    }\n}\n/**\n * Get total student count\n */ async function getTotalStudentCount() {\n    try {\n        return await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.count({\n            where: {\n                role: \"student\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting total student count:\", error);\n        return 0;\n    }\n}\n/**\n * Get enrollment count for a course\n */ async function getCourseEnrollmentCount(courseId) {\n    try {\n        const course = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course.findUnique({\n            where: {\n                id: courseId\n            },\n            include: {\n                _count: {\n                    select: {\n                        students: true\n                    }\n                }\n            }\n        });\n        return course?._count.students || 0;\n    } catch (error) {\n        console.error(\"Error getting course enrollment count:\", error);\n        return 0;\n    }\n}\n/**\n * Get user statistics\n */ async function getUserStats(userId) {\n    try {\n        const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n            where: {\n                id: userId\n            },\n            include: {\n                enrolledIn: true\n            }\n        });\n        if (!user) {\n            return {\n                coursesCompleted: 0,\n                lessonsCompleted: 0,\n                totalHoursLearned: 0,\n                currentStreak: 0\n            };\n        }\n        // Get user progress\n        const userProgress = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].userProgress.findMany({\n            where: {\n                userId\n            }\n        });\n        if (user.enrolledIn.length === 0) {\n            return {\n                coursesCompleted: 0,\n                lessonsCompleted: 0,\n                totalHoursLearned: 0,\n                currentStreak: 0\n            };\n        }\n        let completedLessons = 0;\n        let coursesCompleted = 0;\n        let totalHoursLearned = 0;\n        // Get all lessons for enrolled courses\n        const enrolledCourseIds = user.enrolledIn.map((course)=>course.id);\n        // Process each enrolled course\n        for (const courseId of enrolledCourseIds){\n            // Get all lessons for this course\n            const courseLessons = await _lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lesson.findMany({\n                where: {\n                    courseId\n                }\n            });\n            // Count completed lessons\n            let courseCompletedLessons = 0;\n            for (const lesson of courseLessons){\n                const progressEntry = userProgress.find((p)=>p.courseId === courseId && p.lessonId === lesson.id && p.completed);\n                if (progressEntry) {\n                    completedLessons++;\n                    courseCompletedLessons++;\n                    // Add time spent to total hours (if available)\n                    if (progressEntry.timeSpent) {\n                        totalHoursLearned += progressEntry.timeSpent / 3600; // Convert seconds to hours\n                    } else {\n                        // Estimate if not available\n                        totalHoursLearned += 0.5; // Default 30 minutes per lesson\n                    }\n                }\n            }\n            // Check if course is completed\n            if (courseCompletedLessons === courseLessons.length && courseLessons.length > 0) {\n                coursesCompleted++;\n            }\n        }\n        // Calculate current streak\n        const streakDays = calculateStreak(userProgress);\n        return {\n            coursesCompleted,\n            lessonsCompleted: completedLessons,\n            totalHoursLearned: Math.round(totalHoursLearned * 10) / 10,\n            currentStreak: streakDays\n        };\n    } catch (error) {\n        console.error(\"Error getting user stats:\", error);\n        return {\n            coursesCompleted: 0,\n            lessonsCompleted: 0,\n            totalHoursLearned: 0,\n            currentStreak: 0\n        };\n    }\n}\n/**\n * Calculate user streak based on user progress\n */ function calculateStreak(userProgress) {\n    if (!userProgress || userProgress.length === 0) {\n        return 0;\n    }\n    // Get all dates when user completed lessons\n    const completionDates = userProgress.filter((p)=>p.completed).map((p)=>new Date(p.completedAt || p.updatedAt)).sort((a, b)=>b.getTime() - a.getTime()); // Sort in descending order\n    if (completionDates.length === 0) {\n        return 0;\n    }\n    // Check if user has completed anything today\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const mostRecentDate = new Date(completionDates[0]);\n    mostRecentDate.setHours(0, 0, 0, 0);\n    // If most recent activity was before yesterday, streak is broken\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n    if (mostRecentDate < yesterday) {\n        return 0;\n    }\n    // Calculate streak by counting consecutive days\n    let streak = 1; // Start with 1 for the most recent day\n    let currentDate = mostRecentDate;\n    for(let i = 1; i < completionDates.length; i++){\n        const prevDate = new Date(completionDates[i]);\n        prevDate.setHours(0, 0, 0, 0);\n        // Check if this date is the previous day\n        const expectedPrevDate = new Date(currentDate);\n        expectedPrevDate.setDate(expectedPrevDate.getDate() - 1);\n        if (prevDate.getTime() === expectedPrevDate.getTime()) {\n            streak++;\n            currentDate = prevDate;\n        } else if (prevDate.getTime() === currentDate.getTime()) {\n            continue;\n        } else {\n            break;\n        }\n    }\n    return streak;\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__.ensureServerEntryExports)([\n    getAllCourses,\n    getCourseById,\n    getTotalStudentCount,\n    getCourseEnrollmentCount,\n    getUserStats\n]);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"23a03757066519cf64e2a4a160d7a57ac6c7f31a\", getAllCourses);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"5bc378688ad9ababf7ac6c05740565e616116555\", getCourseById);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"6ac3483601480e7dbc70a2729d79336ab0f6fbd5\", getTotalStudentCount);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"1edb49b423cf67abe39d22c891c147060d37eaf9\", getCourseEnrollmentCount);\n(0,private_next_rsc_action_proxy__WEBPACK_IMPORTED_MODULE_0__.createActionProxy)(\"49da092344aa87aa44650475997d1ccaac7135b4\", getUserStats);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZckQsT0FBTyxJQUFJO1lBRXZEO1FBQ0YsT0FBTztZQUVMO1FBQ0Y7SUFDRjtJQUVBLE9BQU9vRDtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hvaWNlLWUtbGVhcm5pbmcvLi9zcmMvc2VydmljZXMvY291cnNlcy50cz8wNDNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgcHJpc21hIGZyb20gJ0AvbGliL2RiJztcbmltcG9ydCB7IENvdXJzZUxpc3RJdGVtLCBDb3Vyc2VEZXRhaWxzLCBVc2VyQ291cnNlU3RhdHMgfSBmcm9tICdAL3R5cGVzJztcblxuLyoqXG4gKiBHZXQgYWxsIGNvdXJzZXMgZnJvbSB0aGUgZGF0YWJhc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbENvdXJzZXMoKTogUHJvbWlzZTxDb3Vyc2VMaXN0SXRlbVtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY291cnNlcyA9IGF3YWl0IHByaXNtYS5jb3Vyc2UuZmluZE1hbnkoe1xuICAgICAgaW5jbHVkZToge1xuICAgICAgICByZXZpZXdzOiB0cnVlLFxuICAgICAgICBsZXNzb25zOiB0cnVlLFxuICAgICAgICBfY291bnQ6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIHN0dWRlbnRzOiB0cnVlLFxuICAgICAgICAgICAgcmV2aWV3czogdHJ1ZSxcbiAgICAgICAgICAgIGxlc3NvbnM6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBQcm9jZXNzIHRoZSBjb3Vyc2VzIHRvIG1hdGNoIG91ciBDb3Vyc2VMaXN0SXRlbSBpbnRlcmZhY2VcbiAgICBjb25zdCBwcm9jZXNzZWRDb3Vyc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBjb3Vyc2VzLm1hcChhc3luYyAoY291cnNlKSA9PiB7XG4gICAgICAgIC8vIEdldCBjcmVhdG9yIGluZm8gaWYgYXZhaWxhYmxlXG4gICAgICAgIGNvbnN0IGNyZWF0b3IgPSBjb3Vyc2UuY3JlYXRvcklkIFxuICAgICAgICAgID8gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBjb3Vyc2UuY3JlYXRvcklkIH0gfSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgcmF0aW5nXG4gICAgICAgIGNvbnN0IHJhdGluZyA9IGNvdXJzZS5yZXZpZXdzLmxlbmd0aCA+IDAgXG4gICAgICAgICAgPyBOdW1iZXIoKGNvdXJzZS5yZXZpZXdzLnJlZHVjZSgoYWNjLCByZXZpZXcpID0+IGFjYyArIHJldmlldy5yYXRpbmcsIDApIC8gY291cnNlLnJldmlld3MubGVuZ3RoKS50b0ZpeGVkKDEpKVxuICAgICAgICAgIDogNC41OyAvLyBEZWZhdWx0IGlmIG5vIHJldmlld3NcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGNvdXJzZS5pZCxcbiAgICAgICAgICB0aXRsZTogY291cnNlLnRpdGxlLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBjb3Vyc2UuZGVzY3JpcHRpb24sXG4gICAgICAgICAgaW1hZ2U6IGNvdXJzZS5pbWFnZVVybCB8fCAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MzMzNTYxMjI1NDQtZjEzNDMyNGE2Y2VlP3E9ODAmdz0yMDcwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJyxcbiAgICAgICAgICBsZXZlbDogY291cnNlLmxldmVsLFxuICAgICAgICAgIHByaWNlOiBjb3Vyc2UucHJpY2UsXG4gICAgICAgICAgZHVyYXRpb246IGAke01hdGguY2VpbChjb3Vyc2UuX2NvdW50Lmxlc3NvbnMgLyAyKX0gd2Vla3NgLCAvLyBBcHByb3hpbWF0ZSBkdXJhdGlvblxuICAgICAgICAgIGlzRmVhdHVyZWQ6IEFycmF5LmlzQXJyYXkoY291cnNlLnRvcGljcykgJiYgY291cnNlLnRvcGljcy5pbmNsdWRlcygnZmVhdHVyZWQnKSxcbiAgICAgICAgICBzdHVkZW50czogY291cnNlLl9jb3VudC5zdHVkZW50cyxcbiAgICAgICAgICByYXRpbmc6IHJhdGluZyxcbiAgICAgICAgICByZXZpZXdzOiBjb3Vyc2UuX2NvdW50LnJldmlld3MsXG4gICAgICAgICAgaW5zdHJ1Y3Rvck5hbWU6IGNyZWF0b3I/Lm5hbWUgfHwgJ0FkbWluaXN0cmF0b3InLFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgcmV0dXJuIHByb2Nlc3NlZENvdXJzZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWxsIGNvdXJzZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBhIGNvdXJzZSBieSBJRFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q291cnNlQnlJZChjb3Vyc2VJZDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY291cnNlID0gYXdhaXQgcHJpc21hLmNvdXJzZS5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBjb3Vyc2VJZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBsZXNzb25zOiB7XG4gICAgICAgICAgb3JkZXJCeTogeyBvcmRlcjogJ2FzYycgfVxuICAgICAgICB9LFxuICAgICAgICByZXZpZXdzOiB7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0dWRlbnRzOiB0cnVlLFxuICAgICAgICBfY291bnQ6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIHN0dWRlbnRzOiB0cnVlLFxuICAgICAgICAgICAgcmV2aWV3czogdHJ1ZSxcbiAgICAgICAgICAgIGxlc3NvbnM6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAoIWNvdXJzZSkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgLy8gR2V0IGNyZWF0b3IgaW5mbyBpZiBhdmFpbGFibGVcbiAgICBjb25zdCBjcmVhdG9yID0gY291cnNlLmNyZWF0b3JJZCBcbiAgICAgID8gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBjb3Vyc2UuY3JlYXRvcklkIH0gfSlcbiAgICAgIDogbnVsbDtcbiAgICBcbiAgICAvLyBQcm9jZXNzIHJldmlld3MgdG8gaW5jbHVkZSB1c2VyIG5hbWVzXG4gICAgY29uc3QgcHJvY2Vzc2VkUmV2aWV3cyA9IGNvdXJzZS5yZXZpZXdzLm1hcChyZXZpZXcgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogcmV2aWV3LnVzZXI/Lm5hbWUgfHwgJ0Fub255bW91cycsXG4gICAgICAgIHJhdGluZzogcmV2aWV3LnJhdGluZyxcbiAgICAgICAgYXZhdGFyOiAnaHR0cHM6Ly9yYW5kb211c2VyLm1lL2FwaS9wb3J0cmFpdHMvd29tZW4vNjMuanBnJywgLy8gRGVmYXVsdCBhdmF0YXJcbiAgICAgICAgZGF0ZTogYCR7TWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIG5ldyBEYXRlKHJldmlldy5jcmVhdGVkQXQpLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCAqIDMwKSl9IG1vbnRocyBhZ29gLFxuICAgICAgICBjb21tZW50OiByZXZpZXcuY29tbWVudCB8fCAnR3JlYXQgY291cnNlIScsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSByYXRpbmdcbiAgICBjb25zdCByYXRpbmcgPSBjb3Vyc2UucmV2aWV3cy5sZW5ndGggPiAwIFxuICAgICAgPyBOdW1iZXIoKGNvdXJzZS5yZXZpZXdzLnJlZHVjZSgoYWNjLCByZXZpZXcpID0+IGFjYyArIHJldmlldy5yYXRpbmcsIDApIC8gY291cnNlLnJldmlld3MubGVuZ3RoKS50b0ZpeGVkKDEpKVxuICAgICAgOiA0LjU7IC8vIERlZmF1bHQgaWYgbm8gcmV2aWV3c1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBpZDogY291cnNlLmlkLFxuICAgICAgdGl0bGU6IGNvdXJzZS50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBjb3Vyc2UuZGVzY3JpcHRpb24sXG4gICAgICBmdWxsRGVzY3JpcHRpb246IGNvdXJzZS5kZXNjcmlwdGlvbixcbiAgICAgIGltYWdlOiBjb3Vyc2UuaW1hZ2VVcmwgfHwgJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjMzMzU2MTIyNTQ0LWYxMzQzMjRhNmNlZT9xPTgwJnc9MjA3MCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCcsXG4gICAgICBsZXZlbDogY291cnNlLmxldmVsLFxuICAgICAgcHJpY2U6IGNvdXJzZS5wcmljZSxcbiAgICAgIGR1cmF0aW9uOiBgJHtNYXRoLmNlaWwoY291cnNlLmxlc3NvbnMubGVuZ3RoIC8gMil9IHdlZWtzYCwgLy8gQXBwcm94aW1hdGUgZHVyYXRpb25cbiAgICAgIGxlc3NvbnNDb3VudDogY291cnNlLmxlc3NvbnMubGVuZ3RoLFxuICAgICAgdG90YWxIb3VyczogTnVtYmVyKChjb3Vyc2UubGVzc29ucy5sZW5ndGggKiAwLjUpLnRvRml4ZWQoMSkpLCAvLyBBcHByb3hpbWF0ZSBob3Vyc1xuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKGNvdXJzZS51cGRhdGVkQXQpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdsb25nJywgeWVhcjogJ251bWVyaWMnIH0pLFxuICAgICAgcmF0aW5nOiByYXRpbmcsXG4gICAgICByZXZpZXdzQ291bnQ6IGNvdXJzZS5yZXZpZXdzLmxlbmd0aCxcbiAgICAgIGlzRmVhdHVyZWQ6IEFycmF5LmlzQXJyYXkoY291cnNlLnRvcGljcykgJiYgY291cnNlLnRvcGljcy5pbmNsdWRlcygnZmVhdHVyZWQnKSxcbiAgICAgIGxlYXJuaW5nUG9pbnRzOiBjb3Vyc2UudG9waWNzIHx8IFtdLFxuICAgICAgaW5zdHJ1Y3Rvcjoge1xuICAgICAgICBuYW1lOiBjcmVhdG9yPy5uYW1lIHx8ICdBZG1pbmlzdHJhdG9yJyxcbiAgICAgICAgcm9sZTogJ0NvdXJzZSBDcmVhdG9yJyxcbiAgICAgICAgYmlvOiAnQ291cnNlIGNyZWF0b3IgYW5kIGVkdWNhdG9yJyxcbiAgICAgICAgYXZhdGFyOiAnaHR0cHM6Ly9yYW5kb211c2VyLm1lL2FwaS9wb3J0cmFpdHMvbWVuLzMyLmpwZycsXG4gICAgICAgIHJhdGluZzogNC45LFxuICAgICAgICBzdHVkZW50czogY291cnNlLnN0dWRlbnRzLmxlbmd0aCB8fCAwLFxuICAgICAgICBjb3Vyc2VzOiAxLCAvLyBTaW1wbGlmaWVkXG4gICAgICB9LFxuICAgICAgcmV2aWV3czogcHJvY2Vzc2VkUmV2aWV3cyxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvdXJzZSBieSBJRDonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdG90YWwgc3R1ZGVudCBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG90YWxTdHVkZW50Q291bnQoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLnVzZXIuY291bnQoe1xuICAgICAgd2hlcmU6IHsgcm9sZTogJ3N0dWRlbnQnIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHRvdGFsIHN0dWRlbnQgY291bnQ6JywgZXJyb3IpO1xuICAgIHJldHVybiAwO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGVucm9sbG1lbnQgY291bnQgZm9yIGEgY291cnNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb3Vyc2VFbnJvbGxtZW50Q291bnQoY291cnNlSWQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY291cnNlID0gYXdhaXQgcHJpc21hLmNvdXJzZS5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBjb3Vyc2VJZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBfY291bnQ6IHtcbiAgICAgICAgICBzZWxlY3Q6IHsgc3R1ZGVudHM6IHRydWUgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGNvdXJzZT8uX2NvdW50LnN0dWRlbnRzIHx8IDA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjb3Vyc2UgZW5yb2xsbWVudCBjb3VudDonLCBlcnJvcik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdXNlciBzdGF0aXN0aWNzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyU3RhdHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJDb3Vyc2VTdGF0cz4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiB1c2VySWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgZW5yb2xsZWRJbjogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY291cnNlc0NvbXBsZXRlZDogMCxcbiAgICAgICAgbGVzc29uc0NvbXBsZXRlZDogMCxcbiAgICAgICAgdG90YWxIb3Vyc0xlYXJuZWQ6IDAsXG4gICAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgdXNlciBwcm9ncmVzc1xuICAgIGNvbnN0IHVzZXJQcm9ncmVzcyA9IGF3YWl0IHByaXNtYS51c2VyUHJvZ3Jlc3MuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHsgdXNlcklkIH1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAodXNlci5lbnJvbGxlZEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY291cnNlc0NvbXBsZXRlZDogMCxcbiAgICAgICAgbGVzc29uc0NvbXBsZXRlZDogMCxcbiAgICAgICAgdG90YWxIb3Vyc0xlYXJuZWQ6IDAsXG4gICAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBsZXQgY29tcGxldGVkTGVzc29ucyA9IDA7XG4gICAgbGV0IGNvdXJzZXNDb21wbGV0ZWQgPSAwO1xuICAgIGxldCB0b3RhbEhvdXJzTGVhcm5lZCA9IDA7XG4gICAgXG4gICAgLy8gR2V0IGFsbCBsZXNzb25zIGZvciBlbnJvbGxlZCBjb3Vyc2VzXG4gICAgY29uc3QgZW5yb2xsZWRDb3Vyc2VJZHMgPSB1c2VyLmVucm9sbGVkSW4ubWFwKGNvdXJzZSA9PiBjb3Vyc2UuaWQpO1xuICAgIFxuICAgIC8vIFByb2Nlc3MgZWFjaCBlbnJvbGxlZCBjb3Vyc2VcbiAgICBmb3IgKGNvbnN0IGNvdXJzZUlkIG9mIGVucm9sbGVkQ291cnNlSWRzKSB7XG4gICAgICAvLyBHZXQgYWxsIGxlc3NvbnMgZm9yIHRoaXMgY291cnNlXG4gICAgICBjb25zdCBjb3Vyc2VMZXNzb25zID0gYXdhaXQgcHJpc21hLmxlc3Nvbi5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IGNvdXJzZUlkIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDb3VudCBjb21wbGV0ZWQgbGVzc29uc1xuICAgICAgbGV0IGNvdXJzZUNvbXBsZXRlZExlc3NvbnMgPSAwO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGxlc3NvbiBvZiBjb3Vyc2VMZXNzb25zKSB7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzRW50cnkgPSB1c2VyUHJvZ3Jlc3MuZmluZChwID0+IFxuICAgICAgICAgIHAuY291cnNlSWQgPT09IGNvdXJzZUlkICYmIHAubGVzc29uSWQgPT09IGxlc3Nvbi5pZCAmJiBwLmNvbXBsZXRlZFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKHByb2dyZXNzRW50cnkpIHtcbiAgICAgICAgICBjb21wbGV0ZWRMZXNzb25zKys7XG4gICAgICAgICAgY291cnNlQ29tcGxldGVkTGVzc29ucysrO1xuICAgICAgICAgIC8vIEFkZCB0aW1lIHNwZW50IHRvIHRvdGFsIGhvdXJzIChpZiBhdmFpbGFibGUpXG4gICAgICAgICAgaWYgKHByb2dyZXNzRW50cnkudGltZVNwZW50KSB7XG4gICAgICAgICAgICB0b3RhbEhvdXJzTGVhcm5lZCArPSBwcm9ncmVzc0VudHJ5LnRpbWVTcGVudCAvIDM2MDA7IC8vIENvbnZlcnQgc2Vjb25kcyB0byBob3Vyc1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBFc3RpbWF0ZSBpZiBub3QgYXZhaWxhYmxlXG4gICAgICAgICAgICB0b3RhbEhvdXJzTGVhcm5lZCArPSAwLjU7IC8vIERlZmF1bHQgMzAgbWludXRlcyBwZXIgbGVzc29uXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGNvdXJzZSBpcyBjb21wbGV0ZWRcbiAgICAgIGlmIChjb3Vyc2VDb21wbGV0ZWRMZXNzb25zID09PSBjb3Vyc2VMZXNzb25zLmxlbmd0aCAmJiBjb3Vyc2VMZXNzb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY291cnNlc0NvbXBsZXRlZCsrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgY3VycmVudCBzdHJlYWtcbiAgICBjb25zdCBzdHJlYWtEYXlzID0gY2FsY3VsYXRlU3RyZWFrKHVzZXJQcm9ncmVzcyk7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvdXJzZXNDb21wbGV0ZWQsXG4gICAgICBsZXNzb25zQ29tcGxldGVkOiBjb21wbGV0ZWRMZXNzb25zLFxuICAgICAgdG90YWxIb3Vyc0xlYXJuZWQ6IE1hdGgucm91bmQodG90YWxIb3Vyc0xlYXJuZWQgKiAxMCkgLyAxMCwgLy8gUm91bmQgdG8gMSBkZWNpbWFsIHBsYWNlXG4gICAgICBjdXJyZW50U3RyZWFrOiBzdHJlYWtEYXlzLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIHN0YXRzOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgY291cnNlc0NvbXBsZXRlZDogMCxcbiAgICAgIGxlc3NvbnNDb21wbGV0ZWQ6IDAsXG4gICAgICB0b3RhbEhvdXJzTGVhcm5lZDogMCxcbiAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB1c2VyIHN0cmVhayBiYXNlZCBvbiB1c2VyIHByb2dyZXNzXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVN0cmVhayh1c2VyUHJvZ3Jlc3M6IGFueVtdKTogbnVtYmVyIHtcbiAgaWYgKCF1c2VyUHJvZ3Jlc3MgfHwgdXNlclByb2dyZXNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIFxuICAvLyBHZXQgYWxsIGRhdGVzIHdoZW4gdXNlciBjb21wbGV0ZWQgbGVzc29uc1xuICBjb25zdCBjb21wbGV0aW9uRGF0ZXMgPSB1c2VyUHJvZ3Jlc3NcbiAgICAuZmlsdGVyKHAgPT4gcC5jb21wbGV0ZWQpXG4gICAgLm1hcChwID0+IG5ldyBEYXRlKHAuY29tcGxldGVkQXQgfHwgcC51cGRhdGVkQXQpKVxuICAgIC5zb3J0KChhLCBiKSA9PiBiLmdldFRpbWUoKSAtIGEuZ2V0VGltZSgpKTsgLy8gU29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gIFxuICBpZiAoY29tcGxldGlvbkRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIFxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBjb21wbGV0ZWQgYW55dGhpbmcgdG9kYXlcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgXG4gIGNvbnN0IG1vc3RSZWNlbnREYXRlID0gbmV3IERhdGUoY29tcGxldGlvbkRhdGVzWzBdKTtcbiAgbW9zdFJlY2VudERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIFxuICAvLyBJZiBtb3N0IHJlY2VudCBhY3Rpdml0eSB3YXMgYmVmb3JlIHllc3RlcmRheSwgc3RyZWFrIGlzIGJyb2tlblxuICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZSh0b2RheSk7XG4gIHllc3RlcmRheS5zZXREYXRlKHllc3RlcmRheS5nZXREYXRlKCkgLSAxKTtcbiAgXG4gIGlmIChtb3N0UmVjZW50RGF0ZSA8IHllc3RlcmRheSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgc3RyZWFrIGJ5IGNvdW50aW5nIGNvbnNlY3V0aXZlIGRheXNcbiAgbGV0IHN0cmVhayA9IDE7IC8vIFN0YXJ0IHdpdGggMSBmb3IgdGhlIG1vc3QgcmVjZW50IGRheVxuICBsZXQgY3VycmVudERhdGUgPSBtb3N0UmVjZW50RGF0ZTtcbiAgXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgY29tcGxldGlvbkRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJldkRhdGUgPSBuZXcgRGF0ZShjb21wbGV0aW9uRGF0ZXNbaV0pO1xuICAgIHByZXZEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoaXMgZGF0ZSBpcyB0aGUgcHJldmlvdXMgZGF5XG4gICAgY29uc3QgZXhwZWN0ZWRQcmV2RGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlKTtcbiAgICBleHBlY3RlZFByZXZEYXRlLnNldERhdGUoZXhwZWN0ZWRQcmV2RGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICBcbiAgICBpZiAocHJldkRhdGUuZ2V0VGltZSgpID09PSBleHBlY3RlZFByZXZEYXRlLmdldFRpbWUoKSkge1xuICAgICAgc3RyZWFrKys7XG4gICAgICBjdXJyZW50RGF0ZSA9IHByZXZEYXRlO1xuICAgIH0gZWxzZSBpZiAocHJldkRhdGUuZ2V0VGltZSgpID09PSBjdXJyZW50RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgIC8vIFNhbWUgZGF5IGFjdGl2aXR5LCBza2lwXG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQnJlYWsgaW4gc3RyZWFrXG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBzdHJlYWs7XG59ICJdLCJuYW1lcyI6WyJwcmlzbWEiLCJnZXRBbGxDb3Vyc2VzIiwiY291cnNlcyIsImNvdXJzZSIsImZpbmRNYW55IiwiaW5jbHVkZSIsInJldmlld3MiLCJsZXNzb25zIiwiX2NvdW50Iiwic2VsZWN0Iiwic3R1ZGVudHMiLCJwcm9jZXNzZWRDb3Vyc2VzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImNyZWF0b3IiLCJjcmVhdG9ySWQiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJyYXRpbmciLCJsZW5ndGgiLCJOdW1iZXIiLCJyZWR1Y2UiLCJhY2MiLCJyZXZpZXciLCJ0b0ZpeGVkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImltYWdlIiwiaW1hZ2VVcmwiLCJsZXZlbCIsInByaWNlIiwiZHVyYXRpb24iLCJNYXRoIiwiY2VpbCIsImlzRmVhdHVyZWQiLCJBcnJheSIsImlzQXJyYXkiLCJ0b3BpY3MiLCJpbmNsdWRlcyIsImluc3RydWN0b3JOYW1lIiwibmFtZSIsImVycm9yIiwiY29uc29sZSIsImdldENvdXJzZUJ5SWQiLCJjb3Vyc2VJZCIsIm9yZGVyQnkiLCJvcmRlciIsImVtYWlsIiwicHJvY2Vzc2VkUmV2aWV3cyIsImF2YXRhciIsImRhdGUiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJjcmVhdGVkQXQiLCJnZXRUaW1lIiwiY29tbWVudCIsImZ1bGxEZXNjcmlwdGlvbiIsImxlc3NvbnNDb3VudCIsInRvdGFsSG91cnMiLCJsYXN0VXBkYXRlZCIsInVwZGF0ZWRBdCIsInRvTG9jYWxlU3RyaW5nIiwibW9udGgiLCJ5ZWFyIiwicmV2aWV3c0NvdW50IiwibGVhcm5pbmdQb2ludHMiLCJpbnN0cnVjdG9yIiwicm9sZSIsImJpbyIsImdldFRvdGFsU3R1ZGVudENvdW50IiwiY291bnQiLCJnZXRDb3Vyc2VFbnJvbGxtZW50Q291bnQiLCJnZXRVc2VyU3RhdHMiLCJ1c2VySWQiLCJlbnJvbGxlZEluIiwiY291cnNlc0NvbXBsZXRlZCIsImxlc3NvbnNDb21wbGV0ZWQiLCJ0b3RhbEhvdXJzTGVhcm5lZCIsImN1cnJlbnRTdHJlYWsiLCJ1c2VyUHJvZ3Jlc3MiLCJjb21wbGV0ZWRMZXNzb25zIiwiZW5yb2xsZWRDb3Vyc2VJZHMiLCJjb3Vyc2VMZXNzb25zIiwibGVzc29uIiwiY291cnNlQ29tcGxldGVkTGVzc29ucyIsInByb2dyZXNzRW50cnkiLCJmaW5kIiwicCIsImxlc3NvbklkIiwiY29tcGxldGVkIiwidGltZVNwZW50Iiwic3RyZWFrRGF5cyIsImNhbGN1bGF0ZVN0cmVhayIsInJvdW5kIiwiY29tcGxldGlvbkRhdGVzIiwiZmlsdGVyIiwiY29tcGxldGVkQXQiLCJzb3J0IiwiYSIsImIiLCJ0b2RheSIsInNldEhvdXJzIiwibW9zdFJlY2VudERhdGUiLCJ5ZXN0ZXJkYXkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInN0cmVhayIsImN1cnJlbnREYXRlIiwiaSIsInByZXZEYXRlIiwiZXhwZWN0ZWRQcmV2RGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/services/courses.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/bcryptjs","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcourses%2Froute&page=%2Fapi%2Fcourses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcourses%2Froute.ts&appDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjulianlok%2FDocuments%2Fchoice-e-learning&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();